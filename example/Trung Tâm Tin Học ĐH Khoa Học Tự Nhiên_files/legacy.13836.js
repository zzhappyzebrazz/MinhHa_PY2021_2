/*! For license information please see legacy.13836.js.LICENSE.txt */
(function(){var __webpack_modules__={3595:function(t,e){var i,r;i=function(){var t,e,i,r,n,a,o,s,c,l,p,u,h,d,g,m=function(t){t=t||{},this.version=m.version,this.urls=this.normalizeUrlsCfg(t.urls),this.email="boolean"!=typeof t.email||t.email,this.phone="boolean"!=typeof t.phone||t.phone,this.hashtag=t.hashtag||!1,this.mention=t.mention||!1,this.newWindow="boolean"!=typeof t.newWindow||t.newWindow,this.stripPrefix=this.normalizeStripPrefixCfg(t.stripPrefix),this.stripTrailingSlash="boolean"!=typeof t.stripTrailingSlash||t.stripTrailingSlash,this.decodePercentEncoding="boolean"!=typeof t.decodePercentEncoding||t.decodePercentEncoding;var e=this.mention;if(!1!==e&&"twitter"!==e&&"instagram"!==e&&"soundcloud"!==e)throw new Error("invalid `mention` cfg - see docs");var i=this.hashtag;if(!1!==i&&"twitter"!==i&&"facebook"!==i&&"instagram"!==i)throw new Error("invalid `hashtag` cfg - see docs");this.truncate=this.normalizeTruncateCfg(t.truncate),this.className=t.className||"",this.replaceFn=t.replaceFn||null,this.context=t.context||this,this.htmlParser=null,this.matchers=null,this.tagBuilder=null};return m.link=function(t,e){return new m(e).link(t)},m.parse=function(t,e){return new m(e).parse(t)},m.version="1.8.3",m.prototype={constructor:m,normalizeUrlsCfg:function(t){return null==t&&(t=!0),"boolean"==typeof t?{schemeMatches:t,wwwMatches:t,tldMatches:t}:{schemeMatches:"boolean"!=typeof t.schemeMatches||t.schemeMatches,wwwMatches:"boolean"!=typeof t.wwwMatches||t.wwwMatches,tldMatches:"boolean"!=typeof t.tldMatches||t.tldMatches}},normalizeStripPrefixCfg:function(t){return null==t&&(t=!0),"boolean"==typeof t?{scheme:t,www:t}:{scheme:"boolean"!=typeof t.scheme||t.scheme,www:"boolean"!=typeof t.www||t.www}},normalizeTruncateCfg:function(t){return"number"==typeof t?{length:t,location:"end"}:m.Util.defaults(t||{},{length:Number.POSITIVE_INFINITY,location:"end"})},parse:function(t){for(var e=this.getHtmlParser().parse(t),i=0,r=[],n=0,a=e.length;n<a;n++){var o=e[n],s=o.getType();if("element"===s&&-1!==["a","style","script"].indexOf(o.getTagName()))o.isClosing()?i=Math.max(i-1,0):i++;else if("text"===s&&0===i){var c=this.parseText(o.getText(),o.getOffset());r.push.apply(r,c)}}return r=this.compactMatches(r),this.removeUnwantedMatches(r)},compactMatches:function(t){t.sort((function(t,e){return t.getOffset()-e.getOffset()}));for(var e=0;e<t.length-1;e++){var i=t[e],r=i.getOffset(),n=i.getMatchedText().length,a=r+n;if(e+1<t.length){if(t[e+1].getOffset()===r){var o=t[e+1].getMatchedText().length>n?e:e+1;t.splice(o,1);continue}t[e+1].getOffset()<a&&t.splice(e+1,1)}}return t},removeUnwantedMatches:function(t){var e=m.Util.remove;return this.hashtag||e(t,(function(t){return"hashtag"===t.getType()})),this.email||e(t,(function(t){return"email"===t.getType()})),this.phone||e(t,(function(t){return"phone"===t.getType()})),this.mention||e(t,(function(t){return"mention"===t.getType()})),this.urls.schemeMatches||e(t,(function(t){return"url"===t.getType()&&"scheme"===t.getUrlMatchType()})),this.urls.wwwMatches||e(t,(function(t){return"url"===t.getType()&&"www"===t.getUrlMatchType()})),this.urls.tldMatches||e(t,(function(t){return"url"===t.getType()&&"tld"===t.getUrlMatchType()})),t},parseText:function(t,e){e=e||0;for(var i=this.getMatchers(),r=[],n=0,a=i.length;n<a;n++){for(var o=i[n].parseMatches(t),s=0,c=o.length;s<c;s++)o[s].setOffset(e+o[s].getOffset());r.push.apply(r,o)}return r},link:function(t){if(!t)return"";for(var e=this.parse(t),i=[],r=0,n=0,a=e.length;n<a;n++){var o=e[n];i.push(t.substring(r,o.getOffset())),i.push(this.createMatchReturnVal(o)),r=o.getOffset()+o.getMatchedText().length}return i.push(t.substring(r)),i.join("")},createMatchReturnVal:function(t){var e;return this.replaceFn&&(e=this.replaceFn.call(this.context,t)),"string"==typeof e?e:!1===e?t.getMatchedText():e instanceof m.HtmlTag?e.toAnchorString():t.buildTag().toAnchorString()},getHtmlParser:function(){var t=this.htmlParser;return t||(t=this.htmlParser=new m.htmlParser.HtmlParser),t},getMatchers:function(){if(this.matchers)return this.matchers;var t=m.matcher,e=this.getTagBuilder(),i=[new t.Hashtag({tagBuilder:e,serviceName:this.hashtag}),new t.Email({tagBuilder:e}),new t.Phone({tagBuilder:e}),new t.Mention({tagBuilder:e,serviceName:this.mention}),new t.Url({tagBuilder:e,stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash,decodePercentEncoding:this.decodePercentEncoding})];return this.matchers=i},getTagBuilder:function(){var t=this.tagBuilder;return t||(t=this.tagBuilder=new m.AnchorTagBuilder({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),t}},m.match={},m.matcher={},m.htmlParser={},m.truncate={},m.Util={abstractMethod:function(){throw"abstract"},trimRegex:/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,assign:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},defaults:function(t,e){for(var i in e)e.hasOwnProperty(i)&&void 0===t[i]&&(t[i]=e[i]);return t},extend:function(t,e){var i,r=t.prototype,n=function(){};n.prototype=r,i=e.hasOwnProperty("constructor")?e.constructor:function(){r.constructor.apply(this,arguments)};var a=i.prototype=new n;return a.constructor=i,a.superclass=r,delete e.constructor,m.Util.assign(a,e),i},ellipsis:function(t,e,i){var r;return t.length>e&&(null==i?(i="&hellip;",r=3):r=i.length,t=t.substring(0,e-r)+i),t},indexOf:function(t,e){if(Array.prototype.indexOf)return t.indexOf(e);for(var i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return-1},remove:function(t,e){for(var i=t.length-1;i>=0;i--)!0===e(t[i])&&t.splice(i,1)},splitAndCapture:function(t,e){if(!e.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var i,r=[],n=0;i=e.exec(t);)r.push(t.substring(n,i.index)),r.push(i[0]),n=i.index+i[0].length;return r.push(t.substring(n)),r},trim:function(t){return t.replace(this.trimRegex,"")}},m.HtmlTag=m.Util.extend(Object,{whitespaceRegex:/\s+/,constructor:function(t){m.Util.assign(this,t),this.innerHtml=this.innerHtml||this.innerHTML},setTagName:function(t){return this.tagName=t,this},getTagName:function(){return this.tagName||""},setAttr:function(t,e){return this.getAttrs()[t]=e,this},getAttr:function(t){return this.getAttrs()[t]},setAttrs:function(t){var e=this.getAttrs();return m.Util.assign(e,t),this},getAttrs:function(){return this.attrs||(this.attrs={})},setClass:function(t){return this.setAttr("class",t)},addClass:function(t){for(var e,i=this.getClass(),r=this.whitespaceRegex,n=m.Util.indexOf,a=i?i.split(r):[],o=t.split(r);e=o.shift();)-1===n(a,e)&&a.push(e);return this.getAttrs().class=a.join(" "),this},removeClass:function(t){for(var e,i=this.getClass(),r=this.whitespaceRegex,n=m.Util.indexOf,a=i?i.split(r):[],o=t.split(r);a.length&&(e=o.shift());){var s=n(a,e);-1!==s&&a.splice(s,1)}return this.getAttrs().class=a.join(" "),this},getClass:function(){return this.getAttrs().class||""},hasClass:function(t){return-1!==(" "+this.getClass()+" ").indexOf(" "+t+" ")},setInnerHtml:function(t){return this.innerHtml=t,this},getInnerHtml:function(){return this.innerHtml||""},toAnchorString:function(){var t=this.getTagName(),e=this.buildAttrsStr();return["<",t,e=e?" "+e:"",">",this.getInnerHtml(),"</",t,">"].join("")},buildAttrsStr:function(){if(!this.attrs)return"";var t=this.getAttrs(),e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i+'="'+t[i]+'"');return e.join(" ")}}),m.RegexLib=(h="(?:["+(p="0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９")+"]{1,3}\\.){3}["+p+"]{1,3}",d="["+(u="A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ"+p)+"](?:["+u+"\\-]{0,61}["+u+"])?",g=function(t){return"(?=("+d+"))\\"+t},{alphaNumericCharsStr:u,alphaCharsStr:"A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",getDomainNameStr:function(t){return"(?:"+g(t)+"(?:\\."+g(t+1)+"){0,126}|"+h+")"}}),m.AnchorTagBuilder=m.Util.extend(Object,{constructor:function(t){t=t||{},this.newWindow=t.newWindow,this.truncate=t.truncate,this.className=t.className},build:function(t){return new m.HtmlTag({tagName:"a",attrs:this.createAttrs(t),innerHtml:this.processAnchorText(t.getAnchorText())})},createAttrs:function(t){var e={href:t.getAnchorHref()},i=this.createCssClass(t);return i&&(e.class=i),this.newWindow&&(e.target="_blank",e.rel="noopener noreferrer"),this.truncate&&this.truncate.length&&this.truncate.length<t.getAnchorText().length&&(e.title=t.getAnchorHref()),e},createCssClass:function(t){var e=this.className;if(e){for(var i=[e],r=t.getCssClassSuffixes(),n=0,a=r.length;n<a;n++)i.push(e+"-"+r[n]);return i.join(" ")}return""},processAnchorText:function(t){return this.doTruncate(t)},doTruncate:function(t){var e=this.truncate;if(!e||!e.length)return t;var i=e.length,r=e.location;return"smart"===r?m.truncate.TruncateSmart(t,i):"middle"===r?m.truncate.TruncateMiddle(t,i):m.truncate.TruncateEnd(t,i)}}),m.htmlParser.HtmlParser=m.Util.extend(Object,{htmlRegex:(n=/!--([\s\S]+?)--/,a=/[0-9a-zA-Z][0-9a-zA-Z:]*/,o=/[^\s"'>\/=\x00-\x1F\x7F]+/,s=/(?:"[^"]*?"|'[^']*?'|[^'"=<>`\s]+)/,c="(?:\\s*?=\\s*?"+s.source+")?",l=function(t){return"(?=("+o.source+"))\\"+t+c},new RegExp(["(?:","<(!DOCTYPE)","(?:","\\s+","(?:",l(2),"|",s.source+")",")*",">",")","|","(?:","<(/)?","(?:",n.source,"|","(?:","("+a.source+")","\\s*/?",")","|","(?:","("+a.source+")","\\s+","(?:","(?:\\s+|\\b)",l(7),")*","\\s*/?",")",")",">",")"].join(""),"gi")),htmlCharacterEntitiesRegex:/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,parse:function(t){for(var e,i,r=this.htmlRegex,n=0,a=[];null!==(e=r.exec(t));){var o=e[0],s=e[4],c=e[1]||e[5]||e[6],l=!!e[3],p=e.index,u=t.substring(n,p);u&&(i=this.parseTextAndEntityNodes(n,u),a.push.apply(a,i)),s?a.push(this.createCommentNode(p,o,s)):a.push(this.createElementNode(p,o,c,l)),n=p+o.length}if(n<t.length){var h=t.substring(n);h&&(i=this.parseTextAndEntityNodes(n,h)).forEach((function(t){a.push(t)}))}return a},parseTextAndEntityNodes:function(t,e){for(var i=[],r=m.Util.splitAndCapture(e,this.htmlCharacterEntitiesRegex),n=0,a=r.length;n<a;n+=2){var o=r[n],s=r[n+1];o&&(i.push(this.createTextNode(t,o)),t+=o.length),s&&(i.push(this.createEntityNode(t,s)),t+=s.length)}return i},createCommentNode:function(t,e,i){return new m.htmlParser.CommentNode({offset:t,text:e,comment:m.Util.trim(i)})},createElementNode:function(t,e,i,r){return new m.htmlParser.ElementNode({offset:t,text:e,tagName:i.toLowerCase(),closing:r})},createEntityNode:function(t,e){return new m.htmlParser.EntityNode({offset:t,text:e})},createTextNode:function(t,e){return new m.htmlParser.TextNode({offset:t,text:e})}}),m.htmlParser.HtmlNode=m.Util.extend(Object,{offset:void 0,text:void 0,constructor:function(t){if(m.Util.assign(this,t),null==this.offset)throw new Error("`offset` cfg required");if(null==this.text)throw new Error("`text` cfg required")},getType:m.Util.abstractMethod,getOffset:function(){return this.offset},getText:function(){return this.text}}),m.htmlParser.CommentNode=m.Util.extend(m.htmlParser.HtmlNode,{comment:"",getType:function(){return"comment"},getComment:function(){return this.comment}}),m.htmlParser.ElementNode=m.Util.extend(m.htmlParser.HtmlNode,{tagName:"",closing:!1,getType:function(){return"element"},getTagName:function(){return this.tagName},isClosing:function(){return this.closing}}),m.htmlParser.EntityNode=m.Util.extend(m.htmlParser.HtmlNode,{getType:function(){return"entity"}}),m.htmlParser.TextNode=m.Util.extend(m.htmlParser.HtmlNode,{getType:function(){return"text"}}),m.match.Match=m.Util.extend(Object,{constructor:function(t){if(null==t.tagBuilder)throw new Error("`tagBuilder` cfg required");if(null==t.matchedText)throw new Error("`matchedText` cfg required");if(null==t.offset)throw new Error("`offset` cfg required");this.tagBuilder=t.tagBuilder,this.matchedText=t.matchedText,this.offset=t.offset},getType:m.Util.abstractMethod,getMatchedText:function(){return this.matchedText},setOffset:function(t){this.offset=t},getOffset:function(){return this.offset},getAnchorHref:m.Util.abstractMethod,getAnchorText:m.Util.abstractMethod,getCssClassSuffixes:function(){return[this.getType()]},buildTag:function(){return this.tagBuilder.build(this)}}),m.match.Email=m.Util.extend(m.match.Match,{constructor:function(t){if(m.match.Match.prototype.constructor.call(this,t),!t.email)throw new Error("`email` cfg required");this.email=t.email},getType:function(){return"email"},getEmail:function(){return this.email},getAnchorHref:function(){return"mailto:"+this.email},getAnchorText:function(){return this.email}}),m.match.Hashtag=m.Util.extend(m.match.Match,{constructor:function(t){if(m.match.Match.prototype.constructor.call(this,t),!t.hashtag)throw new Error("`hashtag` cfg required");this.serviceName=t.serviceName,this.hashtag=t.hashtag},getType:function(){return"hashtag"},getServiceName:function(){return this.serviceName},getHashtag:function(){return this.hashtag},getAnchorHref:function(){var t=this.serviceName,e=this.hashtag;switch(t){case"twitter":return"https://twitter.com/hashtag/"+e;case"facebook":return"https://www.facebook.com/hashtag/"+e;case"instagram":return"https://instagram.com/explore/tags/"+e;default:throw new Error("Unknown service name to point hashtag to: ",t)}},getAnchorText:function(){return"#"+this.hashtag}}),m.match.Phone=m.Util.extend(m.match.Match,{constructor:function(t){if(m.match.Match.prototype.constructor.call(this,t),!t.number)throw new Error("`number` cfg required");if(null==t.plusSign)throw new Error("`plusSign` cfg required");this.number=t.number,this.plusSign=t.plusSign},getType:function(){return"phone"},getNumber:function(){return this.number},getAnchorHref:function(){return"tel:"+(this.plusSign?"+":"")+this.number},getAnchorText:function(){return this.matchedText}}),m.match.Mention=m.Util.extend(m.match.Match,{constructor:function(t){if(m.match.Match.prototype.constructor.call(this,t),!t.serviceName)throw new Error("`serviceName` cfg required");if(!t.mention)throw new Error("`mention` cfg required");this.mention=t.mention,this.serviceName=t.serviceName},getType:function(){return"mention"},getMention:function(){return this.mention},getServiceName:function(){return this.serviceName},getAnchorHref:function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;case"soundcloud":return"https://soundcloud.com/"+this.mention;default:throw new Error("Unknown service name to point mention to: ",this.serviceName)}},getAnchorText:function(){return"@"+this.mention},getCssClassSuffixes:function(){var t=m.match.Match.prototype.getCssClassSuffixes.call(this),e=this.getServiceName();return e&&t.push(e),t}}),m.match.Url=m.Util.extend(m.match.Match,{constructor:function(t){if(m.match.Match.prototype.constructor.call(this,t),"scheme"!==t.urlMatchType&&"www"!==t.urlMatchType&&"tld"!==t.urlMatchType)throw new Error('`urlMatchType` cfg must be one of: "scheme", "www", or "tld"');if(!t.url)throw new Error("`url` cfg required");if(null==t.protocolUrlMatch)throw new Error("`protocolUrlMatch` cfg required");if(null==t.protocolRelativeMatch)throw new Error("`protocolRelativeMatch` cfg required");if(null==t.stripPrefix)throw new Error("`stripPrefix` cfg required");if(null==t.stripTrailingSlash)throw new Error("`stripTrailingSlash` cfg required");if(null==t.decodePercentEncoding)throw new Error("`decodePercentEncoding` cfg required");this.urlMatchType=t.urlMatchType,this.url=t.url,this.protocolUrlMatch=t.protocolUrlMatch,this.protocolRelativeMatch=t.protocolRelativeMatch,this.stripPrefix=t.stripPrefix,this.stripTrailingSlash=t.stripTrailingSlash,this.decodePercentEncoding=t.decodePercentEncoding},schemePrefixRegex:/^(https?:\/\/)?/i,wwwPrefixRegex:/^(https?:\/\/)?(www\.)?/i,protocolRelativeRegex:/^\/\//,protocolPrepended:!1,getType:function(){return"url"},getUrlMatchType:function(){return this.urlMatchType},getUrl:function(){var t=this.url;return this.protocolRelativeMatch||this.protocolUrlMatch||this.protocolPrepended||(t=this.url="http://"+t,this.protocolPrepended=!0),t},getAnchorHref:function(){return this.getUrl().replace(/&amp;/g,"&")},getAnchorText:function(){var t=this.getMatchedText();return this.protocolRelativeMatch&&(t=this.stripProtocolRelativePrefix(t)),this.stripPrefix.scheme&&(t=this.stripSchemePrefix(t)),this.stripPrefix.www&&(t=this.stripWwwPrefix(t)),this.stripTrailingSlash&&(t=this.removeTrailingSlash(t)),this.decodePercentEncoding&&(t=this.removePercentEncoding(t)),t},stripSchemePrefix:function(t){return t.replace(this.schemePrefixRegex,"")},stripWwwPrefix:function(t){return t.replace(this.wwwPrefixRegex,"$1")},stripProtocolRelativePrefix:function(t){return t.replace(this.protocolRelativeRegex,"")},removeTrailingSlash:function(t){return"/"===t.charAt(t.length-1)&&(t=t.slice(0,-1)),t},removePercentEncoding:function(t){try{return decodeURIComponent(t.replace(/%22/gi,"&quot;").replace(/%26/gi,"&amp;").replace(/%27/gi,"&#39;").replace(/%3C/gi,"&lt;").replace(/%3E/gi,"&gt;"))}catch(e){return t}}}),m.tldRegex=/(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|northwesternmutual|travelersinsurance|vermögensberatung|xn--3oq18vl8pn36a|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|vermögensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbc0a9azcg|xn--nqv7fs00ema|afamilycompany|americanfamily|bananarepublic|cancerresearch|cookingchannel|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--jlq61u9w7b|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|international|lifeinsurance|orientexpress|spreadbetting|travelchannel|wolterskluwer|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|pamperedchef|scholarships|versicherung|xn--3e0b707e|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|foodnetwork|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|rightathome|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--3bst00m|xn--3ds443g|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--pbt977c|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b|சிங்கப்பூர்|accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nationwide|newholland|nextdirect|onyourside|properties|protection|prudential|realestate|republican|restaurant|schaeffler|swiftcover|tatamotors|technology|telefonica|university|vistaprint|vlaanderen|volkswagen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|alfaromeo|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|frontdoor|fujixerox|furniture|goldpoint|goodhands|hisamitsu|homedepot|homegoods|homesense|honeywell|institute|insurance|kuokgroup|ladbrokes|lancaster|landrover|lifestyle|marketing|marshalls|mcdonalds|melbourne|microsoft|montblanc|panasonic|passagens|pramerica|richardli|scjohnson|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--nqv7f|xn--p1acf|xn--tckwe|xn--vhquv|yodobashi|abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|budapest|builders|business|capetown|catering|catholic|chrysler|cipriani|cityeats|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|esurance|everbank|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|maserati|mckinsey|memorial|mortgage|movistar|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|showtime|softbank|software|stcgroup|supplies|symantec|telecity|training|uconnect|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama|السعودية|abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|bugatti|capital|caravan|careers|cartier|channel|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|guitars|hamburg|hangout|hitachi|holiday|hosting|hoteles|hotmail|hyundai|iselect|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lancome|lanxess|lasalle|latrobe|leclerc|liaison|limited|lincoln|markets|metlife|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|panerai|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|shriram|singles|spiegel|staples|starhub|statoil|storage|support|surgery|systems|temasek|theater|theatre|tickets|tiffany|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|yamaxun|youtube|zuerich|католик|الجزائر|العليان|پاکستان|كاثوليك|موبايلي|இந்தியா|abarth|abbott|abbvie|active|africa|agency|airbus|airtel|alipay|alsace|alstom|anquan|aramco|author|bayern|beauty|berlin|bharti|blanco|bostik|boston|broker|camera|career|caseih|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kinder|kindle|kosher|lancia|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|mobily|monash|mormon|moscow|museum|mutual|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|piaget|pictet|quebec|racing|realty|reisen|repair|report|review|rocher|rogers|ryukyu|safety|sakura|sanofi|school|schule|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|vuelos|walter|warman|webcam|xihuan|xperia|yachts|yandex|zappos|москва|онлайн|ابوظبي|ارامكو|الاردن|المغرب|امارات|فلسطين|مليسيا|இலங்கை|ファッション|actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|boots|bosch|build|canon|cards|chase|cheap|chloe|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|dodge|drive|dubai|earth|edeka|email|epost|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glade|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|intel|irish|iveco|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|linde|lipsy|lixil|loans|locus|lotte|lotto|lupin|macys|mango|media|miami|money|mopar|movie|nadex|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vista|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo|zippo|ایران|بازار|بھارت|سودان|سورية|همراه|संगठन|বাংলা|భారత్|嘉里大酒店|aarp|able|adac|aero|aigo|akdn|ally|amex|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|doha|duck|duns|dvag|erni|fage|fail|fans|farm|fast|fiat|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|hgtv|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|loft|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|mtpc|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|raid|read|reit|rent|rest|rich|rmit|room|rsvp|ruhr|safe|sale|sapo|sarl|save|saxo|scor|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone|дети|сайт|بيتك|تونس|شبكة|عراق|عمان|موقع|भारत|ভারত|ਭਾਰਤ|ભારત|ලංකා|グーグル|クラウド|ポイント|大众汽车|组织机构|電訊盈科|香格里拉|aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bnl|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|cbs|ceb|ceo|cfa|cfd|com|crs|csc|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|htc|ibm|ice|icu|ifm|ing|ink|int|ist|itv|iwc|jcb|jcp|jio|jlc|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|lol|lpl|ltd|man|mba|mcd|med|men|meo|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|off|one|ong|onl|ooo|org|ott|ovh|pay|pet|pid|pin|pnc|pro|pru|pub|pwc|qvc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|sca|scb|ses|sew|sex|sfr|ski|sky|soy|srl|srt|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip|бел|ком|қаз|мкд|мон|орг|рус|срб|укр|հայ|קום|قطر|كوم|مصر|कॉम|नेट|คอม|ไทย|ストア|セール|みんな|中文网|天主教|我爱你|新加坡|淡马锡|诺基亚|飞利浦|ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|ελ|бг|ею|рф|გე|닷넷|닷컴|삼성|한국|コム|世界|中信|中国|中國|企业|佛山|信息|健康|八卦|公司|公益|台湾|台灣|商城|商店|商标|嘉里|在线|大拿|娱乐|家電|工行|广东|微博|慈善|手机|手表|政务|政府|新闻|时尚|書籍|机构|游戏|澳門|点看|珠宝|移动|网址|网店|网站|网络|联通|谷歌|购物|通販|集团|食品|餐厅|香港)/,m.matcher.Matcher=m.Util.extend(Object,{constructor:function(t){if(!t.tagBuilder)throw new Error("`tagBuilder` cfg required");this.tagBuilder=t.tagBuilder},parseMatches:m.Util.abstractMethod}),m.matcher.Email=m.Util.extend(m.matcher.Matcher,{matcherRegex:(t=m.RegexLib.alphaNumericCharsStr+"!#$%&'*+\\-\\/=?^_`{|}~",e=new RegExp("(?:["+t+"](?:["+t+']|\\.(?!\\.|@))*|\\"['+t+'\\s"(),:;<>@\\[\\].]+\\")@'),i=m.RegexLib.getDomainNameStr,r=m.tldRegex,new RegExp([e.source,i(1),"\\.",r.source].join(""),"gi")),parseMatches:function(t){for(var e,i=this.matcherRegex,r=this.tagBuilder,n=[];null!==(e=i.exec(t));){var a=e[0];n.push(new m.match.Email({tagBuilder:r,matchedText:a,offset:e.index,email:a}))}return n}}),m.matcher.Hashtag=m.Util.extend(m.matcher.Matcher,{matcherRegex:new RegExp("#[_"+m.RegexLib.alphaNumericCharsStr+"]{1,139}","g"),nonWordCharRegex:new RegExp("[^"+m.RegexLib.alphaNumericCharsStr+"]"),constructor:function(t){m.matcher.Matcher.prototype.constructor.call(this,t),this.serviceName=t.serviceName},parseMatches:function(t){for(var e,i=this.matcherRegex,r=this.nonWordCharRegex,n=this.serviceName,a=this.tagBuilder,o=[];null!==(e=i.exec(t));){var s=e.index,c=t.charAt(s-1);if(0===s||r.test(c)){var l=e[0],p=e[0].slice(1);o.push(new m.match.Hashtag({tagBuilder:a,matchedText:l,offset:s,serviceName:n,hashtag:p}))}}return o}}),m.matcher.Phone=m.Util.extend(m.matcher.Matcher,{matcherRegex:/(?:(?:(?:(\+)?\d{1,3}[-\040.]?)?\(?\d{3}\)?[-\040.]?\d{3}[-\040.]?\d{4})|(?:(\+)(?:9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)[-\040.]?(?:\d[-\040.]?){6,12}\d+))([,;]+[0-9]+#?)*/g,parseMatches:function(t){for(var e,i=this.matcherRegex,r=this.tagBuilder,n=[];null!==(e=i.exec(t));){var a=e[0],o=a.replace(/[^0-9,;#]/g,""),s=!(!e[1]&&!e[2]),c=0==e.index?"":t.substr(e.index-1,1),l=t.substr(e.index+a.length,1),p=!c.match(/\d/)&&!l.match(/\d/);this.testMatch(e[3])&&this.testMatch(a)&&p&&n.push(new m.match.Phone({tagBuilder:r,matchedText:a,offset:e.index,number:o,plusSign:s}))}return n},testMatch:function(t){return/\D/.test(t)}}),m.matcher.Mention=m.Util.extend(m.matcher.Matcher,{matcherRegexes:{twitter:new RegExp("@[_"+m.RegexLib.alphaNumericCharsStr+"]{1,20}","g"),instagram:new RegExp("@[_."+m.RegexLib.alphaNumericCharsStr+"]{1,50}","g"),soundcloud:new RegExp("@[_."+m.RegexLib.alphaNumericCharsStr+"-]{1,50}","g")},nonWordCharRegex:new RegExp("[^"+m.RegexLib.alphaNumericCharsStr+"]"),constructor:function(t){m.matcher.Matcher.prototype.constructor.call(this,t),this.serviceName=t.serviceName},parseMatches:function(t){var e,i=this.matcherRegexes[this.serviceName],r=this.nonWordCharRegex,n=this.serviceName,a=this.tagBuilder,o=[];if(!i)return o;for(;null!==(e=i.exec(t));){var s=e.index,c=t.charAt(s-1);if(0===s||r.test(c)){var l=e[0].replace(/\.+$/g,""),p=l.slice(1);o.push(new m.match.Mention({tagBuilder:a,matchedText:l,offset:s,serviceName:n,mention:p}))}}return o}}),m.matcher.Url=m.Util.extend(m.matcher.Matcher,{matcherRegex:function(){var t=m.RegexLib.getDomainNameStr,e=m.tldRegex,i=m.RegexLib.alphaNumericCharsStr,r=new RegExp("[/?#](?:["+i+"\\-+&@#/%=~_()|'$*\\[\\]?!:,.;✓]*["+i+"\\-+&@#/%=~_()|'$*\\[\\]✓])?");return new RegExp(["(?:","(",/(?:[A-Za-z][-.+A-Za-z0-9]{0,63}:(?![A-Za-z][-.+A-Za-z0-9]{0,63}:\/\/)(?!\d+\/?)(?:\/\/)?)/.source,t(2),")","|","(","(//)?",/(?:www\.)/.source,t(6),")","|","(","(//)?",t(10)+"\\.",e.source,"(?![-"+i+"])",")",")","(?::[0-9]+)?","(?:"+r.source+")?"].join(""),"gi")}(),wordCharRegExp:new RegExp("["+m.RegexLib.alphaNumericCharsStr+"]"),openParensRe:/\(/g,closeParensRe:/\)/g,constructor:function(t){if(m.matcher.Matcher.prototype.constructor.call(this,t),null==t.stripPrefix)throw new Error("`stripPrefix` cfg required");if(null==t.stripTrailingSlash)throw new Error("`stripTrailingSlash` cfg required");this.stripPrefix=t.stripPrefix,this.stripTrailingSlash=t.stripTrailingSlash,this.decodePercentEncoding=t.decodePercentEncoding},parseMatches:function(t){for(var e,i=this.matcherRegex,r=this.stripPrefix,n=this.stripTrailingSlash,a=this.decodePercentEncoding,o=this.tagBuilder,s=[];null!==(e=i.exec(t));){var c=e[0],l=e[1],p=e[4],u=e[5],h=e[9],d=e.index,g=u||h,f=t.charAt(d-1);if(m.matcher.UrlMatchValidator.isValid(c,l)&&!(d>0&&"@"===f||d>0&&g&&this.wordCharRegExp.test(f))){if(/\?$/.test(c)&&(c=c.substr(0,c.length-1)),this.matchHasUnbalancedClosingParen(c))c=c.substr(0,c.length-1);else{var b=this.matchHasInvalidCharAfterTld(c,l);b>-1&&(c=c.substr(0,b))}var y=l?"scheme":p?"www":"tld",v=!!l;s.push(new m.match.Url({tagBuilder:o,matchedText:c,offset:d,urlMatchType:y,url:c,protocolUrlMatch:v,protocolRelativeMatch:!!g,stripPrefix:r,stripTrailingSlash:n,decodePercentEncoding:a}))}}return s},matchHasUnbalancedClosingParen:function(t){if(")"===t.charAt(t.length-1)){var e=t.match(this.openParensRe),i=t.match(this.closeParensRe);if((e&&e.length||0)<(i&&i.length||0))return!0}return!1},matchHasInvalidCharAfterTld:function(t,e){if(!t)return-1;var i=0;e&&(i=t.indexOf(":"),t=t.slice(i));var r=m.RegexLib.alphaNumericCharsStr,n=new RegExp("^((.?//)?[-."+r+"]*[-"+r+"]\\.[-"+r+"]+)").exec(t);return null===n?-1:(i+=n[1].length,t=t.slice(n[1].length),/^[^-.A-Za-z0-9:\/?#]/.test(t)?i:-1)}}),m.matcher.UrlMatchValidator={hasFullProtocolRegex:/^[A-Za-z][-.+A-Za-z0-9]*:\/\//,uriSchemeRegex:/^[A-Za-z][-.+A-Za-z0-9]*:/,hasWordCharAfterProtocolRegex:new RegExp(":[^\\s]*?["+m.RegexLib.alphaCharsStr+"]"),ipRegex:/[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?(:[0-9]*)?\/?$/,isValid:function(t,e){return!(e&&!this.isValidUriScheme(e)||this.urlMatchDoesNotHaveProtocolOrDot(t,e)||this.urlMatchDoesNotHaveAtLeastOneWordChar(t,e)&&!this.isValidIpAddress(t)||this.containsMultipleDots(t))},isValidIpAddress:function(t){var e=new RegExp(this.hasFullProtocolRegex.source+this.ipRegex.source);return null!==t.match(e)},containsMultipleDots:function(t){var e=t;return this.hasFullProtocolRegex.test(t)&&(e=t.split("://")[1]),e.split("/")[0].indexOf("..")>-1},isValidUriScheme:function(t){var e=t.match(this.uriSchemeRegex)[0].toLowerCase();return"javascript:"!==e&&"vbscript:"!==e},urlMatchDoesNotHaveProtocolOrDot:function(t,e){return!(!t||e&&this.hasFullProtocolRegex.test(e)||-1!==t.indexOf("."))},urlMatchDoesNotHaveAtLeastOneWordChar:function(t,e){return!(!t||!e||this.hasWordCharAfterProtocolRegex.test(t))}},m.truncate.TruncateEnd=function(t,e,i){return m.Util.ellipsis(t,e,i)},m.truncate.TruncateMiddle=function(t,e,i){if(t.length<=e)return t;var r,n;null==i?(i="&hellip;",r=8,n=3):(r=i.length,n=i.length);var a=e-n,o="";return a>0&&(o=t.substr(-1*Math.floor(a/2))),(t.substr(0,Math.ceil(a/2))+i+o).substr(0,a+r)},m.truncate.TruncateSmart=function(t,e,i){var r,n;null==i?(i="&hellip;",n=3,r=8):(n=i.length,r=i.length);var a=function(t){var e="";return t.scheme&&t.host&&(e+=t.scheme+"://"),t.host&&(e+=t.host),t.path&&(e+="/"+t.path),t.query&&(e+="?"+t.query),t.fragment&&(e+="#"+t.fragment),e},o=function(t,e){var r=e/2,n=Math.ceil(r),a=-1*Math.floor(r),o="";return a<0&&(o=t.substr(a)),t.substr(0,n)+i+o};if(t.length<=e)return t;var s=e-n,c=function(t){var e={},i=t,r=i.match(/^([a-z]+):\/\//i);return r&&(e.scheme=r[1],i=i.substr(r[0].length)),(r=i.match(/^(.*?)(?=(\?|#|\/|$))/i))&&(e.host=r[1],i=i.substr(r[0].length)),(r=i.match(/^\/(.*?)(?=(\?|#|$))/i))&&(e.path=r[1],i=i.substr(r[0].length)),(r=i.match(/^\?(.*?)(?=(#|$))/i))&&(e.query=r[1],i=i.substr(r[0].length)),(r=i.match(/^#(.*?)$/i))&&(e.fragment=r[1]),e}(t);if(c.query){var l=c.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);l&&(c.query=c.query.substr(0,l[1].length),t=a(c))}if(t.length<=e)return t;if(c.host&&(c.host=c.host.replace(/^www\./,""),t=a(c)),t.length<=e)return t;var p="";if(c.host&&(p+=c.host),p.length>=s)return c.host.length==e?(c.host.substr(0,e-n)+i).substr(0,s+r):o(p,s).substr(0,s+r);var u="";if(c.path&&(u+="/"+c.path),c.query&&(u+="?"+c.query),u){if((p+u).length>=s)return(p+u).length==e?(p+u).substr(0,e):(p+o(u,s-p.length)).substr(0,s+r);p+=u}if(c.fragment){var h="#"+c.fragment;if((p+h).length>=s)return(p+h).length==e?(p+h).substr(0,e):(p+o(h,s-p.length)).substr(0,s+r);p+=h}if(c.scheme&&c.host){var d=c.scheme+"://";if((p+d).length<s)return(d+p).substr(0,e)}if(p.length<=e)return p;var g="";return s>0&&(g=p.substr(-1*Math.floor(s/2))),(p.substr(0,Math.ceil(s/2))+i+g).substr(0,s+r)},m},void 0===(r=i.apply(e,[]))||(t.exports=r)},5892:function(t){t.exports={homeUrl:"https://www.purechat.com",apiUrl:"https://api.purechat.com",cdnUrl:"https://prod.purechatcdn.com",apiCdnServerUrl:"https://api-cdn.purechat.com",trackingOperatorApiUrl:"https://visitors.purechat.com",adminApiUrl:"https://admin-api.purechat.com",googleEmbedApiKey:"AIzaSyBEorMC35CFuuH2caNZhAeFGRtqwbWE4Mc",cdnServerUrl:"https://prod.purechatcdn.com",customerIoSiteId:"d4a6e4df3666072e5b55",dashboardRootUrl:"https://app.purechat.com",apiRootUrl:"https://api.purechat.com",widgetApiRootUrl:"https://widgetapi.purechat.com",filesRootUrl:"https://files.purechat.com",pingQueueUrl:"https://checkin.purechat.com/api/checkin",authCookieName:"purechatAuthv5",pidCookieName:"prodvtftwPID",pingInterval:5e3,sessionTimeout:12e5,recaptchaClientKey:"6LeJv-MUAAAAADCcAJn1EW3l5bMoqAxPfCO898oc",adminTokenName:"prodAdminToken"}},2183:function(t,e,i){"use strict";var r=i(7410),n=i.n(r),a=i(6083),o=i.n(a),s=i(4411),c=i.n(s),l=(i(7894),i(4379)),p=i.n(l),u=["purechat-display-inline-block","purechat-display-flex","purechat-display-block","purechat-display-none"];p().fn.purechatDisplay=function(t){return this.each((function(e,i){if(i&&(u.forEach((function(t){!function(t,e){if(t.classList&&"svg"!==t.tagName.toLowerCase())t.classList.remove(e);else{var i=(t.getAttribute("class")||"").split(" "),r=i.indexOf(e);r>-1&&(i.splice(r,1),t.setAttribute("class",i.join(" ")))}}(i,t)})),t)){var r="purechat-display-".concat(t);-1!==u.indexOf(r)&&function(t,e){if(t.classList&&"svg"!==t.tagName.toLowerCase())t.classList.add(e);else{var i=(t.getAttribute("class")||"").split(" ");if(i.indexOf(e)>-1)return;i.push(e),t.setAttribute("class",i.join(" "))}}(i,r)}}))},p().fn.xshow=function(){this.purechatDisplay.call(this)},p().fn.xhide=function(){this.purechatDisplay.call(this,"none")};var h=["animationIterationCount","columnCount","fillOpacity","flexGrow","flexShrink","fontWeight","lineHeight","opacity","order","orphans","widows","zIndex","zoom"],d=p().fn.css,g=p().fn.height,m=p().fn.width;function f(t){return"number"==typeof t&&-1===h.indexOf(t)?"".concat(t,"px"):t}function b(t){return t.replace(/([A-Z])/g,(function(t){return"-".concat(t[0].toLowerCase())}))}p().fn.purechatCss=function(t,e){if(1===arguments.length&&"string"==typeof t)return d.apply(this,arguments);var i=this.get(0);if(!i)return this;var r=f(e);if("string"==typeof t)i.style.setProperty(t,r,"important");else if(p().isPlainObject(t)){var n=t;Object.keys(n).forEach((function(t){r=["z-index","zIndex"].indexOf(t)<0?f(n[t]):n[t];var e=b(t),a=new RegExp("".concat(escape(e),"\\s*:\\s*").concat(escape(r),"(\\s*;)?"),"gmi"),o="".concat(e,":").concat(r," !important;");i.style.cssText=i.style.cssText.replace(a,""),i.style.cssText+=o}))}return this},p().fn.purechatHeight=function(t){return 0===arguments.length||"boolean"==typeof t?g.apply(this,arguments):this.purechatCss("height",t)},p().fn.purechatWidth=function(t){return 0===arguments.length||"boolean"==typeof t?m.apply(this,arguments):this.purechatCss("width",t)},p().fn.xcss=p().fn.purechatCss,p().fn.height=p().fn.purechatHeight,p().fn.width=p().fn.purechatWidth;var y=window.location.hostname,v=/purechat\.(com|me)$/.test(y)&&y.indexOf("test.purechat.com")<0,w=(v?window.pc$||window.$:window.pc$,v?o():o().noConflict()),_=v?c():c().noConflict(),C=i(2989),x=i.n(C),k={chrome:51,firefox:47,ios_firefox:7,ie:11,safari:5},j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch(t.toLowerCase()){case"windows":return 1;case"mac os":return 2;case"ubuntu":return 3;case"android":return 4;case"ios":return 5;default:return 0}};function I(){var t=new(x()),e=t.getBrowser(),i=t.getOS(),r=t.getDevice();return{name:e.name,version:parseInt(e.major,10),os:i.name,osType:j(i.name),isMobile:"mobile"===r.type}}document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp"),I().name;var S=i(3198),P=i.n(S),T=window.CSS&&window.CSS.supports&&window.CSS.supports("(--foo: red)");function R(t,e,i){var r=n().isNumber(e)?e:90,a=n().isNumber(i)?i:90;return t.isDark()?t.lighten(r).desaturate(a):t.darken(r).desaturate(a)}function M(t,e,i){var r=n().isNumber(e)?e:90,a=n().isNumber(i)?i:90;return t.getLuminance()<.5?t.lighten(r).desaturate(a):t.darken(r).desaturate(a)}var A=i(3595),E=i.n(A),O=/(<br>|<br\/>)/gi,W=new(E().matcher.Url)({stripPrefix:!0,stripTrailingSlash:!0,tagBuilder:{},decodePercentEncoding:!0}),D={linkify:function(t){return t?(t=(t=t.replace(/&amp;/gm,"&")).replace(O," <br/> "),E().link(t,{stripPrefix:!1,className:"purechat-message-link"})):null},getLinks:function(t){var e=t.split(" ").filter((function(t){return t.indexOf("@")<0})).join(" ");return W.parseMatches(e).map((function(t){return t.url}))},formatWhitespace:function(t){return t.replace(/\n|\r/gm," <br/> ").replace(/\t/gm," &nbsp; &nbsp; ").replace(/\s\s/g," &nbsp;")},GaEvent:function(t,e,i){var r="GAEventCategory",n=!1,a=function(){if(window._gaq||window.ga){if(window.ga)try{window.ga("create",t.get("GoogId"),"auto","pcTracker"),window.ga("pcTracker.send","event",t.get(r),t.get(i))}catch(t){n=!0,console.log("Unable to push event to Google via _gaq")}if(window.ga&&n&&window._gaq||!n&&window._gaq)try{window._gaq.push(["_setAccount",t.get("GoogId")]),window._gaq.push(["_trackEvent",t.get(r),t.get(i)])}catch(t){console.log("Unable to push event to Google via _gaq")}}};t.get("UsingGa")&&t.get(e)&&t.get(i)&&(window._gaq||window.ga?a():function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var e=!1;t.onreadystatechange=t.onload=function(){e||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(window._gaq=window._gaq||[],a(),e=!0)},document.getElementsByTagName("head").item(0).appendChild(t)}())},Notifier:function(){this.isTitleModified=!1,this.windowNotifyTimeout=null,this.timeoutId=null,this.active=!1,this.mobileActive=!1,this.mobileAnimationInterval=null}};D.Notifier.prototype.notify=function(t,e,i){var r=this;if(r.mouseStopElement=i,!r.active){var n;r.active=!0;var a=document.title;e&&(n=e.text()),r.timeoutId=setTimeout((function i(){if(0==r.active)return document.title=a,e&&e.text(n),void(r.isTitleModified=!1);1==r.isTitleModified?(r.isTitleModified=!1,document.title=a,e&&e.text(n)):(r.isTitleModified=!0,document.title=t,e&&e.text(t)),r.timeoutId=setTimeout(i,900)}),900),r.mouseStopElement?r.mouseStopElement.on("mousemove.notifier",(function(){r.stop()})):p()(document).on("mousemove.notifier",(function(){r.stop()}))}},D.Notifier.prototype.stop=function(){this.active=!1,this.mouseStopElement?this.mouseStopElement.off("mousemove.notifier"):p()(document).off("mousemove.notifier")},D.stripDangerousTags=function(t){return t.replace(/<script>.+<\/script>/gim,"")},D.stripOpenCloseTage=function(t){return t.replace(/<.+?>/gim,"")},D.escapeHtml=function(t,e){var i=p()("<div/>").text(t||"").html().replace(/&amp;/gi,"&");return e?i.replace(/"/g,""):i},D.iconRootUrl=function(t){var e=!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/);return t||function(){try{return window.self!==window.top}catch(t){return!0}}()||!window.location.search||!e?"":"".concat(window.location.origin).concat(window.location.pathname).concat(window.location.search)},D.svgHrefAttr=function(){var t=navigator.userAgent||navigator.vendor||window.opera,e=/Version\/[\d\.]+.*Safari/.test(t)||t.indexOf("CriOS/")>-1,i=t.indexOf("FBAN")>-1||t.indexOf("FBAV")>-1,r=t.indexOf("Mozilla")>-1&&t.indexOf("Gecko")>-1&&t.indexOf("Mobile")>-1;return e||i||r?"xlink:href":"href"},D.prettyDate=function(t){var e=((new Date).getTime()-t.getTime())/1e3,i=Math.floor(e/86400),r=Math.floor(i/31),n=Math.floor(r/12);return isNaN(i)||i<0?"Just now":0===i&&((e<60?"Just now":e<120&&"1 minute ago")||e<3600&&Math.floor(e/60)+" minutes ago"||e<7200&&"1 hour ago"||e<86400&&Math.floor(e/3600)+" hours ago")||1===i&&"Yesterday"||i<7&&i+" days ago"||i<31&&Math.ceil(i/7)+" weeks ago"||1===r&&"Last month"||r<12&&r+" months ago"||1===n&&"Last year"||n+" years ago"},D.getCookie=function(t){var e=document.cookie,i=e.indexOf(" "+t+"=");if(-1==i&&(i=e.indexOf(t+"=")),-1==i)e=null;else{i=e.indexOf("=",i)+1;var r=e.indexOf(";",i);-1==r&&(r=e.length),e=unescape(e.substring(i,r))}return e},D.toHourMinuteString=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t.getHours(),r=t.getMinutes(),n=t.getSeconds(),a=i>=12?" PM":" AM",o=0==i?12:i>12?i-12:i;return o+":"+(r<10?"0"+r:r)+(e?":"+(n<10?"0"+n:n):"")+a};var N=D;N.setCssVars=function(t,e,i){var r=new(P())(0===e.indexOf("#")?e:"#".concat(e)),n={"--purechat-p-bg":r.clone().toString(),"--purechat-p-bg-d":r.clone().darken(5).toString(),"--purechat-p-bg-l":r.clone().lighten(5).toString(),"--purechat-p-fg":M(r.clone()).toString(),"--purechat-p-fg-l":R(r.clone()).lighten(5).toString()};i?(n["--purechat-s-bg"]="#f8f7f5",n["--purechat-s-bg-d"]="#e8e5df",n["--purechat-s-bg-l"]="#ffffff",n["--purechat-s-fg"]="#676a6d",n["--purechat-s-fg-l"]="#3b404c",n["--purechat-s-fg-d"]="#3b404c",n["--purechat-a-d"]="#c11e1f",n["--purechat-a-d-bg"]="#c11e1f",n["--purechat-a-d-fg"]="#ffffff",n["--purechat-btn-bg"]=r.clone().toString(),n["--purechat-btn-fg"]=M(r.clone()).toString(),n["--purechat-btn-b"]="rgba(255,255,255,0.5)",n["--purechat-btn-b-h"]="rgba(255, 255, 255, 1)"):(n["--purechat-s-bg"]=r.clone().toString(),n["--purechat-s-bg-d"]=r.clone().darken(5).toString(),n["--purechat-s-bg-l"]=r.clone().lighten(5).toString(),n["--purechat-s-fg"]=M(r.clone()).toString(),n["--purechat-s-fg-l"]=R(r.clone()).lighten(5).toString(),n["--purechat-s-fg-d"]=M(r.clone()).toString(),n["--purechat-a-d"]=M(r.clone()).toString(),n["--purechat-btn-bg"]=r.clone().darken(5).toString(),n["--purechat-btn-fg"]=M(r.clone()).toString(),n["--purechat-btn-b"]="transparent",n["--purechat-btn-b-h"]="transparent"),T?function(t,e){var i="".concat(t,"_vars"),r=document.getElementById(i);r||((r=document.createElement("style")).id=i,document.head.appendChild(r));var n=Object.keys(e).reduce((function(t,i){return"".concat(t," ").concat(i,": ").concat(e[i],";")}),"");r.innerHTML=":root { ".concat(n," }")}(t,n):function(t,e){var i=document.getElementById(t),r="".concat(t,"_orig"),n=document.getElementById(r);n||((n=document.createElement("template")).id=r,n.innerHTML=i.innerHTML,n.style.display="none",document.head.appendChild(n));var a=Object.keys(e).reduce((function(t,i){var r=new RegExp("var\\(\\s*?".concat(i,"(\\)|,([\\s\\,\\w]*\\)))"),"g");return t.replace(r,e[i])}),n.innerHTML);i.innerHTML=a}(t,n)};var U,B,z,V=N,L=function(t){window.updateRubyRenderCheckpoint&&window.updateRubyRenderCheckpoint(t,!0)};if(z=(B=(U=I()).name.toLowerCase().replace(/s+/g,"")).replace(/s+/g,""),!("firefox"===B&&!0===U.isMobile&&5===U.osType?U.version>=k.ios_firefox:!(Object.keys(k).indexOf(z)>-1)||U.version>=k[z]))throw L("browser not supported"),new Error("Pure Chat does not support this browser version. Please update your browser.");try{localStorage.setItem("_purechatLocalStorageAccess",!0)}catch(t){throw L("local storage disabled"),new Error("Local storage access is not allowed. This is a problem with some browsers running private windows.")}w.View.prototype.getResource=function(t,e){return _.getOption(this,"rm").getResource(t,n().defaults(e||{},{chatUserNames:""}))},_.View.prototype.mixinTemplateHelpers=function(t){var e=this.templateHelpers||{};return t=t||{},n().isFunction(e)&&(e=e.call(this)),t.getResource=n().bind(w.View.prototype.getResource,this),n().extend(t,e,{Utils:V})};var F=new _.Application;w.Relational.showWarnings=!1,F.events=n().extend({},w.Events);var H=F,q=i(5892),Z=i.n(q);function $(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function Y(t){return function e(i){return 0===arguments.length||$(i)?e:t.apply(this,arguments)}}function X(t){return function e(i,r){switch(arguments.length){case 0:return e;case 1:return $(i)?e:Y((function(e){return t(i,e)}));default:return $(i)&&$(r)?e:$(i)?Y((function(e){return t(e,r)})):$(r)?Y((function(e){return t(i,e)})):t(i,r)}}}var G=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};function J(t){return null!=t&&"function"==typeof t["@@transducer/step"]}function K(t,e,i){return function(){if(0===arguments.length)return i();var r=arguments[arguments.length-1];if(!G(r)){for(var n=0;n<t.length;){if("function"==typeof r[t[n]])return r[t[n]].apply(r,Array.prototype.slice.call(arguments,0,-1));n+=1}if(J(r)){var a=e.apply(null,Array.prototype.slice.call(arguments,0,-1));return a(r)}}return i.apply(this,arguments)}}var Q=function(){return this.xf["@@transducer/init"]()},tt=function(t){return this.xf["@@transducer/result"](t)};function et(t){return"[object String]"===Object.prototype.toString.call(t)}var it=Y((function(t){return!!G(t)||!!t&&"object"==typeof t&&!et(t)&&(0===t.length||t.length>0&&t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1))})),rt=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}();function nt(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,i){return e.apply(this,arguments)};case 3:return function(t,i,r){return e.apply(this,arguments)};case 4:return function(t,i,r,n){return e.apply(this,arguments)};case 5:return function(t,i,r,n,a){return e.apply(this,arguments)};case 6:return function(t,i,r,n,a,o){return e.apply(this,arguments)};case 7:return function(t,i,r,n,a,o,s){return e.apply(this,arguments)};case 8:return function(t,i,r,n,a,o,s,c){return e.apply(this,arguments)};case 9:return function(t,i,r,n,a,o,s,c,l){return e.apply(this,arguments)};case 10:return function(t,i,r,n,a,o,s,c,l,p){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}var at=X((function(t,e){return nt(t.length,(function(){return t.apply(e,arguments)}))})),ot=at;function st(t,e,i){for(var r=i.next();!r.done;){if((e=t["@@transducer/step"](e,r.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r=i.next()}return t["@@transducer/result"](e)}function ct(t,e,i,r){return t["@@transducer/result"](i[r](ot(t["@@transducer/step"],t),e))}var lt="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function pt(t,e,i){if("function"==typeof t&&(t=function(t){return new rt(t)}(t)),it(i))return function(t,e,i){for(var r=0,n=i.length;r<n;){if((e=t["@@transducer/step"](e,i[r]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r+=1}return t["@@transducer/result"](e)}(t,e,i);if("function"==typeof i["fantasy-land/reduce"])return ct(t,e,i,"fantasy-land/reduce");if(null!=i[lt])return st(t,e,i[lt]());if("function"==typeof i.next)return st(t,e,i);if("function"==typeof i.reduce)return ct(t,e,i,"reduce");throw new TypeError("reduce: list must be array or iterable")}var ut=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=Q,t.prototype["@@transducer/result"]=tt,t.prototype["@@transducer/step"]=function(t,e){return this.xf["@@transducer/step"](t,this.f(e))},t}(),ht=X((function(t,e){return new ut(t,e)}));function dt(t,e,i){return function(){for(var r=[],n=0,a=t,o=0;o<e.length||n<arguments.length;){var s;o<e.length&&(!$(e[o])||n>=arguments.length)?s=e[o]:(s=arguments[n],n+=1),r[o]=s,$(s)||(a-=1),o+=1}return a<=0?i.apply(this,r):nt(a,dt(t,r,i))}}var gt=X((function(t,e){return 1===t?Y(e):nt(t,dt(t,[],e))}));function mt(t,e){return Object.prototype.hasOwnProperty.call(e,t)}var ft=Object.prototype.toString,bt=function(){return"[object Arguments]"===ft.call(arguments)?function(t){return"[object Arguments]"===ft.call(t)}:function(t){return mt("callee",t)}}(),yt=bt,vt=!{toString:null}.propertyIsEnumerable("toString"),wt=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],_t=function(){return arguments.propertyIsEnumerable("length")}(),Ct=function(t,e){for(var i=0;i<t.length;){if(t[i]===e)return!0;i+=1}return!1},xt="function"!=typeof Object.keys||_t?Y((function(t){if(Object(t)!==t)return[];var e,i,r=[],n=_t&&yt(t);for(e in t)!mt(e,t)||n&&"length"===e||(r[r.length]=e);if(vt)for(i=wt.length-1;i>=0;)mt(e=wt[i],t)&&!Ct(r,e)&&(r[r.length]=e),i-=1;return r})):Y((function(t){return Object(t)!==t?[]:Object.keys(t)})),kt=X(K(["fantasy-land/map","map"],ht,(function(t,e){switch(Object.prototype.toString.call(e)){case"[object Function]":return gt(e.length,(function(){return t.call(this,e.apply(this,arguments))}));case"[object Object]":return pt((function(i,r){return i[r]=t(e[r]),i}),{},xt(e));default:return function(t,e){for(var i=0,r=e.length,n=Array(r);i<r;)n[i]=t(e[i]),i+=1;return n}(t,e)}}))),jt=kt,It=Number.isInteger||function(t){return t<<0===t},St=X((function(t,e){var i=t<0?e.length+t:t;return et(e)?e.charAt(i):e[i]})),Pt=X((function(t,e){if(null!=e)return It(t)?St(t,e):e[t]}));function Tt(t){return function e(i,r,n){switch(arguments.length){case 0:return e;case 1:return $(i)?e:X((function(e,r){return t(i,e,r)}));case 2:return $(i)&&$(r)?e:$(i)?X((function(e,i){return t(e,r,i)})):$(r)?X((function(e,r){return t(i,e,r)})):Y((function(e){return t(i,r,e)}));default:return $(i)&&$(r)&&$(n)?e:$(i)&&$(r)?X((function(e,i){return t(e,i,n)})):$(i)&&$(n)?X((function(e,i){return t(e,r,i)})):$(r)&&$(n)?X((function(e,r){return t(i,e,r)})):$(i)?Y((function(e){return t(e,r,n)})):$(r)?Y((function(e){return t(i,e,n)})):$(n)?Y((function(e){return t(i,r,e)})):t(i,r,n)}}}var Rt=Tt(pt),Mt=Y((function(t){return!t}));function At(t,e){return function(){return e.call(this,t.apply(this,arguments))}}function Et(t,e){return function(){var i=arguments.length;if(0===i)return e();var r=arguments[i-1];return G(r)||"function"!=typeof r[t]?e.apply(this,arguments):r[t].apply(r,Array.prototype.slice.call(arguments,0,i-1))}}var Ot=Y(Et("tail",Tt(Et("slice",(function(t,e,i){return Array.prototype.slice.call(i,t,e)})))(1,1/0)));function Wt(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return nt(arguments[0].length,Rt(At,arguments[0],Ot(arguments)))}function Dt(t){for(var e,i=[];!(e=t.next()).done;)i.push(e.value);return i}function Nt(t,e,i){for(var r=0,n=i.length;r<n;){if(t(e,i[r]))return!0;r+=1}return!1}var Ut="function"==typeof Object.is?Object.is:function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e},Bt=Y((function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}));function zt(t,e,i,r){var n=Dt(t);function a(t,e){return Vt(t,e,i.slice(),r.slice())}return!Nt((function(t,e){return!Nt(a,e,t)}),Dt(e),n)}function Vt(t,e,i,r){if(Ut(t,e))return!0;var n,a,o=Bt(t);if(o!==Bt(e))return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof e["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e)&&"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof e.equals)return"function"==typeof t.equals&&t.equals(e)&&"function"==typeof e.equals&&e.equals(t);switch(o){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===(n=t.constructor,null==(a=String(n).match(/^function (\w*)/))?"":a[1]))return t===e;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof e||!Ut(t.valueOf(),e.valueOf()))return!1;break;case"Date":if(!Ut(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(t.source!==e.source||t.global!==e.global||t.ignoreCase!==e.ignoreCase||t.multiline!==e.multiline||t.sticky!==e.sticky||t.unicode!==e.unicode)return!1}for(var s=i.length-1;s>=0;){if(i[s]===t)return r[s]===e;s-=1}switch(o){case"Map":return t.size===e.size&&zt(t.entries(),e.entries(),i.concat([t]),r.concat([e]));case"Set":return t.size===e.size&&zt(t.values(),e.values(),i.concat([t]),r.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var c=xt(t);if(c.length!==xt(e).length)return!1;var l=i.concat([t]),p=r.concat([e]);for(s=c.length-1;s>=0;){var u=c[s];if(!mt(u,e)||!Vt(e[u],t[u],l,p))return!1;s-=1}return!0}var Lt=X((function(t,e){return Vt(t,e,[],[])}));Date.prototype.toISOString;var Ft=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=Q,t.prototype["@@transducer/result"]=tt,t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.xf["@@transducer/step"](t,e):t},t}(),Ht=X(K(["fantasy-land/filter","filter"],X((function(t,e){return new Ft(t,e)})),(function(t,e){return i=e,"[object Object]"===Object.prototype.toString.call(i)?pt((function(i,r){return t(e[r])&&(i[r]=e[r]),i}),{},xt(e)):function(t,e){for(var i=0,r=e.length,n=[];i<r;)t(e[i])&&(n[n.length]=e[i]),i+=1;return n}(t,e);var i}))),qt=function(){function t(t,e){this.xf=e,this.f=t,this.found=!1}return t.prototype["@@transducer/init"]=Q,t.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,void 0)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)&&(this.found=!0,t=(i=this.xf["@@transducer/step"](t,e))&&i["@@transducer/reduced"]?i:{"@@transducer/value":i,"@@transducer/reduced":!0}),t;var i},t}(),Zt=X(K(["find"],X((function(t,e){return new qt(t,e)})),(function(t,e){for(var i=0,r=e.length;i<r;){if(t(e[i]))return e[i];i+=1}}))),$t=Y((function(t){return null==t})),Yt=X((function(t,e){if(0===t.length||$t(e))return!1;for(var i=e,r=0;r<t.length;){if($t(i)||!mt(t[r],i))return!1;i=i[t[r]],r+=1}return!0})),Xt=X((function(t,e){return Yt([t],e)}));"function"==typeof Object.assign&&Object.assign;var Gt=X((function(t,e){for(var i={},r={},n=0,a=t.length;n<a;)r[t[n]]=1,n+=1;for(var o in e)r.hasOwnProperty(o)||(i[o]=e[o]);return i})),Jt=Tt((function(t,e,i){return Lt(e,Pt(t,i))})),Kt=Jt;function Qt(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}String.prototype.trim;var te=function(){function t(e,i){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=i.id,this.message=i.message,this.timeout=i.timeout,this.logger=e,this.timerStarted=(new Date).getTime(),this.thresholdTriggered=!1,this.complete=!1,this.thresholdTimeoutId=window.setTimeout((function(){r.thresholdTriggered=!0}),i.warnThreshold),this.timeoutId=window.setTimeout((function(){r.logger&&r.logger.log(r.logger.LEVELS.ERROR,"[SlowTask] Error timeout of ".concat(r.timeout," met on ").concat(r.id," timer (").concat(r.message,")")),r.complete=!0}),i.timeout)}var e,i;return e=t,(i=[{key:"dispose",value:function(t){if(window.clearTimeout(this.thresholdTimeoutId),window.clearTimeout(this.timeoutId),this.thresholdTriggered&&!this.complete){var e=(((new Date).getTime()-this.timerStarted)/1e3).toFixed(2);this.logger&&!t&&this.logger.log(this.logger.LEVELS.WARN,"[SlowTask] Threshold reached on ".concat(this.id," and took ").concat(e,"s but was eventually cleared (").concat(this.message,")"))}}}])&&Qt(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ee(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ie(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var re=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ie(this,"logger",null),ie(this,"timers",{})}var e,i;return e=t,i=[{key:"init",value:function(t){if(!Xt("logger",t))throw new Error("Slow task timer requires a `logger`");this.logger=t.logger}},{key:"start",value:function(t){if(!Xt("id",t))throw new Error("`id` is required for a new slow task timer");if(!Xt("message",t))throw new Error("`message` is required for a new slow task timer");if(!Xt("warnThreshold",t))throw new Error("`warnThreshold` is required for an ew slow task timer");if(!Xt("timeout",t))throw new Error("`timeout` is required for a new slow task timer");Xt(t.id,this.timers)&&this.clear(t.id,!0),this.timers[t.id]=new te(this.logger,t)}},{key:"clear",value:function(t,e){Xt(t,this.timers)&&(this.timers[t].dispose(e),this.timers=Gt([t],this.timers))}}],i&&ee(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}(),ne=new re,ae={ALL:0,TRACE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5,FATAL:6,OFF:7},oe=ae.INFO,se=null,ce=[];function le(t){return p().ajax({url:"".concat(Z().apiUrl,"/ajaxlogger/log"),method:"POST",contentType:"application/json; charset=utf-8",data:JSON.stringify({level:t.level||ae.ERROR,message:t.message||'Null message passed into logger "send" method',stackTrace:t.stackTrace||"",chatServerUrl:t.chatServerUrl||"",extraData:{clientType:"legacy-widget",clientVersion:"13.8.36",clientId:t.widgetId||"",clientUserAgent:window.navigator.userAgent}}),timeout:2e4,crossDomain:{crossDomain:!0},xhrFields:{withCredentials:!0}}).done((function(){})).fail((function(){}))}function pe(){se||(se=setInterval((function(){le(n().first(ce)).then((function(){for(clearInterval(se),se=null,ce.shift();ce.length>0;){var t=n().first(ce);ce.shift(),le(t)}}))}),6e4))}var ue={log:function(t,e,i,r,a,o){if(n().isString(t)&&(t=ae[t]),t>=oe){var s=r?150:75,c=i?window.encodeURIComponent(i.substr(0,s)):null,l=a?window.encodeURIComponent(a):"N/A",p={level:t.toString(),message:e,stackTrace:c,chatServerUrl:l,accountId:o,timestamp:(new Date).toISOString()};if(ce.length>0){for(ce.push(p);ce.length>20;)ce.shift();pe()}else le(p).fail((function(){for(ce.push(p);ce.length>20;)ce.shift();pe()}))}},LEVELS:ae,setLogLevel:function(t){oe=t}},he=null,de=function(t){return he=t},ge=function(){return he},me=w.Model.extend({defaults:{chatClosed:!1},initialize:function(){var t=this;this.listenTo(this,"change:userId, change:authToken, change:chatClosed",(function(){t.trigger("change:isInChat",t,t.isInChat())}))},persistedKeys:["authToken","chatActiveInOtherWindow","chatClosed","chatId","chatServerUrl","disabled","expandSource","hasHadChat","hasHadEmail","lastActivity","roomId","roomType","userId","visitorName"],persistLocalStorage:function(){var t=this;return n().each(this.persistedKeys,(function(e){void 0!==t.get(e)&&window.localStorage.setItem("purechat_".concat(e),t.get(e))})),this},restart:function(){this.set("chatClosed",!0),this.set("lastActivity",null),this.set("authToken",null),this.set("roomId",null),this.set("chatId",null),this.set("chatClosed",null),this.persistLocalStorage()},clearLocalStorage:function(){return this.persistedKeys.forEach((function(t){window.localStorage.removeItem("purechat_".concat(t))})),this.clear(),this},loadFromLocalStorage:function(){var t=this;return this.persistedKeys.forEach((function(e){t.set(e,window.localStorage.getItem("purechat_".concat(e)))})),this},couldHaveContactRecord:function(){return Boolean(this.get("chatId"))||Boolean(this.get("hasHadChat"))||Boolean(this.get("hasHadEmail"))},isInChat:function(){return this.get("userId")&&this.get("authToken")&&(n().isUndefined(this.get("chatClosed"))||"false"===this.get("chatClosed")||!this.get("chatClosed"))},loadChatServerUrl:function(){this.get("chatServerUrl")||this.set("chatServerUrl",localStorage.purechat_chatServerUrl),localStorage.purechat_chatServerUrl=this.get("chatServerUrl")},updateLastActivity:function(){var t=(new Date).getTime();this.set("lastActivity",t),window.localStorage.setItem("purechat_lastActivity",t)},isChatPastGracePeriod:function(){return!!this.get("lastActivity")&&(new Date).getTime()-parseInt(this.get("lastActivity"),10)>72e5}});function fe(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var be,ye=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,this.sentChatRequest=!1,this.connectionInfo=new me({},this.options),this.options.connectionInfo&&this.connectionInfo.set(this.options.connectionInfo);var i=this.getWidgetSettings.bind(this);this.getWidgetSettings=function(){var t=p().Deferred();return i.apply(void 0,arguments).done((function(e){e.widgetConfig&&e.widgetConfig.AllowWidgetOnMobile&&e.widgetConfig.RequestFromMobileDevice&&(window.localStorage.expanded=!1),t.resolve(e)})),t.promise()}}var e,i;return e=t,i=[{key:"getPreviousChat",value:function(){var t=p().Deferred();return t.resolve([]),t.promise()}},{key:"getContactInfo",value:function(){var t=p().Deferred(),e=this.getContactId(),i=this.getOption("widgetId"),r=this.connectionInfo.couldHaveContactRecord();return e&&i&&r?p().get("".concat(this.getOption("apiServerUrl"),"/api/contact/widget/").concat(i,"/").concat(e)).done((function(e){return t.resolve(e)})).fail((function(){return console.log("Error obtaining contact details")})):setTimeout((function(){return t.resolve()}),0),t}},{key:"unbindHandlerEvents",value:function(){}},{key:"loadWidgetSettings",value:function(){var t=this,e=p().Deferred();return this.getWidgetSettings().done((function(i){t.widgetSettings=i,e.resolve()})).fail((function(){return e.reject()})),e}},{key:"getOption",value:function(t){return this.options[t]}}],i&&fe(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}(),ve=ye,we={202:"Accepted",502:"Bad Gateway",400:"Bad Request",409:"Conflict",100:"Continue",201:"Created",417:"Expectation Failed",424:"Failed Dependency",403:"Forbidden",504:"Gateway Timeout",410:"Gone",505:"HTTP Version Not Supported",418:"I'm a teapot",419:"Insufficient Space on Resource",507:"Insufficient Storage",500:"Internal Server Error",411:"Length Required",423:"Locked",420:"Method Failure",405:"Method Not Allowed",301:"Moved Permanently",302:"Moved Temporarily",207:"Multi-Status",300:"Multiple Choices",511:"Network Authentication Required",204:"No Content",203:"Non Authoritative Information",406:"Not Acceptable",404:"Not Found",501:"Not Implemented",304:"Not Modified",200:"OK",206:"Partial Content",402:"Payment Required",308:"Permanent Redirect",412:"Precondition Failed",428:"Precondition Required",102:"Processing",407:"Proxy Authentication Required",431:"Request Header Fields Too Large",408:"Request Timeout",413:"Request Entity Too Large",414:"Request-URI Too Long",416:"Requested Range Not Satisfiable",205:"Reset Content",303:"See Other",503:"Service Unavailable",101:"Switching Protocols",307:"Temporary Redirect",429:"Too Many Requests",401:"Unauthorized",451:"Unavailable For Legal Reasons",422:"Unprocessable Entity",415:"Unsupported Media Type",305:"Use Proxy",421:"Misdirected Request"},_e={Accepted:202,"Bad Gateway":502,"Bad Request":400,Conflict:409,Continue:100,Created:201,"Expectation Failed":417,"Failed Dependency":424,Forbidden:403,"Gateway Timeout":504,Gone:410,"HTTP Version Not Supported":505,"I'm a teapot":418,"Insufficient Space on Resource":419,"Insufficient Storage":507,"Internal Server Error":500,"Length Required":411,Locked:423,"Method Failure":420,"Method Not Allowed":405,"Moved Permanently":301,"Moved Temporarily":302,"Multi-Status":207,"Multiple Choices":300,"Network Authentication Required":511,"No Content":204,"Non Authoritative Information":203,"Not Acceptable":406,"Not Found":404,"Not Implemented":501,"Not Modified":304,OK:200,"Partial Content":206,"Payment Required":402,"Permanent Redirect":308,"Precondition Failed":412,"Precondition Required":428,Processing:102,"Proxy Authentication Required":407,"Request Header Fields Too Large":431,"Request Timeout":408,"Request Entity Too Large":413,"Request-URI Too Long":414,"Requested Range Not Satisfiable":416,"Reset Content":205,"See Other":303,"Service Unavailable":503,"Switching Protocols":101,"Temporary Redirect":307,"Too Many Requests":429,Unauthorized:401,"Unavailable For Legal Reasons":451,"Unprocessable Entity":422,"Unsupported Media Type":415,"Use Proxy":305,"Misdirected Request":421},Ce=function(){return Ce=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},Ce.apply(this,arguments)},xe=Ce(Ce({},{ACCEPTED:202,BAD_GATEWAY:502,BAD_REQUEST:400,CONFLICT:409,CONTINUE:100,CREATED:201,EXPECTATION_FAILED:417,FORBIDDEN:403,GATEWAY_TIMEOUT:504,GONE:410,HTTP_VERSION_NOT_SUPPORTED:505,IM_A_TEAPOT:418,INSUFFICIENT_SPACE_ON_RESOURCE:419,INSUFFICIENT_STORAGE:507,INTERNAL_SERVER_ERROR:500,LENGTH_REQUIRED:411,LOCKED:423,METHOD_FAILURE:420,METHOD_NOT_ALLOWED:405,MOVED_PERMANENTLY:301,MOVED_TEMPORARILY:302,MULTI_STATUS:207,MULTIPLE_CHOICES:300,NETWORK_AUTHENTICATION_REQUIRED:511,NO_CONTENT:204,NON_AUTHORITATIVE_INFORMATION:203,NOT_ACCEPTABLE:406,NOT_FOUND:404,NOT_IMPLEMENTED:501,NOT_MODIFIED:304,OK:200,PARTIAL_CONTENT:206,PAYMENT_REQUIRED:402,PERMANENT_REDIRECT:308,PRECONDITION_FAILED:412,PRECONDITION_REQUIRED:428,PROCESSING:102,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_HEADER_FIELDS_TOO_LARGE:431,REQUEST_TIMEOUT:408,REQUEST_TOO_LONG:413,REQUEST_URI_TOO_LONG:414,REQUESTED_RANGE_NOT_SATISFIABLE:416,RESET_CONTENT:205,SEE_OTHER:303,SERVICE_UNAVAILABLE:503,SWITCHING_PROTOCOLS:101,TEMPORARY_REDIRECT:307,TOO_MANY_REQUESTS:429,UNAUTHORIZED:401,UNPROCESSABLE_ENTITY:422,UNSUPPORTED_MEDIA_TYPE:415,USE_PROXY:305}),{getStatusCode:function(t){var e=_e[t];if(!e)throw new Error("Reason phrase does not exist: "+t);return e},getStatusText:function(t){var e=we[t.toString()];if(!e)throw new Error("Status code does not exist: "+t);return e}});!function(t){t[t.Trace=0]="Trace",t[t.Debug=1]="Debug",t[t.Information=2]="Information",t[t.Warning=3]="Warning",t[t.Error=4]="Error",t[t.Critical=5]="Critical",t[t.None=6]="None"}(be||(be={}));const ke=[0,2e3,1e4,3e4,null];class je{constructor(t){this._retryDelays=void 0!==t?[...t,null]:ke}nextRetryDelayInMilliseconds(t){return this._retryDelays[t.previousRetryCount]}}class Ie extends Error{constructor(t,e){const i=new.target.prototype;super(`${t}: Status code '${e}'`),this.statusCode=e,this.__proto__=i}}class Se extends Error{constructor(t="A timeout occurred."){const e=new.target.prototype;super(t),this.__proto__=e}}class Pe extends Error{constructor(t="An abort occurred."){const e=new.target.prototype;super(t),this.__proto__=e}}class Te extends Error{constructor(t,e){const i=new.target.prototype;super(t),this.transport=e,this.errorType="UnsupportedTransportError",this.__proto__=i}}class Re extends Error{constructor(t,e){const i=new.target.prototype;super(t),this.transport=e,this.errorType="DisabledTransportError",this.__proto__=i}}class Me extends Error{constructor(t,e){const i=new.target.prototype;super(t),this.transport=e,this.errorType="FailedToStartTransportError",this.__proto__=i}}class Ae extends Error{constructor(t){const e=new.target.prototype;super(t),this.errorType="FailedToNegotiateWithServerError",this.__proto__=e}}class Ee extends Error{constructor(t,e){const i=new.target.prototype;super(t),this.innerErrors=e,this.__proto__=i}}class Oe{constructor(t,e,i){this.statusCode=t,this.statusText=e,this.content=i}}class We{get(t,e){return this.send({...e,method:"GET",url:t})}post(t,e){return this.send({...e,method:"POST",url:t})}delete(t,e){return this.send({...e,method:"DELETE",url:t})}getCookieString(t){return""}}class De{constructor(){}log(t,e){}}De.instance=new De;class Ne{static isRequired(t,e){if(null==t)throw new Error(`The '${e}' argument is required.`)}static isNotEmpty(t,e){if(!t||t.match(/^\s*$/))throw new Error(`The '${e}' argument should not be empty.`)}static isIn(t,e,i){if(!(t in e))throw new Error(`Unknown ${i} value: ${t}.`)}}class Ue{static get isBrowser(){return"object"==typeof window&&"object"==typeof window.document}static get isWebWorker(){return"object"==typeof self&&"importScripts"in self}static get isReactNative(){return"object"==typeof window&&void 0===window.document}static get isNode(){return!this.isBrowser&&!this.isWebWorker&&!this.isReactNative}}function Be(t,e){let i="";return ze(t)?(i=`Binary data of length ${t.byteLength}`,e&&(i+=`. Content: '${function(t){const e=new Uint8Array(t);let i="";return e.forEach((t=>{i+=`0x${t<16?"0":""}${t.toString(16)} `})),i.substr(0,i.length-1)}(t)}'`)):"string"==typeof t&&(i=`String data of length ${t.length}`,e&&(i+=`. Content: '${t}'`)),i}function ze(t){return t&&"undefined"!=typeof ArrayBuffer&&(t instanceof ArrayBuffer||t.constructor&&"ArrayBuffer"===t.constructor.name)}async function Ve(t,e,i,r,n,a,o){let s={};if(n){const t=await n();t&&(s={Authorization:`Bearer ${t}`})}const[c,l]=He();s[c]=l,t.log(be.Trace,`(${e} transport) sending data. ${Be(a,o.logMessageContent)}.`);const p=ze(a)?"arraybuffer":"text",u=await i.post(r,{content:a,headers:{...s,...o.headers},responseType:p,timeout:o.timeout,withCredentials:o.withCredentials});t.log(be.Trace,`(${e} transport) request complete. Response status: ${u.statusCode}.`)}class Le{constructor(t,e){this._subject=t,this._observer=e}dispose(){const t=this._subject.observers.indexOf(this._observer);t>-1&&this._subject.observers.splice(t,1),0===this._subject.observers.length&&this._subject.cancelCallback&&this._subject.cancelCallback().catch((t=>{}))}}class Fe{constructor(t){this._minLevel=t,this.out=console}log(t,e){if(t>=this._minLevel){const i=`[${(new Date).toISOString()}] ${be[t]}: ${e}`;switch(t){case be.Critical:case be.Error:this.out.error(i);break;case be.Warning:this.out.warn(i);break;case be.Information:this.out.info(i);break;default:this.out.log(i)}}}}function He(){let t="X-SignalR-User-Agent";return Ue.isNode&&(t="User-Agent"),[t,qe("6.0.7",Ze(),Ue.isNode?"NodeJS":"Browser",$e())]}function qe(t,e,i,r){let n="Microsoft SignalR/";const a=t.split(".");return n+=`${a[0]}.${a[1]}`,n+=` (${t}; `,n+=e&&""!==e?`${e}; `:"Unknown OS; ",n+=`${i}`,n+=r?`; ${r}`:"; Unknown Runtime Version",n+=")",n}function Ze(){if(!Ue.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function $e(){if(Ue.isNode)return process.versions.node}function Ye(t){return t.stack?t.stack:t.message?t.message:`${t}`}class Xe extends We{constructor(t){if(super(),this._logger=t,"undefined"==typeof fetch){const t=require;this._jar=new(t("tough-cookie").CookieJar),this._fetchType=t("node-fetch"),this._fetchType=t("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(function(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==i.g)return i.g;throw new Error("could not find global")}());if("undefined"==typeof AbortController){const t=require;this._abortControllerType=t("abort-controller")}else this._abortControllerType=AbortController}async send(t){if(t.abortSignal&&t.abortSignal.aborted)throw new Pe;if(!t.method)throw new Error("No method defined.");if(!t.url)throw new Error("No url defined.");const e=new this._abortControllerType;let i;t.abortSignal&&(t.abortSignal.onabort=()=>{e.abort(),i=new Pe});let r,n=null;if(t.timeout){const r=t.timeout;n=setTimeout((()=>{e.abort(),this._logger.log(be.Warning,"Timeout from HTTP request."),i=new Se}),r)}try{r=await this._fetchType(t.url,{body:t.content,cache:"no-cache",credentials:!0===t.withCredentials?"include":"same-origin",headers:{"Content-Type":"text/plain;charset=UTF-8","X-Requested-With":"XMLHttpRequest",...t.headers},method:t.method,mode:"cors",redirect:"follow",signal:e.signal})}catch(t){if(i)throw i;throw this._logger.log(be.Warning,`Error from HTTP request. ${t}.`),t}finally{n&&clearTimeout(n),t.abortSignal&&(t.abortSignal.onabort=null)}if(!r.ok){const t=await Ge(r,"text");throw new Ie(t||r.statusText,r.status)}const a=Ge(r,t.responseType),o=await a;return new Oe(r.status,r.statusText,o)}getCookieString(t){let e="";return Ue.isNode&&this._jar&&this._jar.getCookies(t,((t,i)=>e=i.join("; "))),e}}function Ge(t,e){let i;switch(e){case"arraybuffer":i=t.arrayBuffer();break;case"text":default:i=t.text();break;case"blob":case"document":case"json":throw new Error(`${e} is not supported.`)}return i}class Je extends We{constructor(t){super(),this._logger=t}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new Pe):t.method?t.url?new Promise(((e,i)=>{const r=new XMLHttpRequest;r.open(t.method,t.url,!0),r.withCredentials=void 0===t.withCredentials||t.withCredentials,r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Content-Type","text/plain;charset=UTF-8");const n=t.headers;n&&Object.keys(n).forEach((t=>{r.setRequestHeader(t,n[t])})),t.responseType&&(r.responseType=t.responseType),t.abortSignal&&(t.abortSignal.onabort=()=>{r.abort(),i(new Pe)}),t.timeout&&(r.timeout=t.timeout),r.onload=()=>{t.abortSignal&&(t.abortSignal.onabort=null),r.status>=200&&r.status<300?e(new Oe(r.status,r.statusText,r.response||r.responseText)):i(new Ie(r.response||r.responseText||r.statusText,r.status))},r.onerror=()=>{this._logger.log(be.Warning,`Error from HTTP request. ${r.status}: ${r.statusText}.`),i(new Ie(r.statusText,r.status))},r.ontimeout=()=>{this._logger.log(be.Warning,"Timeout from HTTP request."),i(new Se)},r.send(t.content||"")})):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class Ke extends We{constructor(t){if(super(),"undefined"!=typeof fetch||Ue.isNode)this._httpClient=new Xe(t);else{if("undefined"==typeof XMLHttpRequest)throw new Error("No usable HttpClient found.");this._httpClient=new Je(t)}}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new Pe):t.method?t.url?this._httpClient.send(t):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(t){return this._httpClient.getCookieString(t)}}class Qe{}var ti,ei,ii,ri;Qe.Authorization="Authorization",Qe.Cookie="Cookie",function(t){t[t.None=0]="None",t[t.WebSockets=1]="WebSockets",t[t.ServerSentEvents=2]="ServerSentEvents",t[t.LongPolling=4]="LongPolling"}(ti||(ti={})),function(t){t[t.Text=1]="Text",t[t.Binary=2]="Binary"}(ei||(ei={}));class ni{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}}class ai{constructor(t,e,i,r){this._httpClient=t,this._accessTokenFactory=e,this._logger=i,this._pollAbort=new ni,this._options=r,this._running=!1,this.onreceive=null,this.onclose=null}get pollAborted(){return this._pollAbort.aborted}async connect(t,e){if(Ne.isRequired(t,"url"),Ne.isRequired(e,"transferFormat"),Ne.isIn(e,ei,"transferFormat"),this._url=t,this._logger.log(be.Trace,"(LongPolling transport) Connecting."),e===ei.Binary&&"undefined"!=typeof XMLHttpRequest&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[i,r]=He(),n={[i]:r,...this._options.headers},a={abortSignal:this._pollAbort.signal,headers:n,timeout:1e5,withCredentials:this._options.withCredentials};e===ei.Binary&&(a.responseType="arraybuffer");const o=await this._getAccessToken();this._updateHeaderToken(a,o);const s=`${t}&_=${Date.now()}`;this._logger.log(be.Trace,`(LongPolling transport) polling: ${s}.`);const c=await this._httpClient.get(s,a);200!==c.statusCode?(this._logger.log(be.Error,`(LongPolling transport) Unexpected response code: ${c.statusCode}.`),this._closeError=new Ie(c.statusText||"",c.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,a)}async _getAccessToken(){return this._accessTokenFactory?await this._accessTokenFactory():null}_updateHeaderToken(t,e){t.headers||(t.headers={}),e?t.headers[Qe.Authorization]=`Bearer ${e}`:t.headers[Qe.Authorization]&&delete t.headers[Qe.Authorization]}async _poll(t,e){try{for(;this._running;){const i=await this._getAccessToken();this._updateHeaderToken(e,i);try{const i=`${t}&_=${Date.now()}`;this._logger.log(be.Trace,`(LongPolling transport) polling: ${i}.`);const r=await this._httpClient.get(i,e);204===r.statusCode?(this._logger.log(be.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):200!==r.statusCode?(this._logger.log(be.Error,`(LongPolling transport) Unexpected response code: ${r.statusCode}.`),this._closeError=new Ie(r.statusText||"",r.statusCode),this._running=!1):r.content?(this._logger.log(be.Trace,`(LongPolling transport) data received. ${Be(r.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(r.content)):this._logger.log(be.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(t){this._running?t instanceof Se?this._logger.log(be.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=t,this._running=!1):this._logger.log(be.Trace,`(LongPolling transport) Poll errored after shutdown: ${t.message}`)}}}finally{this._logger.log(be.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(t){return this._running?Ve(this._logger,"LongPolling",this._httpClient,this._url,this._accessTokenFactory,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(be.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(be.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const t={},[e,i]=He();t[e]=i;const r={headers:{...t,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials},n=await this._getAccessToken();this._updateHeaderToken(r,n),await this._httpClient.delete(this._url,r),this._logger.log(be.Trace,"(LongPolling transport) DELETE request sent.")}finally{this._logger.log(be.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let t="(LongPolling transport) Firing onclose event.";this._closeError&&(t+=" Error: "+this._closeError),this._logger.log(be.Trace,t),this.onclose(this._closeError)}}}class oi{constructor(t,e,i,r){this._httpClient=t,this._accessTokenFactory=e,this._logger=i,this._options=r,this.onreceive=null,this.onclose=null}async connect(t,e){if(Ne.isRequired(t,"url"),Ne.isRequired(e,"transferFormat"),Ne.isIn(e,ei,"transferFormat"),this._logger.log(be.Trace,"(SSE transport) Connecting."),this._url=t,this._accessTokenFactory){const e=await this._accessTokenFactory();e&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(e)}`)}return new Promise(((i,r)=>{let n,a=!1;if(e===ei.Text){if(Ue.isBrowser||Ue.isWebWorker)n=new this._options.EventSource(t,{withCredentials:this._options.withCredentials});else{const e=this._httpClient.getCookieString(t),i={};i.Cookie=e;const[r,a]=He();i[r]=a,n=new this._options.EventSource(t,{withCredentials:this._options.withCredentials,headers:{...i,...this._options.headers}})}try{n.onmessage=t=>{if(this.onreceive)try{this._logger.log(be.Trace,`(SSE transport) data received. ${Be(t.data,this._options.logMessageContent)}.`),this.onreceive(t.data)}catch(t){return void this._close(t)}},n.onerror=t=>{a?this._close():r(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},n.onopen=()=>{this._logger.log(be.Information,`SSE connected to ${this._url}`),this._eventSource=n,a=!0,i()}}catch(t){return void r(t)}}else r(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))}))}async send(t){return this._eventSource?Ve(this._logger,"SSE",this._httpClient,this._url,this._accessTokenFactory,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(t){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(t))}}class si{constructor(t,e,i,r,n,a){this._logger=i,this._accessTokenFactory=e,this._logMessageContent=r,this._webSocketConstructor=n,this._httpClient=t,this.onreceive=null,this.onclose=null,this._headers=a}async connect(t,e){if(Ne.isRequired(t,"url"),Ne.isRequired(e,"transferFormat"),Ne.isIn(e,ei,"transferFormat"),this._logger.log(be.Trace,"(WebSockets transport) Connecting."),this._accessTokenFactory){const e=await this._accessTokenFactory();e&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(e)}`)}return new Promise(((i,r)=>{let n;t=t.replace(/^http/,"ws");const a=this._httpClient.getCookieString(t);let o=!1;if(Ue.isNode){const e={},[i,r]=He();e[i]=r,a&&(e[Qe.Cookie]=`${a}`),n=new this._webSocketConstructor(t,void 0,{headers:{...e,...this._headers}})}n||(n=new this._webSocketConstructor(t)),e===ei.Binary&&(n.binaryType="arraybuffer"),n.onopen=e=>{this._logger.log(be.Information,`WebSocket connected to ${t}.`),this._webSocket=n,o=!0,i()},n.onerror=t=>{let e=null;e="undefined"!=typeof ErrorEvent&&t instanceof ErrorEvent?t.error:"There was an error with the transport",this._logger.log(be.Information,`(WebSockets transport) ${e}.`)},n.onmessage=t=>{if(this._logger.log(be.Trace,`(WebSockets transport) data received. ${Be(t.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(t.data)}catch(t){return void this._close(t)}},n.onclose=t=>{if(o)this._close(t);else{let e=null;e="undefined"!=typeof ErrorEvent&&t instanceof ErrorEvent?t.error:"WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",r(new Error(e))}}}))}send(t){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(be.Trace,`(WebSockets transport) sending data. ${Be(t,this._logMessageContent)}.`),this._webSocket.send(t),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(t){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(be.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this._isCloseEvent(t)||!1!==t.wasClean&&1e3===t.code?t instanceof Error?this.onclose(t):this.onclose():this.onclose(new Error(`WebSocket closed with status code: ${t.code} (${t.reason||"no reason given"}).`)))}_isCloseEvent(t){return t&&"boolean"==typeof t.wasClean&&"number"==typeof t.code}}class ci{constructor(t,e={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,Ne.isRequired(t,"url"),this._logger=function(t){return void 0===t?new Fe(be.Information):null===t?De.instance:void 0!==t.log?t:new Fe(t)}(e.logger),this.baseUrl=this._resolveUrl(t),(e=e||{}).logMessageContent=void 0!==e.logMessageContent&&e.logMessageContent,"boolean"!=typeof e.withCredentials&&void 0!==e.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");e.withCredentials=void 0===e.withCredentials||e.withCredentials,e.timeout=void 0===e.timeout?1e5:e.timeout;let i=null,r=null;if(Ue.isNode){const t=require;i=t("ws"),r=t("eventsource")}Ue.isNode||"undefined"==typeof WebSocket||e.WebSocket?Ue.isNode&&!e.WebSocket&&i&&(e.WebSocket=i):e.WebSocket=WebSocket,Ue.isNode||"undefined"==typeof EventSource||e.EventSource?Ue.isNode&&!e.EventSource&&void 0!==r&&(e.EventSource=r):e.EventSource=EventSource,this._httpClient=e.httpClient||new Ke(this._logger),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=e,this.onreceive=null,this.onclose=null}async start(t){if(t=t||ei.Binary,Ne.isIn(t,ei,"transferFormat"),this._logger.log(be.Debug,`Starting connection with transfer format '${ei[t]}'.`),"Disconnected"!==this._connectionState)return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(t),await this._startInternalPromise,"Disconnecting"===this._connectionState){const t="Failed to start the HttpConnection before stop() was called.";return this._logger.log(be.Error,t),await this._stopPromise,Promise.reject(new Error(t))}if("Connected"!==this._connectionState){const t="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(be.Error,t),Promise.reject(new Error(t))}this._connectionStarted=!0}send(t){return"Connected"!==this._connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new li(this.transport)),this._sendQueue.send(t))}async stop(t){return"Disconnected"===this._connectionState?(this._logger.log(be.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnected state.`),Promise.resolve()):"Disconnecting"===this._connectionState?(this._logger.log(be.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState="Disconnecting",this._stopPromise=new Promise((t=>{this._stopPromiseResolver=t})),await this._stopInternal(t),void await this._stopPromise)}async _stopInternal(t){this._stopError=t;try{await this._startInternalPromise}catch(t){}if(this.transport){try{await this.transport.stop()}catch(t){this._logger.log(be.Error,`HttpConnection.transport.stop() threw error '${t}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(be.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(t){let e=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory;try{if(this._options.skipNegotiation){if(this._options.transport!==ti.WebSockets)throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");this.transport=this._constructTransport(ti.WebSockets),await this._startTransport(e,t)}else{let i=null,r=0;do{if(i=await this._getNegotiationResponse(e),"Disconnecting"===this._connectionState||"Disconnected"===this._connectionState)throw new Error("The connection was stopped during negotiation.");if(i.error)throw new Error(i.error);if(i.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(i.url&&(e=i.url),i.accessToken){const t=i.accessToken;this._accessTokenFactory=()=>t}r++}while(i.url&&r<100);if(100===r&&i.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(e,this._options.transport,i,t)}this.transport instanceof ai&&(this.features.inherentKeepAlive=!0),"Connecting"===this._connectionState&&(this._logger.log(be.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(t){return this._logger.log(be.Error,"Failed to start the connection: "+t),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(t)}}async _getNegotiationResponse(t){const e={};if(this._accessTokenFactory){const t=await this._accessTokenFactory();t&&(e[Qe.Authorization]=`Bearer ${t}`)}const[i,r]=He();e[i]=r;const n=this._resolveNegotiateUrl(t);this._logger.log(be.Debug,`Sending negotiation request: ${n}.`);try{const t=await this._httpClient.post(n,{content:"",headers:{...e,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(200!==t.statusCode)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${t.statusCode}'`));const i=JSON.parse(t.content);return(!i.negotiateVersion||i.negotiateVersion<1)&&(i.connectionToken=i.connectionId),i}catch(t){let e="Failed to complete negotiation with the server: "+t;return t instanceof Ie&&404===t.statusCode&&(e+=" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(be.Error,e),Promise.reject(new Ae(e))}}_createConnectUrl(t,e){return e?t+(-1===t.indexOf("?")?"?":"&")+`id=${e}`:t}async _createTransport(t,e,i,r){let n=this._createConnectUrl(t,i.connectionToken);if(this._isITransport(e))return this._logger.log(be.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=e,await this._startTransport(n,r),void(this.connectionId=i.connectionId);const a=[],o=i.availableTransports||[];let s=i;for(const i of o){const o=this._resolveTransportOrError(i,e,r);if(o instanceof Error)a.push(`${i.transport} failed:`),a.push(o);else if(this._isITransport(o)){if(this.transport=o,!s){try{s=await this._getNegotiationResponse(t)}catch(t){return Promise.reject(t)}n=this._createConnectUrl(t,s.connectionToken)}try{return await this._startTransport(n,r),void(this.connectionId=s.connectionId)}catch(t){if(this._logger.log(be.Error,`Failed to start the transport '${i.transport}': ${t}`),s=void 0,a.push(new Me(`${i.transport} failed: ${t}`,ti[i.transport])),"Connecting"!==this._connectionState){const t="Failed to select transport before stop() was called.";return this._logger.log(be.Debug,t),Promise.reject(new Error(t))}}}}return a.length>0?Promise.reject(new Ee(`Unable to connect to the server with any of the available transports. ${a.join(" ")}`,a)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(t){switch(t){case ti.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new si(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case ti.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new oi(this._httpClient,this._accessTokenFactory,this._logger,this._options);case ti.LongPolling:return new ai(this._httpClient,this._accessTokenFactory,this._logger,this._options);default:throw new Error(`Unknown transport: ${t}.`)}}_startTransport(t,e){return this.transport.onreceive=this.onreceive,this.transport.onclose=t=>this._stopConnection(t),this.transport.connect(t,e)}_resolveTransportOrError(t,e,i){const r=ti[t.transport];if(null==r)return this._logger.log(be.Debug,`Skipping transport '${t.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${t.transport}' because it is not supported by this client.`);if(!function(t,e){return!t||0!=(e&t)}(e,r))return this._logger.log(be.Debug,`Skipping transport '${ti[r]}' because it was disabled by the client.`),new Re(`'${ti[r]}' is disabled by the client.`,r);if(!(t.transferFormats.map((t=>ei[t])).indexOf(i)>=0))return this._logger.log(be.Debug,`Skipping transport '${ti[r]}' because it does not support the requested transfer format '${ei[i]}'.`),new Error(`'${ti[r]}' does not support ${ei[i]}.`);if(r===ti.WebSockets&&!this._options.WebSocket||r===ti.ServerSentEvents&&!this._options.EventSource)return this._logger.log(be.Debug,`Skipping transport '${ti[r]}' because it is not supported in your environment.'`),new Te(`'${ti[r]}' is not supported in your environment.`,r);this._logger.log(be.Debug,`Selecting transport '${ti[r]}'.`);try{return this._constructTransport(r)}catch(t){return t}}_isITransport(t){return t&&"object"==typeof t&&"connect"in t}_stopConnection(t){if(this._logger.log(be.Debug,`HttpConnection.stopConnection(${t}) called while in state ${this._connectionState}.`),this.transport=void 0,t=this._stopError||t,this._stopError=void 0,"Disconnected"!==this._connectionState){if("Connecting"===this._connectionState)throw this._logger.log(be.Warning,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${t}) was called while the connection is still in the connecting state.`);if("Disconnecting"===this._connectionState&&this._stopPromiseResolver(),t?this._logger.log(be.Error,`Connection disconnected with error '${t}'.`):this._logger.log(be.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch((t=>{this._logger.log(be.Error,`TransportSendQueue.stop() threw error '${t}'.`)})),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(t)}catch(e){this._logger.log(be.Error,`HttpConnection.onclose(${t}) threw error '${e}'.`)}}}else this._logger.log(be.Debug,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is already in the disconnected state.`)}_resolveUrl(t){if(0===t.lastIndexOf("https://",0)||0===t.lastIndexOf("http://",0))return t;if(!Ue.isBrowser)throw new Error(`Cannot resolve '${t}'.`);const e=window.document.createElement("a");return e.href=t,this._logger.log(be.Information,`Normalizing '${t}' to '${e.href}'.`),e.href}_resolveNegotiateUrl(t){const e=t.indexOf("?");let i=t.substring(0,-1===e?t.length:e);return"/"!==i[i.length-1]&&(i+="/"),i+="negotiate",i+=-1===e?"":t.substring(e),-1===i.indexOf("negotiateVersion")&&(i+=-1===e?"?":"&",i+="negotiateVersion="+this._negotiateVersion),i}}class li{constructor(t){this._transport=t,this._buffer=[],this._executing=!0,this._sendBufferedData=new pi,this._transportResult=new pi,this._sendLoopPromise=this._sendLoop()}send(t){return this._bufferData(t),this._transportResult||(this._transportResult=new pi),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(t){if(this._buffer.length&&typeof this._buffer[0]!=typeof t)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof t}`);this._buffer.push(t),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new pi;const t=this._transportResult;this._transportResult=void 0;const e="string"==typeof this._buffer[0]?this._buffer.join(""):li._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(e),t.resolve()}catch(e){t.reject(e)}}}static _concatBuffers(t){const e=t.map((t=>t.byteLength)).reduce(((t,e)=>t+e)),i=new Uint8Array(e);let r=0;for(const e of t)i.set(new Uint8Array(e),r),r+=e.byteLength;return i.buffer}}class pi{constructor(){this.promise=new Promise(((t,e)=>[this._resolver,this._rejecter]=[t,e]))}resolve(){this._resolver()}reject(t){this._rejecter(t)}}class ui{static write(t){return`${t}${ui.RecordSeparator}`}static parse(t){if(t[t.length-1]!==ui.RecordSeparator)throw new Error("Message is incomplete.");const e=t.split(ui.RecordSeparator);return e.pop(),e}}ui.RecordSeparatorCode=30,ui.RecordSeparator=String.fromCharCode(ui.RecordSeparatorCode);class hi{writeHandshakeRequest(t){return ui.write(JSON.stringify(t))}parseHandshakeResponse(t){let e,i;if(ze(t)){const r=new Uint8Array(t),n=r.indexOf(ui.RecordSeparatorCode);if(-1===n)throw new Error("Message is incomplete.");const a=n+1;e=String.fromCharCode.apply(null,Array.prototype.slice.call(r.slice(0,a))),i=r.byteLength>a?r.slice(a).buffer:null}else{const r=t,n=r.indexOf(ui.RecordSeparator);if(-1===n)throw new Error("Message is incomplete.");const a=n+1;e=r.substring(0,a),i=r.length>a?r.substring(a):null}const r=ui.parse(e),n=JSON.parse(r[0]);if(n.type)throw new Error("Expected a handshake response from the server.");return[i,n]}}!function(t){t[t.Invocation=1]="Invocation",t[t.StreamItem=2]="StreamItem",t[t.Completion=3]="Completion",t[t.StreamInvocation=4]="StreamInvocation",t[t.CancelInvocation=5]="CancelInvocation",t[t.Ping=6]="Ping",t[t.Close=7]="Close"}(ii||(ii={}));class di{constructor(){this.observers=[]}next(t){for(const e of this.observers)e.next(t)}error(t){for(const e of this.observers)e.error&&e.error(t)}complete(){for(const t of this.observers)t.complete&&t.complete()}subscribe(t){return this.observers.push(t),new Le(this,t)}}!function(t){t.Disconnected="Disconnected",t.Connecting="Connecting",t.Connected="Connected",t.Disconnecting="Disconnecting",t.Reconnecting="Reconnecting"}(ri||(ri={}));class gi{constructor(t,e,i,r){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(be.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://docs.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},Ne.isRequired(t,"connection"),Ne.isRequired(e,"logger"),Ne.isRequired(i,"protocol"),this.serverTimeoutInMilliseconds=3e4,this.keepAliveIntervalInMilliseconds=15e3,this._logger=e,this._protocol=i,this.connection=t,this._reconnectPolicy=r,this._handshakeProtocol=new hi,this.connection.onreceive=t=>this._processIncomingData(t),this.connection.onclose=t=>this._connectionClosed(t),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=ri.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:ii.Ping})}static create(t,e,i,r){return new gi(t,e,i,r)}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(t){if(this._connectionState!==ri.Disconnected&&this._connectionState!==ri.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!t)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=t}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==ri.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=ri.Connecting,this._logger.log(be.Debug,"Starting HubConnection.");try{await this._startInternal(),Ue.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=ri.Connected,this._connectionStarted=!0,this._logger.log(be.Debug,"HubConnection connected successfully.")}catch(t){return this._connectionState=ri.Disconnected,this._logger.log(be.Debug,`HubConnection failed to start successfully because of error '${t}'.`),Promise.reject(t)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const t=new Promise(((t,e)=>{this._handshakeResolver=t,this._handshakeRejecter=e}));await this.connection.start(this._protocol.transferFormat);try{const e={protocol:this._protocol.name,version:this._protocol.version};if(this._logger.log(be.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(e)),this._logger.log(be.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await t,this._stopDuringStartError)throw this._stopDuringStartError}catch(t){throw this._logger.log(be.Debug,`Hub handshake failed with error '${t}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(t),t}}async stop(){const t=this._startPromise;this._stopPromise=this._stopInternal(),await this._stopPromise;try{await t}catch(t){}}_stopInternal(t){return this._connectionState===ri.Disconnected?(this._logger.log(be.Debug,`Call to HubConnection.stop(${t}) ignored because it is already in the disconnected state.`),Promise.resolve()):this._connectionState===ri.Disconnecting?(this._logger.log(be.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState=ri.Disconnecting,this._logger.log(be.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(be.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=t||new Error("The connection was stopped before the hub handshake could complete."),this.connection.stop(t)))}stream(t,...e){const[i,r]=this._replaceStreamingParams(e),n=this._createStreamInvocation(t,e,r);let a;const o=new di;return o.cancelCallback=()=>{const t=this._createCancelInvocation(n.invocationId);return delete this._callbacks[n.invocationId],a.then((()=>this._sendWithProtocol(t)))},this._callbacks[n.invocationId]=(t,e)=>{e?o.error(e):t&&(t.type===ii.Completion?t.error?o.error(new Error(t.error)):o.complete():o.next(t.item))},a=this._sendWithProtocol(n).catch((t=>{o.error(t),delete this._callbacks[n.invocationId]})),this._launchStreams(i,a),o}_sendMessage(t){return this._resetKeepAliveInterval(),this.connection.send(t)}_sendWithProtocol(t){return this._sendMessage(this._protocol.writeMessage(t))}send(t,...e){const[i,r]=this._replaceStreamingParams(e),n=this._sendWithProtocol(this._createInvocation(t,e,!0,r));return this._launchStreams(i,n),n}invoke(t,...e){const[i,r]=this._replaceStreamingParams(e),n=this._createInvocation(t,e,!1,r);return new Promise(((t,e)=>{this._callbacks[n.invocationId]=(i,r)=>{r?e(r):i&&(i.type===ii.Completion?i.error?e(new Error(i.error)):t(i.result):e(new Error(`Unexpected message type: ${i.type}`)))};const r=this._sendWithProtocol(n).catch((t=>{e(t),delete this._callbacks[n.invocationId]}));this._launchStreams(i,r)}))}on(t,e){t&&e&&(t=t.toLowerCase(),this._methods[t]||(this._methods[t]=[]),-1===this._methods[t].indexOf(e)&&this._methods[t].push(e))}off(t,e){if(!t)return;t=t.toLowerCase();const i=this._methods[t];if(i)if(e){const r=i.indexOf(e);-1!==r&&(i.splice(r,1),0===i.length&&delete this._methods[t])}else delete this._methods[t]}onclose(t){t&&this._closedCallbacks.push(t)}onreconnecting(t){t&&this._reconnectingCallbacks.push(t)}onreconnected(t){t&&this._reconnectedCallbacks.push(t)}_processIncomingData(t){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(t=this._processHandshakeResponse(t),this._receivedHandshakeResponse=!0),t){const e=this._protocol.parseMessages(t,this._logger);for(const t of e)switch(t.type){case ii.Invocation:this._invokeClientMethod(t);break;case ii.StreamItem:case ii.Completion:{const e=this._callbacks[t.invocationId];if(e){t.type===ii.Completion&&delete this._callbacks[t.invocationId];try{e(t)}catch(t){this._logger.log(be.Error,`Stream callback threw error: ${Ye(t)}`)}}break}case ii.Ping:break;case ii.Close:{this._logger.log(be.Information,"Close message received from server.");const e=t.error?new Error("Server returned an error on close: "+t.error):void 0;!0===t.allowReconnect?this.connection.stop(e):this._stopPromise=this._stopInternal(e);break}default:this._logger.log(be.Warning,`Invalid message type: ${t.type}.`)}}this._resetTimeoutPeriod()}_processHandshakeResponse(t){let e,i;try{[i,e]=this._handshakeProtocol.parseHandshakeResponse(t)}catch(t){const e="Error parsing handshake response: "+t;this._logger.log(be.Error,e);const i=new Error(e);throw this._handshakeRejecter(i),i}if(e.error){const t="Server returned handshake error: "+e.error;this._logger.log(be.Error,t);const i=new Error(t);throw this._handshakeRejecter(i),i}return this._logger.log(be.Debug,"Server handshake complete."),this._handshakeResolver(),i}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this._timeoutHandle=setTimeout((()=>this.serverTimeout()),this.serverTimeoutInMilliseconds),void 0!==this._pingServerHandle))){let t=this._nextKeepAlive-(new Date).getTime();t<0&&(t=0),this._pingServerHandle=setTimeout((async()=>{if(this._connectionState===ri.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}}),t)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}_invokeClientMethod(t){const e=this._methods[t.target.toLowerCase()];if(e){try{e.forEach((e=>e.apply(this,t.arguments)))}catch(e){this._logger.log(be.Error,`A callback for the method ${t.target.toLowerCase()} threw error '${e}'.`)}if(t.invocationId){const t="Server requested a response, which is not supported in this version of the client.";this._logger.log(be.Error,t),this._stopPromise=this._stopInternal(new Error(t))}}else this._logger.log(be.Warning,`No client method with the name '${t.target}' found.`)}_connectionClosed(t){this._logger.log(be.Debug,`HubConnection.connectionClosed(${t}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||t||new Error("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(t||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===ri.Disconnecting?this._completeClose(t):this._connectionState===ri.Connected&&this._reconnectPolicy?this._reconnect(t):this._connectionState===ri.Connected&&this._completeClose(t)}_completeClose(t){if(this._connectionStarted){this._connectionState=ri.Disconnected,this._connectionStarted=!1,Ue.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach((e=>e.apply(this,[t])))}catch(e){this._logger.log(be.Error,`An onclose callback called with error '${t}' threw error '${e}'.`)}}}async _reconnect(t){const e=Date.now();let i=0,r=void 0!==t?t:new Error("Attempting to reconnect due to a unknown error."),n=this._getNextRetryDelay(i++,0,r);if(null===n)return this._logger.log(be.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),void this._completeClose(t);if(this._connectionState=ri.Reconnecting,t?this._logger.log(be.Information,`Connection reconnecting because of error '${t}'.`):this._logger.log(be.Information,"Connection reconnecting."),0!==this._reconnectingCallbacks.length){try{this._reconnectingCallbacks.forEach((e=>e.apply(this,[t])))}catch(e){this._logger.log(be.Error,`An onreconnecting callback called with error '${t}' threw error '${e}'.`)}if(this._connectionState!==ri.Reconnecting)return void this._logger.log(be.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.")}for(;null!==n;){if(this._logger.log(be.Information,`Reconnect attempt number ${i} will start in ${n} ms.`),await new Promise((t=>{this._reconnectDelayHandle=setTimeout(t,n)})),this._reconnectDelayHandle=void 0,this._connectionState!==ri.Reconnecting)return void this._logger.log(be.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");try{if(await this._startInternal(),this._connectionState=ri.Connected,this._logger.log(be.Information,"HubConnection reconnected successfully."),0!==this._reconnectedCallbacks.length)try{this._reconnectedCallbacks.forEach((t=>t.apply(this,[this.connection.connectionId])))}catch(t){this._logger.log(be.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${t}'.`)}return}catch(t){if(this._logger.log(be.Information,`Reconnect attempt failed because of error '${t}'.`),this._connectionState!==ri.Reconnecting)return this._logger.log(be.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),void(this._connectionState===ri.Disconnecting&&this._completeClose());r=t instanceof Error?t:new Error(t.toString()),n=this._getNextRetryDelay(i++,Date.now()-e,r)}}this._logger.log(be.Information,`Reconnect retries have been exhausted after ${Date.now()-e} ms and ${i} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(t,e,i){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:e,previousRetryCount:t,retryReason:i})}catch(i){return this._logger.log(be.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${t}, ${e}) threw error '${i}'.`),null}}_cancelCallbacksWithError(t){const e=this._callbacks;this._callbacks={},Object.keys(e).forEach((i=>{const r=e[i];try{r(null,t)}catch(e){this._logger.log(be.Error,`Stream 'error' callback called with '${t}' threw error: ${Ye(e)}`)}}))}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(t,e,i,r){if(i)return 0!==r.length?{arguments:e,streamIds:r,target:t,type:ii.Invocation}:{arguments:e,target:t,type:ii.Invocation};{const i=this._invocationId;return this._invocationId++,0!==r.length?{arguments:e,invocationId:i.toString(),streamIds:r,target:t,type:ii.Invocation}:{arguments:e,invocationId:i.toString(),target:t,type:ii.Invocation}}}_launchStreams(t,e){if(0!==t.length){e||(e=Promise.resolve());for(const i in t)t[i].subscribe({complete:()=>{e=e.then((()=>this._sendWithProtocol(this._createCompletionMessage(i))))},error:t=>{let r;r=t instanceof Error?t.message:t&&t.toString?t.toString():"Unknown error",e=e.then((()=>this._sendWithProtocol(this._createCompletionMessage(i,r))))},next:t=>{e=e.then((()=>this._sendWithProtocol(this._createStreamItemMessage(i,t))))}})}}_replaceStreamingParams(t){const e=[],i=[];for(let r=0;r<t.length;r++){const n=t[r];if(this._isObservable(n)){const a=this._invocationId;this._invocationId++,e[a]=n,i.push(a.toString()),t.splice(r,1)}}return[e,i]}_isObservable(t){return t&&t.subscribe&&"function"==typeof t.subscribe}_createStreamInvocation(t,e,i){const r=this._invocationId;return this._invocationId++,0!==i.length?{arguments:e,invocationId:r.toString(),streamIds:i,target:t,type:ii.StreamInvocation}:{arguments:e,invocationId:r.toString(),target:t,type:ii.StreamInvocation}}_createCancelInvocation(t){return{invocationId:t,type:ii.CancelInvocation}}_createStreamItemMessage(t,e){return{invocationId:t,item:e,type:ii.StreamItem}}_createCompletionMessage(t,e,i){return e?{error:e,invocationId:t,type:ii.Completion}:{invocationId:t,result:i,type:ii.Completion}}}class mi{constructor(){this.name="json",this.version=1,this.transferFormat=ei.Text}parseMessages(t,e){if("string"!=typeof t)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!t)return[];null===e&&(e=De.instance);const i=ui.parse(t),r=[];for(const t of i){const i=JSON.parse(t);if("number"!=typeof i.type)throw new Error("Invalid payload.");switch(i.type){case ii.Invocation:this._isInvocationMessage(i);break;case ii.StreamItem:this._isStreamItemMessage(i);break;case ii.Completion:this._isCompletionMessage(i);break;case ii.Ping:case ii.Close:break;default:e.log(be.Information,"Unknown message type '"+i.type+"' ignored.");continue}r.push(i)}return r}writeMessage(t){return ui.write(JSON.stringify(t))}_isInvocationMessage(t){this._assertNotEmptyString(t.target,"Invalid payload for Invocation message."),void 0!==t.invocationId&&this._assertNotEmptyString(t.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(t){if(this._assertNotEmptyString(t.invocationId,"Invalid payload for StreamItem message."),void 0===t.item)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(t){if(t.result&&t.error)throw new Error("Invalid payload for Completion message.");!t.result&&t.error&&this._assertNotEmptyString(t.error,"Invalid payload for Completion message."),this._assertNotEmptyString(t.invocationId,"Invalid payload for Completion message.")}_assertNotEmptyString(t,e){if("string"!=typeof t||""===t)throw new Error(e)}}const fi={trace:be.Trace,debug:be.Debug,info:be.Information,information:be.Information,warn:be.Warning,warning:be.Warning,error:be.Error,critical:be.Critical,none:be.None};class bi{configureLogging(t){if(Ne.isRequired(t,"logging"),function(t){return void 0!==t.log}(t))this.logger=t;else if("string"==typeof t){const e=function(t){const e=fi[t.toLowerCase()];if(void 0!==e)return e;throw new Error(`Unknown log level: ${t}`)}(t);this.logger=new Fe(e)}else this.logger=new Fe(t);return this}withUrl(t,e){return Ne.isRequired(t,"url"),Ne.isNotEmpty(t,"url"),this.url=t,this.httpConnectionOptions="object"==typeof e?{...this.httpConnectionOptions,...e}:{...this.httpConnectionOptions,transport:e},this}withHubProtocol(t){return Ne.isRequired(t,"protocol"),this.protocol=t,this}withAutomaticReconnect(t){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return t?Array.isArray(t)?this.reconnectPolicy=new je(t):this.reconnectPolicy=t:this.reconnectPolicy=new je,this}build(){const t=this.httpConnectionOptions||{};if(void 0===t.logger&&(t.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const e=new ci(this.url,t);return gi.create(e,this.logger||De.instance,this.protocol||new mi,this.reconnectPolicy)}}function yi(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function vi(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?yi(Object(i),!0).forEach((function(e){wi(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):yi(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function wi(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function _i(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var Ci={closed_by_visitor:0,closed_by_operator:3,client_timeout:1,chat_inactivity:2,no_operators_joined:4},xi=function(t){var e=t.remoteKey.split(":");if(4!==e.length)throw new Error("Invalid remote key format");var i,r,n=(r=4,function(t){if(Array.isArray(t))return t}(i=e)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var r,n,a=[],o=!0,s=!1;try{for(i=i.call(t);!(o=(r=i.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(t){s=!0,n=t}finally{try{o||null==i.return||i.return()}finally{if(s)throw n}}return a}}(i,r)||function(t,e){if(t){if("string"==typeof t)return _i(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_i(t,e):void 0}}(i,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return{entityType:n[0],system:n[1],key:n[2],id:n[3]}},ki=function(t){var e=Wt(jt(xi),Zt(Kt("system","purechat")))(t.remoteParticipants),i=vi(vi({},t),{},{displayName:t.name,isOperator:"purechat:operator"===t.participantType,isInvisibleInRoom:!t.visibleInRoom});return"purechat:visitor"===i.participantType&&(i.id=e.id,i.avatar=i.attributes?i.attributes.avatarUrl:null),"purechat:operator"===i.participantType&&(i.id=parseInt(e.id,10),i.avatar=i.attributes?i.attributes.avatarUrl:null),i},ji=function(t){if(!t)return null;var e=vi(vi(vi({},t),t.attributes),{},{status:parseInt(t.status,10)});e.participants&&(e.users=e.participants.map((function(t){return ki(t)}))),1!==e.status&&2!==e.status||(e.closed=!0),e.legacyRoomName=e.name;var i,r=Wt(jt(xi),Zt(Kt("system","purechat")))(e.remoteRooms);if("purechat:account"===e.roomType)e.id=r.id,e.roomType=0;else if("purechat:chat"===e.roomType){e.id=parseInt(r.id,10),e.roomType=2;var n=Zt(Kt("participantType","purechat:operator"))(e.users||[]);n&&(e.roomHostAvatarUrl=n.avatar)}else"purechat:operator"===e.roomType?(e.id=r.id,e.roomType=1):"purechat:widget"===e.roomType&&(e.roomType=3);return e.attributes&&(e.time=(new Date).getTime()-e.elapsedTime,e.timeElapsed=e.elapsedTime,e.stoppedDate*=1e3,e.widgetType=e.attributes.widgetType?parseInt(e.attributes.widgetType,10):null,e.visitorCustomerId=e.attributes.visitorCustomerId,e.initiator=1===e.roomType?2:parseInt(e.attributes.initiator,10),e.closedReasonCode&&(e.closedReasonCode=(i=e.closedReasonCode,Xt(i,Ci)?Ci[i]:Ci.client_timeout)),e.geolocationData=1===e.roomType?{}:{city:t.attributes.city,state:t.attributes.state,countryAbbreviation:t.attributes.countryAbbreviation,country:t.attributes.country,latitude:t.attributes.latitude,longitude:t.attributes.longitude}),e},Ii=function(t){return"purechat:widget"===t.room.roomType||"participant"===t.room.roomType||"purechat:operator"===t.room.roomType},Si=function(t){return 2===t||1===t},Pi=i.p+"visitor.b1b9f41f8f9d262a368f.png";function Ti(t){return Ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ti(t)}var Ri=/\s+/,Mi=function(t,e){var i,r=-1,n=t.length,a=e[0],o=e[1],s=e[2];switch(e.length){case 0:for(;++r<n;)(i=t[r]).callback.call(i.ctx);return;case 1:for(;++r<n;)(i=t[r]).callback.call(i.ctx,a);return;case 2:for(;++r<n;)(i=t[r]).callback.call(i.ctx,a,o);return;case 3:for(;++r<n;)(i=t[r]).callback.call(i.ctx,a,o,s);return;default:for(;++r<n;)(i=t[r]).callback.apply(i.ctx,e)}},Ai=function(t,e,i,r){if(!i)return!0;if("object"===Ti(i)){for(var n in i)t[e].apply(t,[n,i[n]].concat(r));return!1}if(Ri.test(i)){for(var a=i.split(Ri),o=0,s=a.length;o<s;o++)t[e].apply(t,[a[o]].concat(r));return!1}return!0},Ei=i(7410);function Oi(t){return Oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oi(t)}function Wi(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function Di(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Wi(Object(i),!0).forEach((function(e){Ui(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Wi(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Ni(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ui(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Bi=[].slice,zi={messages:function(t){var e=t.map((function(t){var e=(t.userDisplayName||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),i=(t.roomDisplayName||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),r=(t.message||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return{id:t.id,userId:t.userId,userDisplayName:e,roomId:t.roomId,roomDisplayName:i,time:t.time,message:r.length>0?r:null,isHistory:t.isHistory,timeElpased:t.timeElapsed,protocolVersion:t.protocolVersion,avatarUrl:t.avatarUrl,fromOperator:t.fromOperator,roomUtcOffset:t.roomUtcOffset,type:t.type,status:t.status,serverId:t.serverId}}));this.trigger("messages",e)},joined:function(t){var e=(t.userDisplayName||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),i=(t.roomDisplayName||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.trigger("joined",t.userId,e,t.roomId,i,t.time,t.isHistory)},left:function(t){var e=(t.userDisplayName||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),i=(t.roomDisplayName||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.trigger("left",t.userId,e,t.roomId,i,t.time,t.isHistory)},roomdestroyed:function(t){var e=(t.roomDisplayName||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.trigger("roomdestroyed",t.roomId,e,t.time,t.reasonCode)},userDestroyed:function(t){this.trigger("userDestroyed",t.userId)},typing:function(t){var e=(t.userDisplayName||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.trigger("typing",t.userId,e,t.roomId,t.roomDisplayName,t.isTyping,t.time)},roomchanged:function(t){this.trigger("roomchanged",t)},default:function(t,e){this.trigger(t,e)}},Vi=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ui(this,"wasForced",!1),Ui(this,"events",{}),Ui(this,"attemptingConnect",!1),Ui(this,"connectionTestInterval",null),Ui(this,"socketMessageMappings",{"identify:success":this.onIdentifySuccess,"identify:error":this.onIdentifyError,"message:send":this.onMessageSend,"messages:send":this.onMultipleMessagesSend,"message:deleted":this.onMessageDeleted,"operator:status":this.onOperatorStatus,"availability:status":this.onAvailabilityStatus,"room:created":this.onRoomCreated,"room:joined":this.onRoomJoined,"room:left":this.onRoomLeft,"room:closed":this.onRoomClosed,"rooms:list":this.onRoomList,"room.attributes:changed":this.onRoomAttributesChanged,typing:this.onTyping,file:this.onFile,invite:this.onInvite,"participant:roomcounts":this.onParticipantRoomCounts,"widget:updated":this.onWidgetUpdated,"widget:deleted":this.onWidgetDeleted,ping:this.onPing,"system:maintenancestarted":this.onSystemMaintenanceStarted});var i=e.socketUrl,r=e.userId,n=e.accountId,a=e.authToken,o=e.logger,s=e.isOperator;this.deviceVersion=1,this.currentUserId=r,this.currentDomainId=n,this.currentAuthToken=a,this.connectionAttempts=0,this.remoteParticipantKey=this.getRemoteParticipantKey(this.currentUserId),this.logger=o,this.isOperator=s;var c="".concat(i,"/chatHub"),l=be.Error;this.socket=(new bi).withUrl(c).configureLogging(l).build(),this.socket.serverTimeoutInMilliseconds=12e4,this.messageQueue=[]}var e,i;return e=t,i=[{key:"start",value:function(t){var e=this,i=function(){return e.wasForced=!1,e.identify(e.currentUserId,e.currentDomainId,e.currentAuthToken,t)};this.socket.start().then(i).catch((function(t){return t?console.error(t.toString()):null})),this.onSocketMessage=this.onSocketMessage.bind(this),this.socket.on("message",this.onSocketMessage),this.socket.on("messages",this.onSocketMessage),this.socket.onreconnecting((function(t){console.log("SIGNALR -- RECONNECTING EVENT: ".concat(t)),e.wasForced||e.trigger("connection:disconnected:socketio")})),this.socket.onreconnected((function(t){console.log("SIGNALR -- RECONNECTED EVENT: ".concat(t)),e.wasForced||e.trigger("connection:connected:socketio")})),this.socket.onclose((function(t){console.log("SIGNALR -- CLOSE EVENT: ".concat(t)),e.wasForced||e.trigger("connection:disconnected:socketio")})),this.on("connection:retry:socketio",(function(){e.socket.state===ri.Connected?e.trigger("connection:connected:socketio"):e.socket.state===ri.Disconnected&&e.socket.start().then(i).catch((function(t){return console.error("SIGNALR -- RETRY ERROR: ".concat(t.toString()))})).finally((function(){e.attemptingConnect=!1}))})),this.connectionTestInterval=window.setInterval((function(){e.attemptingConnect||e.socket&&e.socket.state!==ri.Connected&&(e.attemptingConnect=!0,e.trigger("connection:retry:socketio"))}),2e3)}},{key:"onSocketMessage",value:function(t){var e=this,i=Array.isArray(t)?t:[t],r=Ht(Kt("messageType","message:send"))(i),n=Ht(Wt(Kt("messageType","message:send"),Mt))(i);r.length>0&&this.socketMessageMappings["messages:send"].apply(this,[r]),n.forEach((function(t){var i=t.messageType,r=e.socketMessageMappings[i];return r?r.apply(e,[t]):e.trigger.apply(e,[i,t.messageData])}))}},{key:"onIdentifySuccess",value:function(){this.roomApiUserKey="participant:room",this.trigger("identify:success"),this.onIdentifySuccessCallback.call(this,!0),this.trigger("connection:connected:socketio")}},{key:"onIdentifyError",value:function(){this.trigger("identify:error")}},{key:"onMessageSend",value:function(t){var e=ki(t.participant),i=ji(t.room),r=t.messageData,n="purechat:operator"===e.participantType,a={userDisplayName:e.name,roomDisplayName:i.name,message:r.message,id:r.messageId,userId:e.id,roomId:i.id,time:t.timeJs,isHistory:t.isHistory,timeElapsed:r.timeElapsed,protocolVersion:1,avatarUrl:e.avatar||Pi,fromOperator:n,roomUtcOffset:0,type:0,status:0};zi.messages.call(this,[a])}},{key:"onMultipleMessagesSend",value:function(t){var e=t.map((function(t){var e=ki(t.participant),i=ji(t.room),r="purechat:operator"===e.participantType;return{userDisplayName:e.name,roomDisplayName:i.name,message:t.messageData.message,id:t.messageData.messageId,userId:e.id,roomId:i.id,time:t.timeJs,isHistory:t.isHistory,timeElapsed:t.messageData.timeElapsed,protocolVersion:1,avatarUrl:e.avatar||Pi,fromOperator:r,roomUtcOffset:0,type:0,status:0}}));zi.messages.call(this,e)}},{key:"onMessageDeleted",value:function(t){this.trigger("message:deleted",Di(Di({},t),{},{roomId:parseInt(t.messageData.remoteRoomKey.value,10),messageId:t.messageData.messageId}))}},{key:"onOperatorStatus",value:function(t){this.trigger("operator:status",t.messageData)}},{key:"onAvailabilityStatus",value:function(t){this.trigger("availability:status",t.messageData)}},{key:"onPing",value:function(t){this.trigger("message:echo",t)}},{key:"onRoomCreated",value:function(t){var e=ji(t.messageData);Si(e.roomType)?zi.default.call(this,"room:created",e):3===e.roomType&&this.trigger("website:created",e)}},{key:"onRoomJoined",value:function(t){var e=ji(t.messageData.room),i=ki(t.messageData.participant);if(Si(e.roomType)){t.isHistory||e.inQueue||this.trigger("roomchanged",{action:"joinedroom",room:e});var r=(i.name||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n=(e.name||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.trigger("joined",i.id,r,e.id,n,t.timeJs,t.isHistory),this.trigger("room:joined",{room:e,user:i,time:t.timeJs,isHistory:t.isHistory,isWidgetMessage:Ii(t)})}}},{key:"onRoomAttributesChanged",value:function(t){var e=ji(t.messageData);this.trigger("roomdetailschanged",e)}},{key:"onRoomLeft",value:function(t){var e=ji(t.messageData.room),i=ki(t.messageData.participant);Si(e.roomType)&&(this.trigger("roomchanged",{action:"leftroom",room:e}),this.trigger("room:left",{time:t.timeJs,room:e,user:i,isHistory:t.isHistory,isWidgetMessage:Ii(t)}))}},{key:"onRoomClosed",value:function(t){this.isOperator||(this.clearConnectTestInterval(),this.disconnect());var e=ji(t.messageData.room);zi.default.call(this,"room:closed",e);var i=(e.name||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.trigger("roomdestroyed",e.id,i,t.timeJs,e.closedReasonCode,t.isHistory)}},{key:"onRoomList",value:function(t){this.trigger("rooms",{rooms:t.messageData.map((function(t){return ji(t)}))})}},{key:"onTyping",value:function(t){var e=ki(t.participant),i=ji(t.room),r=t.messageData,n=(e.name||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.trigger("typing",e.id,n,i.id,i.name,r.isTyping,t.timeJs)}},{key:"onInvite",value:function(t){t.messageData.userId===this.currentUserId&&this.trigger("opInvite",t.messageData)}},{key:"onParticipantRoomCounts",value:function(t){var e=ki(t.messageData),i=(t.messageData.roomCounts||{})["purechat:chat"]||0;this.trigger("operator:room-counts",{id:e.id,count:i})}},{key:"onWidgetUpdated",value:function(t){this.trigger("website:updated",t.messageData)}},{key:"onWidgetDeleted",value:function(t){this.trigger("website:deleted",t.messageData)}},{key:"onFile",value:function(t){var e=ki(t.participant),i=ji(t.room),r=t.messageData,n={userDisplayName:e.name,roomDisplayName:i.name,message:r.message,id:r.id||r.messageId,userId:e.id,roomId:i.id,time:t.timeJs,isHistory:t.isHistory,timeElapsed:r.timeElapsed,protocolVersion:1,avatarUrl:"",fromOperator:"purechat:operator"===e.participantType,roomUtcOffset:0,type:r.messageType,status:r.status,serverId:t.id};zi.messages.call(this,[n])}},{key:"onSystemMaintenanceStarted",value:function(){window.location.href="/maintenance"}},{key:"clearConnectTestInterval",value:function(){window.clearInterval(this.connectionTestInterval)}},{key:"getRemoteParticipantKey",value:function(t){var e=Number(t);return isNaN(e)?"participant:purechat:contactid:".concat(t):"participant:purechat:userid:".concat(t)}},{key:"getRoomApiRoomKey",value:function(t,e){return"room:purechat:".concat(2==t?"chatid":"operatorids",":").concat(e)}},{key:"getAccountRoomKey",value:function(){return"room:purechat:accountid:".concat(this.currentDomainId)}},{key:"disconnect",value:function(){this.wasForced=!0,this.socket.off("message",this.onSocketMessage),this.socket.stop(),this.roomApiUserKey=null,this.roomApiRoomKey=null}},{key:"identify",value:function(t,e,i,r){this.currentUserId=t,this.currentDomainId=e,this.currentAuthToken=i,this.deviceType=0,this.protocolVersion="2.0",this.onIdentifySuccessCallback=r;var n=this.getRemoteParticipantKey(this.currentUserId);this.invokeAction({actionName:"identify",actionMessage:{remoteKey:n,authType:0,authCredentials:this.currentAuthToken}}).catch((function(){r(!1)}))}},{key:"sendmessage",value:function(t,e,i){var r="".concat((new Date).getTime());this.invokeAction({actionName:"message:room",actionMessage:{remoteRoomKey:this.getRoomApiRoomKey(i,e),roomType:"purechat:chat",messageType:"message:send",messageData:{message:t,messageType:0,messageId:r}}})}},{key:"echoMessage",value:function(t){this.invokeAction({actionName:"message:echo",actionMessage:t})}},{key:"deleteMessage",value:function(t){if(!Xt("message",t))throw new TypeError("message is required");if(!Xt("id",t.message))throw new TypeError("message id is required");if(!Xt("roomId",t))throw new TypeError("roomId is required");if(!Xt("roomType",t))throw new TypeError("roomType is required");this.invokeAction({actionName:"message:delete",actionMessage:{remoteRoomKey:this.getRoomApiRoomKey(t.roomType,t.roomId),messageId:t.message.id}})}},{key:"upload",value:function(t,e){if(!Xt("roomId",t))throw new TypeError("roomId is required");if(!Xt("roomType",t))throw new TypeError("roomType is required");if(!Xt("status",t))throw new TypeError("status is required");var i=t.messageId||(new Date).getTime().toString();return this.invokeAction({actionName:"message:room",actionMessage:{remoteRoomKey:this.getRoomApiRoomKey(t.roomType,t.roomId),messageType:"file",messageData:{messageId:i,fromOperator:this.isOperator,messageType:4,status:t.status,message:t.message}}}).then((function(r){switch(t.status){case 0:case 1:e(!0,{messageId:i},xe.OK,null);break;case 2:e(!0,{messageId:i},xe.UNAUTHORIZED,null);break;case 3:e(!0,{messageId:i},xe.BAD_REQUEST,null);break;case 4:e(!0,{messageId:i,serverId:r.messageId},xe.OK,null)}}))}},{key:"finalizeUpload",value:function(t){return this.invokeAction({actionName:"message:room",actionMessage:{remoteRoomKey:this.getRoomApiRoomKey(t.roomType,t.roomId),messageType:"file",messageData:{messageId:t.messageId,fromOperator:!1,messageType:4,status:4,message:t.message}}}).then((function(t){return{serverId:t.messageId}}))}},{key:"sendtyping",value:function(t,e,i){this.invokeAction({actionName:"message:room",actionMessage:{remoteRoomKey:this.getRoomApiRoomKey(e,t),messageType:"typing",messageData:{userId:this.currentUserId,isTyping:i}}})}},{key:"finalizeChat",value:function(t,e){this.invokeAction({actionName:"room:finalize",actionMessage:{remoteRoomKey:this.getRoomApiRoomKey(e,t)}})}},{key:"join",value:function(t){var e="incoming"===t.joinType,i=!t.invisible;return this.invokeAction({actionName:"room:join",actionMessage:{remoteRoomKey:this.getRoomApiRoomKey(t.roomType,t.roomId),remoteParticipantKey:this.remoteParticipantKey,visible:!t.invisible,options:{visible:i,exclusive:e}}})}},{key:"leave",value:function(t,e){this.invokeAction({actionName:"room:leave",actionMessage:{remoteRoomKey:this.getRoomApiRoomKey(e,t),remoteParticipantKey:this.remoteParticipantKey}})}},{key:"closeroom",value:function(t,e){this.invokeAction({actionName:"room:close",actionMessage:{remoteRoomKey:this.getRoomApiRoomKey(e,t)}})}},{key:"destroyself",value:function(t,e,i){this.closeroom(t,e,i)}},{key:"createoperatorroom",value:function(t,e){e.push(this.currentUserId),e.sort();var i=e.join("_"),r=e.map((function(t){return"participant:purechat:userid:".concat(t)}));this.invokeAction({actionName:"room:create",actionMessage:{name:t,roomType:"purechat:operator",accountRoomRemoteKey:"room:purechat:accountid:".concat(this.currentDomainId),remoteRooms:[{remoteKey:"room:purechat:operatorids:".concat(i),remoteRoomName:t}],attributes:{operatorRoomId:i},participantRemoteKeys:r}})}},{key:"sendcurrentstate",value:function(){this.invokeAction({actionName:"sendRooms",actionMessage:{accountRemoteRoomKey:"room:purechat:accountid:".concat(this.currentDomainId),roomTypes:["purechat:chat","purechat:operator"]}})}},{key:"sendroomhistory",value:function(t,e){this.invokeAction({actionName:"room:history",actionMessage:{remoteRoomKey:this.getRoomApiRoomKey(e,t)}})}},{key:"sendInvite",value:function(t,e,i,r,n){this.invokeAction({actionName:"message:room",actionMessage:{remoteRoomKey:"participant:purechat:userid:".concat(t),messageType:"invite",messageData:{userId:t,roomId:e,roomType:n,roomDisplayName:i,fromName:r}}})}},{key:"setVisitorDetails",value:function(t,e,i){this.invokeAction({actionName:"room:attributes",actionMessage:{remoteRoomKey:this.getRoomApiRoomKey(e,t),attributes:i}})}},{key:"on",value:function(t,e,i){return Ai(this,"on",t,[e,i])&&e?(this.events=this.events||{},(this.events[t]||(this.events[t]=[])).push({callback:e,context:i,ctx:i||this}),this):this}},{key:"once",value:function(t,e,i){var r=arguments,n=this;if(!Ai(this,"once",t,[e,i])||!e)return this;var a=Ei.once((function(){n.off(t,a),e.apply(n,r)}));return a._callback=e,this.on(t,a,i)}},{key:"off",value:function(t,e,i){var r,n,a;if(!this.events||!Ai(this,"off",t,[e,i]))return this;if(!t&&!e&&!i)return this.events=void 0,this;var o,s,c=t?[t]:Ei.keys(this.events);for(o=0,s=c.length;o<s;o++)if(t=c[o],a=this.events[t]){if(this.events[t]=r=[],e||i){var l,p=void 0;for(p=0,l=a.length;p<l;p++)n=a[p],(e&&e!==n.callback&&e!==n.callback._callback||i&&i!==n.context)&&r.push(n)}r.length||delete this.events[t]}return this}},{key:"trigger",value:function(t){if(!this.events)return this;var e=Bi.call(arguments,1);if(!Ai(this,"trigger",t,e))return this;var i=this.events[t],r=this.events.all;return i&&Mi(i,e),r&&Mi(r,arguments),this}},{key:"stopListening",value:function(t,e,i){var r=this._listeningTo;if(!r)return this;var n=!e&&!i;for(var a in i||"object"!==Oi(e)||(i=this),t&&((r={})[t._listenId]=t),r)(t=r[a]).off(e,i,this),(n||Ei.isEmpty(t.events))&&delete this._listeningTo[a];return this}},{key:"invokeAction",value:function(t){var e=this;return new Promise((function(i,r){return e.socket?e.socket.invoke("action",t).then(i).catch((function(i){"identify"!==t.actionName&&e.logger&&e.logger.log(e.logger.LEVELS.ERROR,"Error invoking action. Data: ".concat(JSON.stringify(t)," -- Exception: ").concat(i)),r(i)})):r()}))}},{key:"isDisconnected",value:function(){return!this.socket||this.socket.state===ri.Disconnected}}],i&&Ni(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Li=Vi,Fi={WidgetType:{Tab:1,Button:2,Image:3,ImageTab:4},BasicWidgetType:1,WidgetStates:{Initializing:"PCStateInitializing",Inactive:"PCStateInactive",Activating:"PCStateActivating",Chatting:"PCStateChatting",Closed:"PCStateClosed",Unavailable:"PCStateUnavailable",Unsupported:"PCStateUnsupported",EmailForm:"PCStateEmailForm"},Features:{VisitorTracking:1},FeatureStatus:{Disabled:0,Enabled:1,Off:-1},MobileDisplayTypes:{Hidden:0,SameAsDesktop:1,MobileOptimized:2},EmailButtonBehaviors:{ShowEmailForm:0,ShowEmailAddress:1},UnavailableBehaviors:{HideWidget:0,ShowMessage:1,ShowEmail:2},WidgetPosition:{BottomLeft:1,BottomRight:2,TopLeft:3,TopRight:4},BackgroundTypes:{Custom:1,Stock:2,color:3},StyleTypes:{Minimal:0,Classic:1,Mobile:2},StyleTypesMappings:["purechat-style-minimal","purechat-style-classic","purechat-style-mobile","purechat-style-mobile"],KeyCodes:{Enter:13,Escape:27,LeftArrow:37,UpArrow:38,RightArrow:39,DownArrow:40,Tab:9},UploadStatuses:{Start:0,Uploading:1,Unauthorized:2,Error:3,Complete:4},UploadErrorMessages:{default:"File Send Failed",401:"You are not authorized to upload.",413:"This file is too large. 10MB Limit.",415:"This file type is not supported."},MessageTypes:{Message:0,Join:1,Leave:2,Close:3,File:4,Separator:1e3,Note:1001,UnfurlLink:2e3,UnfurlFile:2001,UnfurlImage:2002,UnfurlGiphy:2003,UnfurlTwitter:2004,UnfurlYoutube:2005},ClosedReasonCodes:{ClosedByUser:0,ConnectionTimeout:1,Inactivity:2,ClosedByOperator:3,NoOperatorJoined:4},MessageSortOrders:{Message:0,Closed:1},HubspotCookieName:"hubspotutk",MarkdownFields:["closed_message","emailForm_message","error_noOperators","label_initial","emailForm_success_message"],RoomType:{Account:0,Operator:1,Visitor:2},OverrideVisitorTypes:{All:0,Returning:1,New:2},RubyAccountId:601887};function Hi(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var qi=w.RelationalModel.extend({sortOrder:Fi.MessageSortOrders.Message,getTypeString:function(){switch(this.get("type")){case Fi.MessageTypes.UnfurlLink:return"unfurl-link";case Fi.MessageTypes.UnfurlImage:return"unfurl-image";case Fi.MessageTypes.UnfurlGiphy:return"unfurl-giphy";case Fi.MessageTypes.UnfurlYoutube:return"unfurl-youtube";case Fi.MessageTypes.UnfurlTwitter:return"unfurl-twitter";case Fi.MessageTypes.File:return"file";case Fi.MessageTypes.Closed:return"closed";case Fi.MessageTypes.Note:case Fi.MessageTypes.Join:return"note";case Fi.MessageTypes.Separator:return"separator";case Fi.MessageTypes.Message:default:return"message"}},parseMessage:function(){var t=this.get("message");if(!t)return{};var e=t.match(/(.*)\((http.*)\)\s(.*)\s•\s(.*)/);if(!e)return{};var i,r,n=(r=5,function(t){if(Array.isArray(t))return t}(i=e||[])||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var r,n,a=[],o=!0,s=!1;try{for(i=i.call(t);!(o=(r=i.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(t){s=!0,n=t}finally{try{o||null==i.return||i.return()}finally{if(s)throw n}}return a}}(i,r)||function(t,e){if(t){if("string"==typeof t)return Hi(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Hi(t,e):void 0}}(i,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return{name:n[1],url:n[2],size:n[3],mimeType:n[4]}}}),Zi=1048576,$i=qi.extend({url:"".concat(Z().filesRootUrl,"/api/files"),defaults:{type:Fi.MessageTypes.File,file:null,myMessage:null,isClosedChat:null},save:function(t,e){var i=this,r=this.get("file");return p().ajax({type:"POST",url:this.url,data:JSON.stringify({fileName:window.encodeURIComponent(r.name).replace(/,/gi,""),byteCount:r.size,accountId:0,context:this.get("context"),fileType:this.get("fileType"),contentType:r.type}),contentType:"application/json",crossDomain:!0,xhrFields:{withCredentials:!0},headers:{authToken:this.get("authToken")},error:function(t){return i.setErrorStatus(t,e)},success:function(n){i.set({fileUsageId:n.fileUsageId,fileUrl:n.uploadUrl,downloadUrl:n.downloadUrl}),p().ajax({type:"PUT",url:i.get("fileUrl"),data:i.get("file"),processData:!1,contentType:r.type,xhrFields:{withCredentials:!1},success:function(){return t()},error:function(t){return i.setErrorStatus(t,e)}})}})},finalize:function(){var t=this;return p().ajax({type:"POST",url:"".concat(this.url,"/finalize/").concat(this.get("fileUsageId")),data:JSON.stringify({context:{chatRecordId:this.get("serverId")}}),contentType:"application/json",crossDomain:!0,xhrFields:{withCredentials:!0}}).then((function(){return t.set("status",Fi.UploadStatuses.Complete)})).fail((function(e){return t.setErrorStatus(e)}))},updateContext:function(){return p().ajax({type:"POST",url:"".concat(this.url,"/context/").concat(this.get("fileUsageId")),data:JSON.stringify({context:{chatRecordId:this.get("serverId")}}),contentType:"application/json",crossDomain:!0,xhrFields:{withCredentials:!0}})},setErrorStatus:function(t,e){var i=this;return ge().getWidgetSettings().then((function(r){i.set({message:r.resources.error_fileTransfer||Fi.UploadErrorMessages[t.status]||Fi.UploadErrorMessages.default,status:401===t.status?Fi.UploadStatuses.Unauthorized:Fi.UploadStatuses.Error}),e&&e()}))},getSize:function(){var t=this.get("file").size;return t<=1024?"1KB":t<Zi?"".concat(Math.floor(t/1024),"KB"):"".concat(Math.floor(t/Zi),"MB")}}),Yi=$i;function Xi(t){return Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xi(t)}function Gi(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function Ji(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Gi(Object(i),!0).forEach((function(e){or(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Gi(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Ki(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qi(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tr(){return tr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,i){var r=er(t,e);if(r){var n=Object.getOwnPropertyDescriptor(r,e);return n.get?n.get.call(arguments.length<3?t:i):n.value}},tr.apply(this,arguments)}function er(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ar(t)););return t}function ir(t,e){return ir=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ir(t,e)}function rr(t,e){if(e&&("object"===Xi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return nr(t)}function nr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ar(t){return ar=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ar(t)}function or(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var sr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ir(t,e)}(s,t);var e,i,r,a,o=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ar(r);if(a){var i=ar(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return rr(this,t)});function s(){var t;Ki(this,s);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return or(nr(t=o.call.apply(o,[this].concat(i))),"retryInterval",null),t}return e=s,i=[{key:"sessionTimeout",get:function(){return 12e5}},{key:"timeStampUrl",value:function(t){var e=(new Date).getTime();return t.indexOf("?")>-1?"".concat(t,"&t=").concat(e):"".concat(t,"?t=").concat(e)}},{key:"closeChat",value:function(t){return this.chatServerConnection.destroyself(this.connectionInfo.get("roomId"),this.connectionInfo.get("roomType"),t),p().Deferred().resolve()}},{key:"leaveChat",value:function(){return this.chatServerConnection.leave(this.connectionInfo.get("roomId"),this.connectionInfo.get("roomType")),p().Deferred().resolve()}},{key:"restartChat",value:function(){return this.connectionInfo.restart(),p().Deferred().resolve()}},{key:"newMessage",value:function(t){""!==p().trim(t)&&(this.connectionInfo.updateLastActivity(),this.chatServerConnection.sendmessage(t,this.connectionInfo.get("roomId"),this.connectionInfo.get("roomType")))}},{key:"deleteMessage",value:function(t){this.chatServerConnection.deleteMessage({roomId:this.connectionInfo.get("roomId"),roomType:this.connectionInfo.get("roomType"),message:t})}},{key:"upload",value:function(t,e,i){var r=this,n=this.connectionInfo.get("authToken"),a=new Yi({messageId:(new Date).getTime().toString(),date:new Date,myMessage:!0,isClosedChat:!1,file:t,status:Fi.UploadStatuses.Start,fileType:0,context:{chatId:this.connectionInfo.get("roomId")},authToken:n});this.chatServerConnection.upload({roomId:e||this.connectionInfo.get("roomId"),roomType:i||this.connectionInfo.get("roomType"),status:a.get("status"),messageId:a.get("messageId")},(function(n,o,s){if(n)a.set({messageId:o.messageId,status:Fi.UploadStatuses.Uploading}),a.save((function(){a.get("status")!==Fi.UploadStatuses.Error&&a.get("status")!==Fi.UploadStatuses.Unauthorized&&a.finalize().then((function(){var n=a.get("status")===Fi.UploadStatuses.Complete?"".concat(t.name,"(").concat(a.get("downloadUrl"),")\n").concat(a.getSize()," • ").concat(t.type):a.get("message");r.chatServerConnection.upload({roomId:e||r.connectionInfo.get("roomId"),roomType:i||r.connectionInfo.get("roomType"),status:a.get("status"),messageId:a.get("messageId"),message:n},(function(t,e){t&&a.get("status")!==Fi.UploadStatuses.Error&&a.get("status")!==Fi.UploadStatuses.Unauthorized&&(a.set({serverId:e.serverId}),a.updateContext())}))}))}),(function(){r.chatServerConnection.upload({roomId:e||r.connectionInfo.get("roomId"),roomType:i||r.connectionInfo.get("roomType"),status:a.get("status"),messageId:a.get("messageId"),message:a.get("message")})}));else{var c=407===s?Fi.UploadStatuses.Unauthorized:Fi.UploadStatuses.Error;a.set({status:c,message:Fi.UploadErrorMessages[s]||Fi.UploadErrorMessages.default})}}))}},{key:"getReasonFromResponse",value:function(t){return{1:"Available",2:"NoOperators",3:"ServerDowntime",4:"AccountActivity",5:"ChatQuotaExceeded",6:"WidgetDisabled",7:"IpIsbanned"}[t]||""}},{key:"checkChatAvailable",value:function(t){var e=this,i=t||this.widgetSettings.accountId;if(!window.purechatCheckChatAvailableDeferred||"resolved"===window.purechatCheckChatAvailableDeferred.state())if(window.purechatCheckChatAvailableDeferred=p().Deferred(),this.checkChatAvailableResultCache)window.purechatCheckChatAvailableDeferred.resolve(this.checkChatAvailableResultCache);else{window.purechatCheckChatAvailableDeferred.done((function(t){e.checkChatAvailableResultCache=t,setTimeout((function(){e.checkChatAvailableResultCache=null}),3e3)}));var r=null;this.options.connectionSettings&&(r=this.options.connectionSettings.c||this.options.widgetId||this.options.Id);var n="".concat(Z().widgetApiRootUrl,"/api/VisitorWidget/ChatAvailable/").concat(i,"/").concat(r,"/?externalRequest=false");p().ajax({url:this.timeStampUrl(n),type:"GET",timeout:2e4,error:function(e){!(!window.rubyApi&&t!==Fi.RubyAccountId)&&ue.log(ue.LEVELS.INFO,"[Ruby] Widget Legacy (".concat(r,") error fetching availability, error: ").concat(e.status,"::").concat(e.responseText)),window.purechatCheckChatAvailableDeferred.resolve({available:!1,reason:0})},success:function(i){window.purechatCheckChatAvailableDeferred.resolve({available:1===i.a,reason:e.getReasonFromResponse(i.r)}),window.purechatCheckChatAvailableDeferred=null,(window.rubyApi||t===Fi.RubyAccountId)&&1!==i.a&&ue.log(ue.LEVELS.INFO,"[Ruby] Widget Legacy (".concat(r,") received available=false from server, response: ").concat(JSON.stringify(i)))}})}return window.purechatCheckChatAvailableDeferred.promise()}},{key:"getDashboardVersion",value:function(){return p().ajax({url:"".concat(this.getOption("pureServerUrl"),"/version"),dataType:"jsonp",timeout:2e4,jsonpCallback:"_WidgetJPCB_Version"})}},{key:"getWidgetSettings",value:function(){var t=this,e=p().Deferred();return"boolean"==typeof this.getOption("hasAllSettings")&&this.getOption("hasAllSettings")?e.resolve({success:!0,version:this.getOption("Version"),accountId:this.getOption("AccountId"),color:this.getOption("Color"),position:this.getOption("Position"),widgetType:this.getOption("WidgetType"),widgetConfig:this.options,resources:this.getOption("StringResources"),googleAnalytics:this.getOption("GoogleAnalytics"),chatServerUrl:this.getOption("ChatServerUrl"),userWidgetConfig:this.getOption("UserWidgetSettings")}):p().when(this.getDashboardVersion(),p().ajax({url:"".concat(Z().widgetApiRootUrl,"/api/VisitorWidget/Widget/").concat(this.getOption("widgetId"),"/").concat((new Date).getTime()),timeout:2e4})).done((function(i,r){var n=i[0].v,a=r[0];if(a.Valid){0===a.UnavailableBehavior&&t.options.isDirectAccess&&(a.UnavailableBehavior=1),a.UserWidgetSettings=new w.Model(a.UserWidgetSettings);var o={success:!0,version:n,accountId:a.AccountId,color:a.Color,position:a.Position,widgetType:a.WidgetType,widgetConfig:a,resources:a.StringResources,googleAnalytics:a.GoogleAnalytics,chatServerUrl:a.ChatServerUrl,userWidgetConfig:a.UserWidgetSettings};e.resolve(o)}})).fail((function(){return e.reject()})),e.promise()}},{key:"submitEmailForm",value:function(t){var e=this,i=p().Deferred(),r=null,n=null;try{r=this.cleanNulls(window.localStorage.getItem("i")),this.isActiveSession()&&(n=this.cleanNulls(window.localStorage.getItem(this.getSessionItemName())))}catch(t){}return p().ajax({url:"".concat(this.getOption("apiServerUrl"),"/api/VisitorWidget/SendEmail"),type:"POST",data:Ji(Ji({},t),{},{widgetId:this.getOption("widgetId"),startPage:t.origin||window.location.toString()||"unknown",acquisitionSource:window.localStorage.acquisitionSource||"Direct",pccId:r,pccsId:n})}).done((function(t){try{t.customerId&&window.localStorage.setItem("i",t.customerId),e.connectionInfo.set("hasHadEmail",!0),e.connectionInfo.persistLocalStorage(),V.GaEvent(new w.Model(e.widgetSettings.widgetConfig),"GaTrackingEmail","GAEmailEvent")}catch(t){return i.reject(t)}return i.resolve(t)})).fail((function(){return i.reject()})),i.promise()}},{key:"cleanNulls",value:function(t){if("null"!==t&&null!==t)return t}},{key:"getSessionItemName",value:function(){return"s_".concat(this.widgetSettings.accountId)}},{key:"getLastCheckinItemName",value:function(){return"lastCheckin_".concat(this.widgetSettings.accountId)}},{key:"isActiveSession",value:function(){var t=Date.now(),e=this.getLastCheckinItemName(),i=this.cleanNulls(window.localStorage.getItem(e));return!(i&&t-i>=this.sessionTimeout)}},{key:"getContactId",value:function(){try{return this.cleanNulls(window.localStorage.getItem("i"))}catch(t){return null}}},{key:"getSessionId",value:function(){var t=null;try{this.isActiveSession()&&(t=this.cleanNulls(window.localStorage.getItem(this.getSessionItemName())))}catch(t){}return t}},{key:"startChat",value:function(t){var e=this,i=p().Deferred(),r=this.getContactId(),a=this.getSessionId(),o={visitorName:t.visitorName||"",visitorFirstName:t.visitorFirstName||"",visitorLastName:t.visitorLastName||"",visitorCompany:t.visitorCompany||"",origin:t.origin||window.location.toString()||"unknown",expandSource:window.localStorage.getItem("expandSource")||"",acquisitionSource:localStorage.acquisitionSource||"Direct",operatorJoinIds:(t.operatorJoinIds||[]).join(","),initiator:t.initiator||"",startedByOperator:(t.startedByOperator||!1).toString(),pccid:r,pccsid:a,hubspotUtk:V.getCookie(Fi.HubspotCookieName),sentChatRequest:(this.sentChatRequest||!1).toString()};t.visitorEmail&&(o.visitorEmail=t.visitorEmail),t.visitorPhoneNumber&&(o.visitorPhoneNumber=t.visitorPhoneNumber),t.visitorQuestion&&1!==t.initiator&&(o.visitorQuestion=t.visitorQuestion),this.sentChatRequest||(this.sentChatRequest=!0);var s=this.getOption("widgetId"),c=this.getOption("AccountId"),l="".concat(this.getOption("apiServerUrl"),"/api/VisitorWidget/Chat/").concat(s);return p().ajax({url:l,data:o,method:"POST",timeout:2e4,xhrFields:{withCredentials:!0},success:function(t){if(t.user&&t.room){try{t.customerId&&window.localStorage.setItem("i",t.customerId)}catch(t){}return e.connectionInfo.set({userId:t.user.id,authToken:t.user.authToken,roomId:t.room.id,roomType:2,chatId:t.chat.id,chatClosed:!1,chatServerUrl:t.server.url,hasHadChat:!0}),i.resolve(e.connectionInfo)}return n().has(t,"success")&&!1===t.success?i.resolve(null):i.reject(t.message)},error:function(t,e,r){i.reject("".concat(e,", ").concat(r)),ue.log(ue.LEVELS.ERROR,"Start chat failed: Account: ".concat(c," -- Widget: ").concat(s," -- ").concat(e," -- ").concat(r))},complete:function(){setTimeout((function(){e.sentChatRequest=!1}),0)}}),i}},{key:"connectToChatServer",value:function(t){var e,i=this,r=p().Deferred(),n=this.widgetSettings.accountId,a=this.connectionInfo.get("chatServerUrl");function o(t,e,n,a){t?r.resolve():(i.chatServerConnection&&i.chatServerConnection.disconnect(),r.reject({response:e,errorCode:n,errorMessage:a}))}return!this.chatServerConnection||this.chatServerConnection.isDisconnected&&this.chatServerConnection.isDisconnected()?(this.chatServerConnection&&this.chatServerConnection.clearConnectTestInterval&&this.chatServerConnection.clearConnectTestInterval(),this.chatServerConnection=(e={socketUrl:a,userId:this.connectionInfo.get("userId"),accountId:n,authToken:this.connectionInfo.get("authToken"),logger:ue},new Li(e)),this.chatServerConnection.start(o),t&&this.bindEvents(t)):(this.chatServerConnection&&this.chatServerConnection.clearConnectTestInterval&&this.chatServerConnection.clearConnectTestInterval(),this.chatServerConnection.identify(this.connectionInfo.get("userId"),n,this.connectionInfo.get("authToken"),o,"boolean"==typeof this.options.connectionSettings.poppedOut&&this.options.connectionSettings.poppedOut),t&&this.bindEvents(t)),r}},{key:"setTypingIndicator",value:function(t){this.chatServerConnection.sendtyping(this.connectionInfo.get("roomId"),this.connectionInfo.get("roomType"),t)}},{key:"rateChat",value:function(t){return p().ajax({url:"".concat(this.getOption("apiServerUrl"),"/api/visitorwidget/feedback"),method:"POST",data:{chatId:this.connectionInfo.get("chatId"),rating:t,authToken:this.connectionInfo.get("authToken")}})}},{key:"sendFeedback",value:function(t,e){return p().ajax({url:"".concat(this.getOption("apiServerUrl"),"/api/visitorwidget/feedback"),method:"POST",data:{chatId:this.connectionInfo.get("chatId"),feedback:t,rating:e,authToken:this.connectionInfo.get("authToken")}})}},{key:"checkInRoom",value:function(){return this.connectionInfo.isInChat()||this.connectionInfo.loadFromLocalStorage().isInChat()}},{key:"setCurrentPage",value:function(t){this.chatServerConnection.setVisitorDetails(this.connectionInfo.get("roomId"),this.connectionInfo.get("roomType"),{visitorReferer:t})}},{key:"sendRoomHistory",value:function(){this.chatServerConnection.sendroomhistory(this.connectionInfo.get("roomId"),this.connectionInfo.get("roomType"))}},{key:"unbindHandlerEvents",value:function(){tr(ar(s.prototype),"unbindHandlerEvents",this).call(this),this.unbindHandlerEventsImpl&&this.unbindHandlerEventsImpl()}},{key:"bindEvents",value:function(t){var e=this,i=this;i.handler=t;var r=function(t,e){return(t||"").toString()===(e||"").toString()},n={message:function(e){r(i.connectionInfo.get("roomId"),e.roomId)&&t.onMessage.apply(t,arguments)},messages:function(t){t.forEach((function(t){return n.message(t)}))},"message:deleted":function(e){r(i.connectionInfo.get("roomId"),e.roomId)&&t.onDeleteMessage.apply(t,[e])},joined:function(e,n,a){r(i.connectionInfo.get("roomId"),a)&&t.onJoined.apply(t,arguments)},left:function(e,n,a){r(i.connectionInfo.get("roomId"),a)&&t.onLeft.apply(t,arguments)},"room:left":function(e){r(i.connectionInfo.get("roomId"),e.room.id)&&t.onLeft.apply(t,[e.user.id,e.user.displayName,e.room.id])},roomdestroyed:function(e){r(i.connectionInfo.get("roomId"),e)&&t.onRoomDestroyed.apply(t,arguments)},typing:function(e,n,a){r(i.connectionInfo.get("userId"),e)||r(i.connectionInfo.get("roomId"),a)&&t.onTyping.apply(t,arguments)},userDestroyed:function(e){r(i.connectionInfo.get("userId"),e)&&t.onRoomDestroyed.apply(t)},roomdetailschanged:function(e){r(i.connectionInfo.get("roomId"),e.id)&&t.onRoomDetailsChanged.apply(t,arguments)},roomchanged:function(e){r(i.connectionInfo.get("roomId"),e.room.id)&&t.onRoomChanged.apply(t,arguments)},noOperatorJoined:function(e){r(i.connectionInfo.get("roomId"),e.roomId)&&t.onNoOperatorJoined.apply(t,arguments)},socketDisconnect:function(e){var r=e.reason,n=i.connectionInfo.get("roomId");t.onRoomDestroyed.apply(t,[n,"",new Date,r])},"connection:disconnected:socketio":function(){t.onDisconnected.bind(t),window.clearInterval(e.retryInterval),e.retryInterval=window.setInterval((function(){e.chatServerConnection.trigger("connection:retry:socketio")}),5e3)},"connection:connected:socketio":function(){t.onConnected.bind(t),window.clearInterval(e.retryInterval),e.retryInterval=null},"identify:error":function(){window.clearInterval(e.retryInterval),e.retryInterval=null,e.chatServerConnection.trigger("connection:connected:socketio"),t.onIdentifyError.apply(t)}};this.unbindHandlerEventsImpl=function(){e.chatServerConnection.off(n),e.handler=null},this.chatServerConnection.on(n)}}],i&&Qi(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),s}(ve),cr=sr;function lr(t){return lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lr(t)}function pr(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ur(t,e){return ur=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ur(t,e)}function hr(t,e){if(e&&("object"===lr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function dr(t){return dr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dr(t)}var gr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ur(t,e)}(o,t);var e,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=dr(r);if(n){var i=dr(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return hr(this,t)});function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=a.call(this,t)).chatAvailable="function"!=typeof e.setDemoUnavailable||!e.setDemoUnavailable(),e}return e=o,(i=[{key:"startChat",value:function(){return this.connectionInfo.set("userId",1),this.connectionInfo.set("authToken","adsfasfdsdf"),this.connectionInfo.set("roomId",1),p().Deferred().resolve(this.connectionInfo)}},{key:"closeChat",value:function(){return p().Deferred().resolve()}},{key:"getContactInfo",value:function(){var t=p().Deferred();return setTimeout((function(){return t.resolve({firstName:"",lastName:"",company:"",email:"",phone:""})}),0),t}},{key:"restartChat",value:function(){return p().Deferred().resolve()}},{key:"connectToChatServer",value:function(t){var e=p().Deferred();return this.handler=t,setTimeout((function(){return e.resolve()}),0),e}},{key:"sendRoomHistory",value:function(){}},{key:"checkInRoom",value:function(){return!1}},{key:"newMessage",value:function(t){var e=new Date,i=e.getHours(),r=e.getMinutes(),n=e.getSeconds(),a=i>=12;i=i<10||12===i?i:i%12,r=r<10?"0".concat(r):r,n=n<10?"0".concat(n):n,this.getOption("chatModel").get("messages").add({userId:e.getTime(),type:Fi.MessageTypes.Message,message:t,myMessage:!0,userName:"Aaron",time:"".concat(i,":").concat(r," ").concat(n).concat(a?"PM":"AM"),date:e,avatarUrl:Pi})}},{key:"checkChatAvailable",value:function(){var t=this,e=p().Deferred();return setTimeout((function(){return e.resolve({available:t.chatAvailable})}),1),e}},{key:"getWidgetSettings",value:function(){return p().Deferred().resolve({Version:27288,WidgetWording:{Id:721,AccountId:0,Title:"Chat with us test."},AccountId:1,Color:"000000",Position:2,WidgetType:1,UnavailableBehavior:2,AskForRating:!0,AskForFirstName:!0,AskForLastName:!0,AskForEmail:!1,AskForCompany:!0,AskForQuestion:!0,ForcePopout:!1,StringResources:{chat_identifyFailed:"Failed to connect to PureChat!",greeting:"Hello",closed_message:"Thanks for chatting. Please rate how you feel about the chat session:",closed_opMessage:"This chat has ended.<br/>What would you like to do?",chat_joinMessage:"{displayName} has joined the chat!",placeholder_email:"Email",chat_connecting:"Connecting you to the chat now...",chat_nowChattingWith:"Chatting with {chatUserNames}.",label_pressToBegin:"Press the button below to begin!",error_enterEmail:"Please enter an email address.",closed_downloadTrans:"Download chat transcript",title_noOperators:"No Operators Available",error_enterQuestion:"Please enter a question",noOperators_email_message:"There are currently no operators available, but feel free to send us an email!",poweredby:"Powered by",chat_noOperatorMessage:"An operator has not yet connected. Don't worry, an operator will be by shortly! When they connect, they'll see all the messages you've sent so far.",chat_typing:"{displayName} is typing",title_chatClosed:"Chat Closed",closed_ratingThanks:"Thanks for your rating!",placeholder_name:"Name",placeholder_firstName:"First Name",placeholder_lastName:"Last Name",placeholder_comapny:"Company",title_initial:"Chat with us test.",title_unavailable_initial:"Contact Us",placeholder_question:"Enter your Question",label_initial_label:"Introductory Text",title_initial_label:"Widget Title",error_noOperators:"Sorry, no operators are currently available",label_initial:"Enter your info below to begin.",error_noOperators_label:"No Operators Available",button_startChat:"Send Chat Request",label_initial_helptext:"This is the introductory text that will be displayed after the user clicks on the PureChat widget.",button_sendEmail:"Send Email",chat_startedMessage:"An operator will be right with you! Feel free to hide this box and navigate around the site.",chat_leftMessage:"{displayName} has left the chat!",button_startNewChat:"Start a new chat",error_noOperators_helptext:"This is the message that will be displayed when Hide Widget When Unavailable is unchecked, and there are no operators available.",error_enterName:"Please enter a name.",mobile_title_initial:"Chat",mobile_title_unavailable_initial:"Contact"},GoogId:"UA-XXXX-Y",GaTrackingTab:!1,GaTrackingChat:!1,GaTrackingThumbs:!1,GATabEvent:"Tab Opened",GAChatEvent:"Chat Started",GAUpThumbEvent:"Thumbs Up",GADownThumbEvent:"Thumbs Down",GAEventCategory:"PureChat widget",UsingGa:!1,ChatServerUrl:"http://chad.purechat.com:8000",DisplayWidgetAnimation:"bounceInDown",CollapsedWidgetImageUrl:"http://chad.purechat.com/Content/images/widgetSamples/operator1.png"})}},{key:"rateChat",value:function(){return p().Deferred().resolve()}},{key:"setTypingIndicator",value:function(){}},{key:"bindEvents",value:function(t){this.handler=t}}])&&pr(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(ve),mr=gr,fr=i.p+"file.e902d3c4c7fe156cf1f7.png",br=i.p+"file.345ea5e23fab19227e15.webp";function yr(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vr(){return window.CSS&&n().isFunction(window.CSS.supports)&&window.CSS.supports("mask","none")}function wr(){var t={}.toString;return!!document.createElementNS&&/SVGAnimate/.test(t.call(document.createElementNS("http://www.w3.org/2000/svg","animate")))}var _r=_.ItemView.extend({template:n().template(""),className:"purechat-progress-spinner",onRender:function(){this.getOption("overlay"),this.$el.addClass("purechat-progress-spinner-overlay")}}),Cr=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,i;return e=t,i=[{key:"show",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||!p()(t).length)throw new Error("No jquery element provided when creating a circle spinner!");var i=e.preventInteraction,r=void 0===i||i;if(!t.data("progress-spinner")){var n=new _r({overlay:r});n.render(),vr()||n.$el.addClass("purechat-progress-spinner-compat"),wr()||n.$el.addClass("purechat-animate-spin"),n.$el.appendTo(t),t.addClass("purechat-progress-spinner-container").data("progress-spinner",n),r&&p()(t).on("keydown.circle-spinner",(function(){return!1})).on("click.circle-spinner",(function(){return!1}))}}},{key:"hide",value:function(t){if(!t||!p()(t).length)throw new Error("No jquery element provided when creating a circle spinner!");var e=t.data("progress-spinner");e&&(e.destroy(),t.removeData("progress-spinner").removeClass("purechat-progress-spinner-container"),t.off(".circle-spinner"))}}],i&&yr(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}(),xr=new Cr,kr={getInstance:function(){return xr},show:xr.show.bind(xr),hide:xr.hide.bind(xr)},jr=i(7971),Ir=i.n(jr),Sr=i(1518),Pr=i.n(Sr),Tr=i(3892),Rr=i.n(Tr),Mr=i(3542),Ar=i.n(Mr),Er=_.ItemView.extend({template:n().template('\n        <% if (obj.ShowGoogleMap) { %>\n        <iframe src="<%= obj.getEmbedUrl() %>"></iframe>\n        <% } %>\n        <a href="<%= obj.getMapsUrl() %>" target="_blank"><%= obj.sanitizeAddress() %></a>\n    '),className:"purechat-flyout-address",templateHelpers:function(){var t=this;return{sanitizeAddress:function(){return(t.model.get("Address")||"").replace(/(\r\n|\n)/g,"<br/>")},getMapsUrl:function(){return"https://maps.google.com/?q=".concat(window.encodeURIComponent(t.model.get("Address")))},getEmbedUrl:function(){var e="https://www.google.com/maps/embed/v1/place?key=".concat(Z().googleEmbedApiKey);return"".concat(e,"&q=").concat(window.encodeURIComponent(t.model.get("Address")))}}}}),Or=_.ItemView.extend({template:n().template("<%= obj.getText() %>"),className:"purechat-truncate",templateHelpers:function(){var t=this;return{getText:function(){var e=t.getOption("text"),i=t.getOption("substitution");if(!e)return"";if(i){var r=new RegExp("{([^}]*)}","g");return e.replace(r,i)}return e}}}}),Wr=_.ItemView.extend({template:n().template('\n        <div class="purechat-flyout-twitter-feed">\n            <a class="twitter-timeline" data-height="312" href="https://twitter.com/<%= obj.TwitterHandle %>" data-chrome="nofooter">Tweets by <%= obj.TwitterHandle %></a>\n        </div>\n        <div class="purechat-flyout-twitter-buttons">\n            <div><a href="https://twitter.com/intent/tweet?screen_name=<%= obj.TwitterHandle %>" class="twitter-mention-button" data-related="<%= obj.TwitterHandle %>" data-size="small">Tweet to @<%= obj.TwitterHandle %></a></div>\n            <div><a href="https://twitter.com/<%= obj.TwitterHandle %>" class="twitter-follow-button" data-show-count="false" data-size="small">Follow @<%= obj.TwitterHandle %></a></div>\n        </div>\n    '),className:"purechat-flyout-twitter",loadScript:function(){var t,e,i,r,a,o,s=this,c=p().Deferred(),l=p().Deferred();return this.scriptReady||!this.model.get("TwitterHandle")?c.resolve():(window.twttr=(e="script",i="purechat-twitter-wjs",a=(t=document).getElementsByTagName(e)[0],o=window.twttr||{},t.getElementById(i)||((r=t.createElement(e)).id=i,r.src="https://platform.twitter.com/widgets.js",r.onload=r.onreadystatechange=function(){l.resolve()},a.parentNode.insertBefore(r,a),o._e=[],o.ready=function(t){o._e.push(t)}),o),l.done((function(){var t=n().after(3,(function(){s.scriptReady=!0,c.resolve()})),e=function(e){e.events.bind("rendered",(function(e){s.$el.has(e.target).length>0&&setTimeout((function(){var i=e.target.getAttribute("style").replace(/;/g," !important;");e.target.setAttribute("style",i),t()}),1)})),e.widgets.load(s.$el.get(0))};window.twttr&&window.twttr.widgets&&window.twttr.widgets.load?e(window.twttr):window.twttr.ready(e)})),c.promise())},onDestroy:function(){var t=document.getElementById("purechat-twitter-wjs");t&&t.parentNode.removeChild(t)}}),Dr=i(9261),Nr=i.n(Dr),Ur=_.ItemView.extend({template:Nr(),className:"purechat-email-form purechat-card",ui:{form:".purechat-form",userDisplayName:".purechat-name-input",userDisplayFirstName:".purechat-firstname-input",userDisplayLastName:".purechat-lastname-input",userDisplayCompany:".purechat-company-input",email:".purechat-email-input",question:".purechat-question-input",userDisplayNameError:".please-entername",emailError:".please-enteremail",questionError:".please-enterquestion",phoneNumber:".purechat-phonenumber-input",unavailablePhoneNumber:".purechat-unavailablephone-input",phoneNumberError:".please-enterphonenumber",unavailablePhoneError:".please-enterunavailablephone",userDisplayFirstNameError:".please-enterfirstname",userDisplayLastNameError:".please-enterlastname",userDisplayCompanyError:".please-entercompany",error:".purechat-email-error"},templateHelpers:function(){var t=this;return n().extend({getMessage:function(){return p()("<div/>").html(t.model.get("InitialVisitorQuestion")).text().replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")}},this.options.settings)},events:{"submit form":"submitEmailForm","change @ui.userDisplayFirstName":"triggerFirstNameChange","change @ui.userDisplayLastName":"triggerLastNameChange","change @ui.userCompany":"triggerCompanyChange","change @ui.email":"triggerEmailChange","change @ui.question":"triggerQuestionChange","change @ui.phoneNumber":"triggerPhoneNumberChange"},modelEvents:{change:"render"},error:function(){this.ui.error.purechatDisplay()},triggerFirstNameChange:function(){var t=p().trim(this.ui.userDisplayFirstName.val());this.options.viewController.getChatModel().set("visitorFirstName",t,{silent:!0})},triggerLastNameChange:function(){var t=p().trim(this.ui.userDisplayLastName.val());this.options.viewController.getChatModel().set("visitorLastName",t,{silent:!0})},triggerCompanyChange:function(){var t=p().trim(this.ui.userDisplayCompany.val());this.options.viewController.getChatModel().set("visitorCompany",t,{silent:!0})},triggerEmailChange:function(){var t=p().trim(this.ui.email.val());this.options.viewController.getChatModel().set("visitorEmail",t,{silent:!0})},triggerPhoneNumberChange:function(){var t=p().trim(this.ui.phoneNumber.val());this.options.viewController.getChatModel().set("visitorPhoneNumber",t,{silent:!0})},triggerQuestionChange:function(){var t=this.ui.question.val();this.options.viewController.getChatModel().set("visitorQuestion",t,{silent:!0})},submitEmailForm:function(t){var e=this;if(t.preventDefault(),this.submitDelay)return!1;this.submitDelay=!0,setTimeout((function(){delete e.submitDelay}),500);var i=this.options.settings.get("EmailFormAskForFirstName"),r=this.options.settings.get("EmailFormAskForLastName"),n=this.options.settings.get("EmailFormAskForPhoneNumber"),a=this.options.settings.get("EmailFormAskForCompany"),o=null,s=i?p().trim(this.ui.userDisplayFirstName.val()):null,c=r?p().trim(this.ui.userDisplayLastName.val()):null,l=a?p().trim(this.ui.userDisplayCompany.val()):null,u=this.ui.email.val(),h=this.ui.question.val();if(this.ui.form.find('[class*="please"]').purechatDisplay("none"),"string"==typeof s&&0===s.length&&this.options.settings.get("RequireFirstName"))return this.ui.userDisplayFirstNameError.purechatDisplay("block"),this.options.viewController.triggerResizedEvent(),!1;if("string"==typeof c&&0===c.length&&this.options.settings.get("RequireLastName"))return this.ui.userDisplayLastNameError.purechatDisplay("block"),this.options.viewController.triggerResizedEvent(),!1;if("string"==typeof u&&0===u.length)return this.ui.emailError.purechatDisplay("block"),this.options.viewController.triggerResizedEvent(),!1;if("string"==typeof l&&0===l.length&&this.options.settings.get("RequireCompany"))return this.ui.userDisplayCompanyError.purechatDisplay("block"),this.options.viewController.triggerResizedEvent(),!1;var d=this.ui.phoneNumber.val();if(n){if(0===d.length&&this.options.settings.get("RequirePhoneNumber"))return this.ui.phoneNumberError.purechatDisplay("block"),this.options.viewController.triggerResizedEvent(),!1;this.ui.phoneNumberError.purechatDisplay("none"),this.options.viewController.triggerResizedEvent(),this.ui.phoneNumber.val(d)}return null===h||""===p().trim(h)?(this.ui.questionError.purechatDisplay("block"),this.options.viewController.triggerResizedEvent(),!1):(s=s||this.options.viewController.getPublicApi().get("visitor_firstName")||this.model.get("InitialVisitorFirstName")||"Visitor",c=c||this.options.viewController.getPublicApi().get("visitor_lastName")||this.model.get("InitialVisitorLastName"),l=l||this.options.viewController.getPublicApi().get("visitor_company")||this.model.get("InitialVisitorCompany"),u=u||this.options.viewController.getPublicApi().get("visitor_email")||this.model.get("InitialVisitorEmail"),h=h||this.options.viewController.getPublicApi().get("visitor_question")||this.model.get("InitialVisitorQuestion"),d=d||this.options.viewController.getPublicApi().get("visitor_phonenumber")||this.model.get("InitialVisitorPhoneNumber"),s?(o=s,c&&(o+=c)):c?o=c:(o="Visitor",s="Visitor"),this.model.set({Name:o,FirstName:s,LastName:c,Company:l,Email:u,Question:h,PhoneNumber:d}),this.model.trigger("formSubmit",{visitorName:V.escapeHtml(V.stripDangerousTags(o||""),!0),visitorFirstName:V.escapeHtml(V.stripDangerousTags(s||""),!0),visitorLastName:V.escapeHtml(V.stripDangerousTags(c||""),!0),visitorCompany:V.escapeHtml(V.stripDangerousTags(l||""),!0),visitorEmail:V.escapeHtml(V.stripDangerousTags(u||""),!0),visitorQuestion:V.escapeHtml(V.stripDangerousTags(h||""),!1),visitorPhoneNumber:V.escapeHtml(V.stripDangerousTags(d||""),!0)}),!1)}}),Br=i(8345),zr=i.n(Br),Vr=_.ItemView.extend({template:zr(),templateHelpers:function(){var t=this;return{getResource:function(e){return t.getOption("rm").getResource(e)}}}}),Lr=.5,Fr="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",Hr=_.LayoutView.extend({currentViewId:null,template:n().template('\n        <div class="purechat-flyout-content">\n            <div class="purechat-flyout-email-view"></div>\n            <div class="purechat-flyout-phone-view"></div>\n            <div class="purechat-flyout-twitter-view"></div>\n            <div class="purechat-flyout-address-view"></div>\n            <div class="purechat-flyout-arrow"></div>\n        </div>\n    '),className:"purechat-flyout purechat-animate purechat-animate-fast purechat-flyout-hide purechat-display-none",ui:{arrow:".purechat-flyout-arrow"},regions:{email:".purechat-flyout-email-view",phone:".purechat-flyout-phone-view",twitter:".purechat-flyout-twitter-view",address:".purechat-flyout-address-view"},onRender:function(){this.model.get("ShowEmailButton")&&this.showChildView("email",this.getView("email")),this.model.get("ShowPhoneButton")&&this.showChildView("phone",this.getView("phone")),this.model.get("ShowTwitterButton")&&this.showChildView("twitter",this.getView("twitter")),this.model.get("ShowAddressButton")&&this.showChildView("address",this.getView("address")),this.getOption("isTop")?this.ui.arrow.addClass("purechat-flyout-arrow-top"):this.ui.arrow.addClass("purechat-flyout-arrow-bottom")},showEmailView:function(t,e){var i=this;this.showChildView("email",t),this.showView("email",e),t.model.on("formSubmit",(function(r){t.options.dataController.submitEmailForm(r).done((function(n){n.success?(i.showChildView("email",new Vr({model:t.model,rm:i.model})),i.reposition(e),t.options.viewController.trigger("email:send",r)):t.error()}))}))},showView:function(t,e){var i=this;if(this.currentViewId===t){this.$el.on(Fr,(function(){i.$el.off(Fr),i.$el.removeClass("purechat-animation-bounceUpSmall purechat-animation-bounceDownSmall")}));var r=this.getOption("isTop")?"purechat-animation-bounceDownSmall":"purechat-animation-bounceUpSmall";this.$el.addClass(r)}else this.hide().then((function(){i.regionManager.forEach((function(t){return t.$el.purechatDisplay("none")})),i.regionManager.get(t).$el.purechatDisplay(),i.ui.arrow.purechatCss("left","50%"),i.currentViewId=t,i.$el.purechatDisplay(),i.reposition(e),i.$el.hasClass("purechat-flyout-hide")&&(i.$el.on(Fr,(function(){i.$el.off(Fr),i.$el.removeClass("purechat-flyout-show")})),i.$el.removeClass("purechat-flyout-hide").addClass("purechat-flyout-show"))}))},getView:function(t){var e="".concat(t,"View");return this[e]||(this[e]=this.createView(t)),this[e]},createView:function(t){return{email:this.isEmailForm()?new Ur({model:new w.Model,settings:this.model}):new Or({text:this.model.get("EmailAddress"),substitution:'<a href="mailto:$1">$1</a>'}),phone:new Or({text:this.model.get("PhoneNumber"),substitution:'<a href="tel:$1">$1</a>'}),twitter:new Wr({model:this.model}),address:new Er({model:this.model})}[t]},hide:function(t){var e=this,i=p().Deferred();return this.currentViewId=null,this.$el.hasClass("purechat-display-none")?i.resolve():(t?(this.$el.addClass("purechat-flyout-hide").purechatDisplay("none"),i.resolve()):(this.$el.on(Fr,(function(){e.$el.off(Fr),e.$el.purechatCss({left:"auto",right:"auto"}),e.$el.purechatDisplay("none"),i.resolve()})),this.$el.addClass("purechat-flyout-hide")),i)},setInitialPosition:function(){var t=this.getOption("widgetElement"),e=t.innerHeight(),i=e+(t.outerHeight()-e)*Lr;this.getOption("isTop")?this.$el.purechatCss("top",i+20):this.$el.purechatCss("bottom",i+20)},reposition:function(t){this.reset(),this.setInitialPosition();var e=this.model.useMobile()&&!this.model.isDesktopDimension(),i=this.getOption("widgetElement"),r=i.hasClass("purechat-bottom-right")||i.hasClass("purechat-top-right"),n=t.position().left+t.outerWidth()*Lr-this.$el.outerWidth()*Lr,a=n+this.$el.outerWidth(),o=["address","twitter","email"].indexOf(this.currentViewId)>-1,s="email"===this.currentViewId&&!this.isEmailForm();e&&o&&!s?this.$el.addClass("purechat-flyout-wide"):r&&a>i.outerWidth()?this.$el.purechatCss({right:0,left:"auto"}):!r&&n<i.position().left?this.$el.purechatCss({right:"auto",left:0}):this.$el.purechatCss({left:"".concat(n+5,"px")}),this.repositionArrow(t)},repositionArrow:function(t){var e=t.offset().left+t.outerWidth()*Lr-this.ui.arrow.offset().left-11,i=this.ui.arrow.position().left;this.ui.arrow.purechatCss("left",i+e)},reset:function(){this.$el.purechatCss("left",""),this.$el.purechatCss("right",""),this.$el.removeClass("purechat-flyout-wide")},isEmailForm:function(){return this.model.get("EmailButtonBehavior")===Fi.EmailButtonBehaviors.ShowEmailForm}}),qr="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",Zr=new V.Notifier,$r=_.LayoutView.extend({template:null,id:"PureChatWidget",className:"purechat purechat-display-none",optionsStepShown:!1,maxWidth:700,missedMessageCount:0,_audioNotificationLocalStorageKey:"_purechatVisitorWidgetPlaySound",regions:{content:".purechat-content",closedMessage:".purechat-closed-content",flyout:".purechat-flyout-container"},events:{"click [data-trigger]":"executeCommand",mouseenter:"peekWidget",mouseleave:"unpeekWidget","click .purechat-toggle-audio-notifications":"updatePlayAudioLocalStorage","click @ui.flyout":function(t){return t.stopPropagation()},"dragover @ui.contentWrapper":"showFileTransferOverlay","dragenter @ui.contentWrapper":"showFileTransferOverlay","dragleave @ui.fileOverlay":"hideFileTransferOverlay","dragend @ui.fileOverlay":"hideFileTransferOverlay","drop @ui.fileOverlay":"fileDropped"},childEvents:{roomHostChanged:function(t,e){this.showRoomHostAvatar(e.get("roomHostAvatarUrl"),e.get("expanded"))}},modelEvents:{"change:operatorsAvailable":"operatorsAvailableChanged","api:change":"apiRoomDetailsChanged"},ui:{contentWrapper:".purechat-content-wrapper",fileOverlay:".purechat-file-overlay",content:".purechat-content",purechatCollapsed:".purechat-collapsed",collapsedTabWrapper:".purechat-collapsed .purechat-collapsed-outer",title:".purechat-expanded .purechat-widget-title-link",collapsedTitle:".purechat-collapsed .purechat-widget-title-link",popoutButton:'[data-trigger="popOutChat"]',closeButton:'[data-trigger="closeChat"]',removeWidgetButton:'[data-trigger="removeWidget"]',restartButton:'[data-trigger="restartChat"]',requeueButton:'[data-trigger="requeueChat"]',leaveButton:'[data-trigger="leaveChat"]',widgetCollapsed:".purechat-collapsed",widgetExpanded:".purechat-expanded",collapseImage:".purechat-collapsed-image",expandMobileButton:".purechat-expand-mobile-button",roomAvatarUrl:".purechat-widget-room-avatar",purechatTitleImage:".purechat-title-image",superMinimizeButton:".purechat-super-minimize-link-button",missedMessageCount:".purechat-missed-message-count",footer:".purechat-footer",flyout:".purechat-flyout",messagePreview:".purechat-collapsed .purechat-message-preview",messagePreviewText:".purechat-collapsed .purechat-message-preview-text",emailFlyoutButton:'[data-trigger="showEmail"]',phoneFlyoutButton:'[data-trigger="showPhoneNumber"]',twitterFlyoutButton:'[data-trigger="showTwitter"]',addressFlyoutButton:'[data-trigger="showAddress"]',disconnect:".purechat-disconnect"},templateHelpers:function(){var t=this,e=this;return p().extend({isDesktopDimension:function(){return e.options.viewController.isDesktopDimension()},MobileDisplayTypes:Fi.MobileDisplayTypes,localCssName:function(t){return(_.getOption(this,"cssModules")||{})[t]||t},icons:Ar()(),showChatButton:function(){return t.getOperatorsAvailable()},isMobile:this.isMobile.bind(this),collapsedIconClass:function(){return t.isMobile()?"pc-svgicon-lg":"pc-svgicon-md"},arrowClass:function(){return t.isTop()?"#pc-svgicon-arrow-up":"#pc-svgicon-arrow-down"},superMinimizeArrowClass:function(){return t.isTop()?"#pc-svgicon-arrow-down":"#pc-svgicon-arrow-up"},iconRootUrl:function(){return V.iconRootUrl(t.settings.get("isDemo"))},svgHrefAttr:function(){return V.svgHrefAttr()},FileIconWebp:br,FileIconPng:fr},this.settings)},setWidgetShown:function(){window.sessionStorage.setItem("purechat_widgetShown",!0)},widgetShown:function(){return"true"===window.sessionStorage.getItem("purechat_widgetShown")},apiRoomDetailsChanged:function(t,e,i){this.options.viewController.apiRoomDetailsChanged(t,e,i)},updatePlayAudioLocalStorage:function(t){var e=p()(t.currentTarget).find(".pc-svgicon use"),i=V.svgHrefAttr();return e.attr(i).indexOf("#pc-svgicon-sound")>-1?(window.localStorage[this._audioNotificationLocalStorageKey]=!1,e.attr(i,"".concat(window.location,"#pc-svgicon-no-sound"))):(window.localStorage[this._audioNotificationLocalStorageKey]=!0,e.attr(i,"".concat(window.location,"#pc-svgicon-sound"))),!1},clearRoomHostAvatar:function(){this.ui.roomAvatarUrl.removeClass("purechat-has-room-avatar").removeAttr("style")},showRoomHostAvatar:function(t){t&&this.ui.roomAvatarUrl.purechatCss({"background-image":"url(".concat(t,")")}).addClass("purechat-has-room-avatar")},toggleFooter:function(){this.settings.get("RemoveBranding")?this.ui.footer.purechatDisplay("none"):this.ui.footer.purechatDisplay("flex")},hideFooter:function(){this.ui.footer.purechatDisplay("none")},showFooter:function(){this.ui.footer.purechatDisplay("flex")},showSpinner:function(){kr.show(this.ui.content)},hideSpinner:function(){kr.hide(this.ui.content)},bindAppCommands:function(){try{H.events.off("footer:hide"),H.events.off("footer:toggle"),H.events.off("widget:spinner:show"),H.events.off("widget:spinner:hide")}catch(t){}finally{H.events.on("footer:show",this.showFooter,this),H.events.on("footer:hide",this.hideFooter,this),H.events.on("footer:toggle",this.toggleFooter,this),H.events.on("widget:spinner:show",this.showSpinner,this),H.events.on("widget:spinner:hide",this.hideSpinner,this)}},repositionWidget:function(){var t={1:"purechat-bottom purechat-bottom-left",2:"purechat-bottom purechat-bottom-right",3:"purechat-top purechat-top-left",4:"purechat-top purechat-top-right",9999:"purechat-widget-button"};for(var e in t)this.$el.removeClass(e);this.isMobile()?this.$el.addClass(t[this.settings.get("MobilePosition")]):this.isPoppedOut()||this.settings.get("isDirectAccess")||(this.settings.get("WidgetType")===Fi.WidgetType.Button?this.$el.addClass(t[9999]):this.$el.addClass(t[this.settings.get("Position")]))},chooseWidgetTemplate:function(){var t=this.settings.useMobile();this.settings.get("isDirectAccess")&&t?(this.template=Pr(),this.$el.addClass("purechat-widget purechat-popped-out-widget")):this.settings.get("isDirectAccess")?(this.template=Pr(),this.$el.addClass("purechat-widget purechat-hosted-widget")):this.settings.get("poppedOut")?(this.template=Rr(),this.$el.addClass("purechat-window purechat-popped-out-widget")):t&&!this.settings.isDesktopDimension()?(this.template=Ir(),this.$el.addClass("purechat-window purechat-popped-out-widget purechat-not-clickable purechat-display-none")):(this.template=Ir(),this.$el.addClass("purechat-widget purechat-display-none")),this.settings.get("CollapsedStyle")===Fi.WidgetType.Button&&this.$el.addClass("purechat-custom-button")},bindWidgetSettingsChanges:function(){this.listenTo(this.settings,"change",n().bind(this.updateImageTransform,this)),this.listenTo(this.settings,"change:AvailableImageXOffset",n().bind(this.updateImageTransform,this)),this.listenTo(this.settings,"change:AvailableImageYOffset",n().bind(this.updateImageTransform,this)),this.listenTo(this.settings,"change:UnavailableImageXOffset",n().bind(this.updateImageTransform,this)),this.listenTo(this.settings,"change:UnavailableImageYOffset",n().bind(this.updateImageTransform,this)),this.listenTo(this.settings,"change:Width",this.setCollapsedWidth.bind(this)),this.listenTo(this.settings,"change:visibleFlyoutId",this.toggleFlyoutPreview.bind(this)),this.listenTo(this.settings,"change:visible",this.toggleVisibility.bind(this))},getOperatorsAvailable:function(){return void 0===this.model.get("operatorsAvailable")||this.model.get("operatorsAvailable")},updateCollapsedStyle:function(){var t=this.settings.useMobile()&&!this.settings.isDesktopDimension(),e=this.getOperatorsAvailable(),i=this.options.widgetSettings.get(t?"MobileUseAvailableImageForBoth":"UseAvailableImageForBoth"),r=this.isInChat()||e||i,n=t?this.settings.mobileAbsoluteCollapsedImageUrl(r):this.settings.absoluteCollapsedImageUrl(r);this.setCollapsedImage(r),n?(this.$el.addClass("purechat-has-image"),this.ui.collapseImage.purechatDisplay()):(this.ui.collapseImage.purechatDisplay("none"),this.$el.removeClass("purechat-has-image")),this.showTab()?this.ui.collapsedTabWrapper.purechatDisplay("block"):this.ui.collapsedTabWrapper.purechatDisplay("none"),this.settings.get("CollapsedStyle")===Fi.WidgetType.Button&&(p()(".purechat-button-expand").purechatCss("visibility","visible"),this.ui.collapseImage.purechatDisplay("none")),this.isInChat()||e?this.$el.find(".purechat-start-chat").purechatDisplay():this.$el.find(".purechat-start-chat").purechatDisplay("none"),this.isHiddenMobile()&&!this.settings.anyButtonEnabled()&&this.$el.purechatDisplay("none")},initialize:function(){var t=this;_.LayoutView.prototype.initialize.call(this),this.settings=_.getOption(this,"widgetSettings"),this.cssModules=_.getOption(this,"cssModules");var e=this.settings.get("isDemo"),i=this.settings.get("forceMobileSuperMinimize");this.preventExternalEventPropagation(),this.registerMobileInputFocusHandler(),this.isImageOnly()&&this.$el.addClass("purechat-image-only"),this.autoSuperMinimize(),e&&!i?(this.model.set("superMinimize",!1),window.localStorage.superMinimize=!1):this.model.set("superMinimize",this.isSuperMinimized()),this.chooseWidgetTemplate(),this.repositionWidget(),this.bindWidgetSettingsChanges(),this.bindAppCommands(),this.settings.showPlaySoundCheckbox=function(){return!t.settings.useMobile()},this.settings.playSoundOnNewMessage=function(){return"true"===(window.localStorage[t._audioNotificationLocalStorageKey]||"false").toLowerCase()}},preventExternalEventPropagation:function(){var t=this,e=["blur","change","click","dblclick","focus","focusin","focusout","hover","keydown","keypress","keyup","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","resize","scroll","select","submit","drag","dragstart","dragend","dragover","dragenter","dragleave","drop","touchstart"].join(" ");this.$el.on(e,(function(e){e.stopPropagation(),"click"===e.type&&t.getOption("viewController").trigger("widget:click",e)}))},registerMobileInputFocusHandler:function(){var t=this;this.isMobile()&&p()(window).on("resize",(function(){var e=document.activeElement,i="INPUT"===e.tagName||"TEXTAREA"===e.tagName,r=t.$(e).length>0;i&&r&&n().defer((function(){return document.activeElement.scrollIntoView()}))}))},registerFlyoutCloseClickHandler:function(){var t=this;p()(window).on("mouseup.purechat-flyout",(function(){var e=t.getRegion("flyout").currentView;if(e){e.hide();var i=t.$el.find(".purechat-collapsed .purechat-widget-header");t.resetIcons(i)}}))},stringToBoolean:function(t){return!!t&&("string"==typeof t?"true"===t.toLowerCase():t)},isSuperMinimized:function(){return!this.isImageOnly()&&!this.settings.get("isDemo")&&this.stringToBoolean(window.localStorage.superMinimize)},setTitle:function(t,e){this.setCollapsedTitle(t,e),this.setExpandedTitle(t,e)},setCollapsedTitle:n().debounce((function(t,e){this.ui.collapsedTitle.html(t).attr("data-resourcekey",e)}),50),setExpandedTitle:function(t,e){this.ui.title.text(t).attr("data-resourcekey",e),this.isPoppedOut()&&(window.document.title=t)},setMessagePreview:n().debounce((function(t){var e=this;this.ui.messagePreviewText.html(t).attr("title",t),this.ui.messagePreview.removeClass("purechat-animation-toastUpDown purechat-animation-toastDownUp"),this.forceStopAnimation(this.ui.messagePreview.get(0));var i=this.isTop()?"purechat-animation-toastDownUp":"purechat-animation-toastUpDown";this.ui.messagePreview.on(qr,(function(){e.ui.messagePreview.off(qr),e.ui.messagePreview.removeClass("purechat-animate purechat-animation-toastUpDown purechat-animation-toastDownUp").purechatDisplay("none")})).purechatDisplay().addClass(i)}),50),updateImageTransform:function(){var t=this.getOperatorsAvailable()||this.options.widgetSettings.get("UseAvailableImageForBoth");this.options.widgetSettings.set("AvailableImageScale",Math.min(100,this.options.widgetSettings.get("AvailableImageScale")),{silent:!0}),this.options.widgetSettings.set("UnavailableImageScale",Math.min(100,this.options.widgetSettings.get("UnavailableImageScale")),{silent:!0}),this.ui.collapseImage&&this.ui.collapseImage.attr&&this.setCollapsedImage(t)},hideAdditionalDetails:function(){this.$el.find(".purechat-widget-sliding-panel").removeClass("expanded").addClass("collapsed"),this.$el.find(".purechat-widget-inner").removeClass("expanded"),this.$el.purechatCss({width:this.maxWidth-200})},showAdditionalDetails:function(){var t=this.$el.find(".purechat-widget-sliding-panel"),e=t.find(".spinner"),i=this.$el.find(".purechat-widget-inner .purechat-widget-header").outerHeight();e.purechatDisplay(),this.$el.find(".purechat-widget-inner").addClass("expanded"),t.find(".purechat-widget-header").purechatCss({height:i,lineHeight:"".concat(i,"px")}),t.find(".purechat-additional-content").purechatCss({top:i}),t.removeClass("collapsed").addClass("expanded"),e.purechatDisplay("none")},executeCommand:function(t){if(t.preventDefault(),t.stopPropagation(),this.settings.get("isInEditorMode"))return null;var e=p()(t.currentTarget),i=e.data("trigger"),r=e.data("trigger-params");return this.minimizeOnLoadTimeout&&(this.minimizeOnLoadTimeout=clearTimeout(this.minimizeOnLoadTimeout)),this.cancelAutoSuperMinimize(),this.triggerMethod(i,r,t)},setAutoExpandTimeout:function(){var t=this,e=1e3*this.settings.get("ExpandWidgetTimeout"),i=setTimeout((function(){t.expand(),clearTimeout(i)}),e)},enablePurechatAssist:function(){p()("html").addClass("purechat-assist")},disablePurechatAssist:function(){p()("html").removeClass("purechat-assist")},setSuperMinimizeClasses:function(){this.$el.removeClass("purechat-widget-expanded purechat-widget-collapsed"),this.$el.addClass("purechat-widget-super-collapsed"),this.removeAnimationClasses(),this.$el.addClass("purechat-animation-fadeInDownSmall purechat-animate purechat-animate-fast")},onSuperMinimize:function(t,e){if(this.isPoppedOut())return!1;e&&e.stopPropagation(),this.model.get("expanded")&&this.onCollapse();var i=this.getRegion("flyout").currentView;return i&&i.hide(!0),this.setSuperMinimizeClasses(),this.model.set("superMinimize",!0),window.localStorage.superMinimize=!0,this.disablePurechatAssist(),this.trigger("minimized"),!1},getRequiredSetting:function(t){var e=this.options.model.get(t);return void 0===e||Boolean(e)},onShowEmail:function(t,e){if(this.settings.get("EmailButtonBehavior")===Fi.EmailButtonBehaviors.ShowEmailForm){var i=new w.Model({EmailForm:!0,InitialVisitorName:this.options.model.get("visitorName")||"",InitialVisitorFirstName:this.options.model.get("visitorFirstName")||"",InitialVisitorLastName:this.options.model.get("visitorLastName")||"",InitialVisitorCompany:this.options.model.get("visitorCompany")||"",InitialVisitorEmail:this.options.model.get("visitorEmail")||"",InitialVisitorQuestion:this.options.model.get("visitorQuestion")||"",InitialVisitorPhoneNumber:this.options.model.get("visitorPhoneNumber")||"",RequireFirstName:this.getRequiredSetting("RequireFirstName"),RequireLastName:this.getRequiredSetting("RequireLastName"),RequireCompany:this.getRequiredSetting("RequireCompany"),RequirePhoneNumber:this.getRequiredSetting("RequirePhoneNumber"),RequireEmail:this.getRequiredSetting("RequireEmail"),RequireQuestion:this.getRequiredSetting("RequireQuestion")}),r=this.options.viewController,n=this.options.viewController.getDataController(),a=new Ur({dataController:n,viewController:r,rm:this.options.rm,settings:this.settings,chatModel:r.chatModel,model:i});this.showFlyout("email",p()(e.currentTarget),a)}else this.showFlyout("email",p()(e.currentTarget))},onShowPhoneNumber:function(t,e){this.showFlyout("phone",p()(e.currentTarget))},onShowTwitter:function(t,e){this.showFlyout("twitter",p()(e.currentTarget))},onShowAddress:function(t,e){this.showFlyout("address",p()(e.currentTarget))},showFlyout:function(t,e,i){var r=this.getRegion("flyout").currentView,n=this.$el.find(".purechat-collapsed .purechat-widget-header");this.isButtonActive(e)?(r&&r.hide(),this.deactivateButton(e),this.resetIcons(e)):(this.resetIcons(n),this.resetActiveButtons(n),this.activateButton(e),this.swapCloseIcon(e),r&&("email"===t&&i?r.showEmailView(i,e):"twitter"===t?(e.find(".pc-svgicon").purechatDisplay("none"),e.find(".purechat-loading").purechatDisplay("inline-block"),r.getView(t).loadScript().then((function(){r.showView(t,e),e.find(".pc-svgicon").purechatDisplay("inline-block"),e.find(".purechat-loading").purechatDisplay("none")}))):r.showView(t,e)))},resetIcons:function(t){t.find("use").each((function(t,e){var i=p()(e);i.data("activeFlyoutIcon")&&i.attr(V.svgHrefAttr(),i.data("activeFlyoutIcon"))}))},swapCloseIcon:function(t){var e=t.find("use");e.data("activeFlyoutIcon",e.attr(V.svgHrefAttr())),e.attr(V.svgHrefAttr(),"".concat(window.location,"#pc-svgicon-close"))},resetActiveButtons:function(t){t.find(".purechat-btn").removeClass("purechat-btn-active")},deactivateButton:function(t){t.removeClass("purechat-btn-active")},activateButton:function(t){t.addClass("purechat-btn-active")},isButtonActive:function(t){return t.hasClass("purechat-btn-active")},onCollapsedClick:function(){this.isSuperMinimized()?this.onCollapse.apply(this,arguments):this.isExpanded()||this.isSuperMinimized()||this.onExpand.apply(this,arguments)},operatorsAvailableChanged:function(){if(this.settings.get("isWidget")){if(this.model.get("operatorsAvailable"))this.$el.addClass("purechat-button-available"),this.$el.removeClass("purechat-button-unavailable"),this.$el.removeAttr("disabled","disabled"),this.$el.find(".purechat-start-chat").purechatDisplay();else{this.$el.removeClass("purechat-button-available"),this.$el.addClass("purechat-button-unavailable");var t=this.options.widgetSettings.get("UnavailableBehavior")===Fi.UnavailableBehaviors.HideWidget;t&&!this.options.widgetSettings.anyButtonEnabled()?(this.$el.addClass("purechat-invisible").purechatDisplay("none"),this.$el.attr("disabled","disabled")):t&&this.onCollapse()}this.updateCollapsedStyle()}},onExpand:function(t,e){var i=this,r=e.collapse,n=e.superMinimize,a=this.options.widgetSettings.get("poppedOut")||this.options.widgetSettings.get("isDirectAccess"),o=this.settings.useMobile()&&!this.settings.isDesktopDimension(),s=this.settings.get("UnavailableBehavior")===Fi.UnavailableBehaviors.HideWidget;if(this.settings.get("isDemo")||(this.settings.get("isDirectAccess")||!this.settings.get("ForcePopout")||this.isPoppedOut())&&!this.settings.get("usePrototypeFallback")||a||this.options.widgetSettings.get("widgetWasPoppedOut"))this.options.widgetSettings.get("dataController").checkChatAvailable().done((function(t){i.model.set("operatorsAvailable",t.available),!t.available&&s&&i.options.widgetSettings.anyButtonEnabled()||r||n||(i.$el.addClass("purechat-clickable").removeClass("purechat-not-clickable"),i.expand())}));else{var c=function(){var t=i.options.viewController,e=i.options.viewController.getDataController();t.popoutChatOnExpand(e,e.options,t.chatModel,t.state,o),i.options.widgetSettings.set("widgetWasPoppedOut",!0)};s?this.options.widgetSettings.get("dataController").checkChatAvailable().done((function(t){i.model.set("operatorsAvailable",t.available),t.available&&c()})):c()}this.resetMissedMessageCount(),this.cancelAutoSuperMinimize()},mobileResize:function(){this.collapseMobile()},expandMobile:function(t,e){p()(window).off("resize.RepositionWidget"),this.enablePurechatAssist(),this.ui.expandMobileButton.purechatDisplay("none"),this.$el.addClass("purechat-clickable").removeClass("purechat-not-clickable");var i=this.getRegion("flyout").currentView;i&&i.hide(!0),(e||p().noop).call(this)},setExpandedClasses:function(){this.$el.removeClass("purechat-widget-super-collapse"),this.$el.removeClass("purechat-widget-super-collapsed"),this.$el.find(".purechat-btn-toolbar .purechat-btn-expand").purechatDisplay("none"),this.$el.find(".purechat-btn-toolbar .purechat-btn-collapse").purechatDisplay("inline-block"),this.$el.find(".purechat-widget-content").purechatDisplay("flex"),this.$el.find(".purechat-widget-content").parent().find("div:last").purechatDisplay("block"),this.ui.widgetCollapsed.purechatDisplay("none"),this.ui.widgetExpanded.purechatDisplay("flex"),this.$el.removeClass("purechat-widget-collapsed"),this.$el.addClass("purechat-widget-expanded")},expand:function(t,e,i){var r=this;this.setExpandedClasses();var n=function(){r.setExpandedClasses(),r.showRoomHostAvatar(r.options.model.get("roomHostAvatarUrl")),r.model.set({expanded:!0}),i&&i.expandSource&&(localStorage.expandSource=i.expandSource),r.setAttachedClass(),r.trigger("expanded"),r.triggerResizedEvent()};if(this.model.set("superMinimize",!1),window.localStorage.superMinimize=!1,this.settings.get("isDemo")||(localStorage.expanded=!0),this.cancelAutoSuperMinimize(),!this.settings.useMobile()||this.settings.isDesktopDimension()||this.settings.get("isDirectAccess")){var a=this.getRegion("flyout").currentView;a&&a.hide(!0),this.isHostedMobile()||this.isPoppedOut()||this.$el.purechatCss({width:"373px"}),n()}else this.expandMobile(t,n),t&&(n(),this.$el.off("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"))},autoSuperMinimize:function(){var t=this,e=this.settings.get("isDemo"),i=this.settings.get("isDirectAccess"),r=this.isMobile(),n=this.settings.get("forceMobileSuperMinimize");i||r&&(this.isExpanded()||this.isImageOnly()||e&&!n||(this.cancelAutoSuperMinimize(),this.superMinimizeTimeoutId=setTimeout((function(){t.onSuperMinimize(null,null,!0),t.superMinimizeTimeoutId=null}),6e3)))},cancelAutoSuperMinimize:function(){this.superMinimizeTimeoutId&&(clearTimeout(this.superMinimizeTimeoutId),this.superMinimizeTimeoutId=null)},collapseMobile:function(t,e){var i=this.settings.get("isDirectAccess"),r=this.options.widgetSettings.get("killForPreview"),n=this.settings.isMobileRequest(),a=this.options.widgetSettings.isAllowedOnMobile();this.disablePurechatAssist(),i||this.isPoppedOut()||(t||this.ui.expandMobileButton.purechatDisplay("block"),r||n||a||this.ui.expandMobileButton.removeAttr("style"),this.$el.addClass("purechat-not-clickable").removeClass("purechat-clickable"),this.widgetShown()?this.ui.collapsedTitle.removeClass("purechat-animate purechat-animation-toast-x purechat-clickable"):this.ui.collapsedTitle.addClass("purechat-clickable"),(e||p().noop).call(this),this.autoSuperMinimize(),this.updateCollapsedStyle())},removeAnimationClasses:function(){var t=this.$el.get(0),e=t.className.split(" ").filter((function(t){return 0!==t.lastIndexOf("purechat-animat",0)}));t.className=e.join(" ").trim(),this.forceStopAnimation(t)},forceStopAnimation:function(t){t.offsetWidth},collapse:function(){var t=this;this.isInChat()&&this.settings.get("Type")===Fi.WidgetType.Button?(this.ui.widgetCollapsed.purechatDisplay("none"),this.ui.widgetExpanded.purechatDisplay("flex"),this.settings.useMobile()&&!this.settings.isDesktopDimension()&&(this.$el.find(".purechat-expanded .purechat-menu .purechat-btn-expand").purechatDisplay("none"),this.ui.widgetExpanded.off("click.ExpandWidgetForMobile").on("click.ExpandWidgetForMobile",(function(){t.ui.widgetExpanded.off("click.ExpandWidgetForMobile"),t.expand()})))):(this.ui.widgetCollapsed.purechatDisplay("block"),this.ui.widgetExpanded.purechatDisplay("none")),this.updateCollapsedStyle()},setCollapsedClasses:function(){this.$el.removeClass("purechat-widget-expanded purechat-widget-super-collapsed"),this.$el.addClass("purechat-widget-collapsed"),this.$el.find(".purechat-btn-toolbar .purechat-btn-expand").purechatDisplay("block"),this.$el.find(".purechat-btn-toolbar .purechat-btn-collapse, .purechat-widget-content").purechatDisplay("none"),this.$el.find(".purechat-widget-content").parent().find("div:last").purechatDisplay("none")},setFirstLoadCollapsedAnimationClass:function(){var t=this;this.removeAnimationClasses();var e=this.settings.get("PageLoadAnimation")||this.settings.get("DisplayWidgetAnimation"),i=this.options.viewController.getDataController().checkInRoom(),r=this.settings.get("isDemo");!e||this.isExpanded()||!r&&(r||i)||this.$el.addClass("purechat-animation-".concat(e," purechat-animate")).on(qr,(function(){t.$el.off(qr),t.settings.get("visibleFlyoutId")&&t.toggleFlyoutPreview(t.settings,t.settings.get("visibleFlyoutId"))}))},setCollapsedAnimationClass:function(){this.removeAnimationClasses(),this.$el.addClass("purechat-animate purechat-animate-fast purechat-animation-fadeInDownSmall")},onCollapse:function(t){var e=this;window.localStorage.removeItem("expandSource"),this.settings.get("isDemo")||(window.localStorage.expanded=!1,window.localStorage.superMinimize=!1),this.setCollapsedClasses(),t?this.setFirstLoadCollapsedAnimationClass():this.setCollapsedAnimationClass();var i=this.$el.find(".purechat-collapsed .purechat-widget-header");this.resetIcons(i),this.resetActiveButtons(i),this.isInChat()&&this.settings.get("Type")===Fi.WidgetType.Button?(this.ui.widgetCollapsed.purechatDisplay("none"),this.ui.widgetExpanded.purechatDisplay("flex"),this.settings.useMobile()&&!this.settings.isDesktopDimension()&&(this.$el.find(".purechat-expanded .purechat-menu .purechat-btn-expand").purechatDisplay("none"),this.ui.widgetExpanded.off("click.ExpandWidgetForMobile").on("click.ExpandWidgetForMobile",(function(){e.ui.widgetExpanded.off("click.ExpandWidgetForMobile"),e.expand()})))):(this.ui.widgetCollapsed.purechatDisplay("block"),this.ui.widgetExpanded.purechatDisplay("none")),this.model.set("superMinimize",!1),this.model.set("expanded",!1),this.trigger("collapsed"),this.triggerResizedEvent(),!this.settings.useMobile()||this.settings.isDesktopDimension()||t?this.setCollapsedWidth():this.collapseMobile(t),this.setUnavailableBehaviorClass()},onShow:function(){this.setCollapsedMinWidth(),this.triggerResizedEvent()},triggerResizedEvent:function(){this.options.viewController.triggerResizedEvent()},flashNotification:function(t){Zr.notify(t,this.ui.title,this.$el),this.setMessagePreview(t)},incrementMissedMessageCount:function(){this.missedMessageCount+=1,this.ui.missedMessageCount.text(this.missedMessageCount),this.ui.missedMessageCount.purechatDisplay("block")},resetMissedMessageCount:function(){this.ui.missedMessageCount.purechatDisplay("none"),this.ui.missedMessageCount.text(""),this.missedMessageCount=0},onRender:function(){this.updateCollapsedStyle(),this.ui.expandMobileButton.purechatDisplay("none"),this.settings.get("isWidget")?this.ui.content.addClass("purechat-widget-content"):(this.$el.addClass("purechat-window"),this.ui.content.addClass("purechat-window-content")),this.operatorsAvailableChanged(),this.setExpandedTitle(this.settings.get("title")||"");var t=null!==this.settings.get("dataController").checkInRoom()&&void 0!==this.settings.get("dataController").checkInRoom();if(this.settings.get("isDemo")||"true"!==window.localStorage.expanded||this.settings.get("ForcePopout")||this.settings.get("usePrototypeFallback")||!t&&(this.settings.get("StartChatImmediately")||this.settings.get("UnavailableBehavior")===Fi.UnavailableBehaviors.HideWidget)?this.model.get("superMinimize")?(this.onSuperMinimize(null,null,!0),this.collapse()):(this.settings.get("isDemo")||this.settings.get("poppedOut"))&&this.isExpanded()?this.expand():this.onCollapse(!0):this.expand(!0,t),this.$el.hasClass("purechat-top")&&this.$el.find(".pc-icon-caret-down").removeClass("pc-icon-caret-down").addClass("pc-icon-caret-up"),this.showTab()){var e=this.$el.hasClass("purechat-top-left")||this.$el.hasClass("purechat-top-right");this.showChildView("flyout",new Hr({model:this.settings,isTop:e,widgetElement:this.$el})),this.settings.get("isDemo")||this.registerFlyoutCloseClickHandler()}this.setAttachedClass(),this.setCollapsedWidth(),this.setUnavailableBehaviorClass()},onDestroy:function(){p()(window).off(".purechat-flyout")},onAfterInsertion:function(){this.isMobile()&&(this.$el.hasClass("purechat-widget-expanded")?this.expandMobile():this.collapseMobile(!0))},setAttachedClass:function(){this.settings.get("AnchorToEdge")&&!this.isMobile()&&this.$el.addClass("purechat-attached")},setCollapsedWidth:function(){this.settings.get("Width")&&(this.isExpanded()||this.settings.useMobile()||this.$el.purechatCss({width:this.settings.get("Width")}))},setCollapsedMinWidth:function(){if(!this.isExpanded()){var t=0,e=this.$el.find(".purechat-collapsed .purechat-widget-header"),i=e.outerWidth()-e.width(),r=0;this.settings.get("ShowEmailButton")&&(r+=1),this.settings.get("ShowPhoneButton")&&(r+=1),this.settings.get("ShowTwitterButton")&&(r+=1),this.settings.get("ShowAddressButton")&&(r+=1),this.settings.get("ShowMinimizeWidgetButton")&&(r+=1),this.getOperatorsAvailable()&&(r+=1),t=0===r?e.find(".purechat-widget-title-link").outerWidth()+i:e.find(".purechat-menu").outerWidth(!0)+(e.outerWidth()-e.width()),this.$el.purechatCss({minWidth:t})}},setCollapsedImage:function(t){this.isMobile()?this.mobileCollapsedImageCss(t):this.collapsedImageCss(t)},setUnavailableBehaviorClass:function(){var t=this.settings.get("UnavailableBehavior")===Fi.UnavailableBehaviors.HideWidget;!this.model.get("operatorsAvailable")&&t?this.$el.addClass("purechat-unavailable-behavior-hide"):this.$el.removeClass("purechat-unavailable-behavior-hide")},collapsedImageCss:function(t){var e=(t?this.settings.get("AvailableImageScale"):this.settings.get("UnavailableImageScale"))/100,i=this.settings.absoluteCollapsedImageUrl(t),r=(t?this.settings.get("AvailableImageWidth"):this.settings.get("UnavailableImageWidth"))*e,n=(t?this.settings.get("AvailableImageHeight"):this.settings.get("UnavailableImageHeight"))*e,a=t?this.settings.get("AvailableImageXOffset"):this.settings.get("UnavailableImageXOffset"),o=t?this.settings.get("AvailableImageYOffset"):this.settings.get("UnavailableImageYOffset"),s=t?this.settings.get("AvailableImageTop"):this.settings.get("UnavailableImageTop"),c="minimal"===(this.settings.get("StyleName")||"").toString().toLowerCase(),l="classic"===(this.settings.get("StyleName")||"").toString().toLowerCase();if(i){var p=this.options.widgetSettings.get("UnavailableBehavior")===Fi.UnavailableBehaviors.HideWidget;if(this.getOperatorsAvailable()||!p||this.options.widgetSettings.anyButtonEnabled()){var u={backgroundImage:"url(".concat(i,")"),height:"".concat(n,"px"),width:"".concat(r,"px"),zIndex:s?11:-11},h=n+o,d=a;(this.isImageOnly()&&c||!this.isImageOnly()&&l)&&(h+=10),this.isImageOnly()||l||(d+=10),this.isTop()?(this.isImageOnly()||(h+=24),u.marginBottom="-".concat(h,"px")):u.marginTop="-".concat(h,"px"),this.isLeft()||!this.isImageOnly()?u.marginLeft="".concat(d,"px"):u.marginRight="".concat(-1*d,"px"),this.ui.collapseImage.purechatCss(u)}}},mobileCollapsedImageCss:function(t){var e=this.settings.mobileAbsoluteCollapsedImageUrl(t);if(e){var i=this.options.widgetSettings.get("UnavailableBehavior")===Fi.UnavailableBehaviors.HideWidget;(this.getOperatorsAvailable()||!i||this.options.widgetSettings.anyButtonEnabled())&&this.ui.collapseImage.purechatCss("background-image","url(".concat(e,")"))}},toggleFlyoutPreview:function(t,e){switch(e){case"email":return this.ui.emailFlyoutButton.click();case"phone":return this.ui.phoneFlyoutButton.click();case"twitter":return this.ui.twitterFlyoutButton.click();case"address":return this.ui.addressFlyoutButton.click()}var i=this.$el.find(".purechat-collapsed .purechat-widget-header"),r=this.getRegion("flyout").currentView;return r&&r.$el.purechatDisplay("none"),this.resetIcons(i),this.resetActiveButtons(i),null},showFileTransferOverlay:function(t){if(this.isInChat()&&this.settings.isFileTransferEnabled()){if(this.stopPropagation(t),t&&t.originalEvent){var e=t.originalEvent.dataTransfer;if(e.dropEffect="copy",e.effectAllowed="copy",!e.types||[].map.call(e.types,(function(t){return t})).every((function(t){return"Files"!==t})))return}if(0===this.ui.fileOverlay.find(".purechat-file-overlay-instructions img").length){var i=document.createElement("source");i.setAttribute("srcset","".concat(this.model.get("cdnServerUrl"),"/assets/file.webp")),i.setAttribute("type","image/webp");var r=document.createElement("source");r.setAttribute("srcset","".concat(this.model.get("cdnServerUrl"),"/assets/file.png")),r.setAttribute("type","image/png");var n="".concat(this.model.get("cdnServerUrl"),"/assets/files.png"),a=document.createElement("img");a.setAttribute("src",n),a.setAttribute("alt","Upload File");var o=document.createElement("picture");o.appendChild(i),o.appendChild(r),o.appendChild(a),this.ui.fileOverlay.find(".purechat-file-overlay-instructions").append(o)}this.ui.fileOverlay.purechatDisplay("block")}},hideFileTransferOverlay:function(t){this.isInChat()&&this.settings.isFileTransferEnabled()&&(t&&p().contains(this.ui.fileOverlay,t.currentTarget)||(this.stopPropagation(t),this.ui.fileOverlay.purechatDisplay("none")))},fileDropped:function(t){if(this.isInChat()&&this.settings.isFileTransferEnabled()){this.stopPropagation(t),this.hideFileTransferOverlay();var e=this.getOption("viewController").getDataController(),i=t.dataTransfer||t.originalEvent.dataTransfer,r=this.getOption("rm").get("room")||{};Array.prototype.forEach.call(i.files,(function(t){e.upload(t,r.id)}))}},stopPropagation:function(t){t&&(t.preventDefault(),t.stopPropagation())},isExpanded:function(){return!!this.model.get("expanded")},isMobile:function(){return this.settings.get("RequestFromMobileDevice")&&this.settings.get("MobileDisplayType")!==Fi.MobileDisplayTypes.SameAsDesktop&&!this.settings.isDesktopDimension()},isHiddenMobile:function(){return this.settings.get("RequestFromMobileDevice")&&this.settings.get("MobileDisplayType")===Fi.MobileDisplayTypes.Hidden&&!this.settings.isDesktopDimension()},isTop:function(){var t=this.isMobile()?this.settings.get("MobilePosition"):this.settings.get("Position");return t===Fi.WidgetPosition.TopLeft||t===Fi.WidgetPosition.TopRight},isLeft:function(){return this.settings.get("Position")===Fi.WidgetPosition.BottomLeft||this.settings.get("Position")===Fi.WidgetPosition.TopLeft},isImageOnly:function(){return this.options.widgetSettings.get("CollapsedStyle")===Fi.WidgetType.Image},isInChat:function(){return this.settings.get("dataController").checkInRoom()},isHostedMobile:function(){return this.isMobile()&&this.settings.get("isDirectAccess")},isPoppedOut:function(){return this.model.get("poppedOut")||this.model.get("isPoppedOut")},showTab:function(){return this.settings.get("CollapsedStyle")===Fi.WidgetType.Tab||this.settings.get("CollapsedStyle")===Fi.WidgetType.ImageTab},toggleVisibility:function(){this.options.widgetSettings.get("visible")?(this.$el.removeClass("purechat-invisible").purechatDisplay("block"),this.$el.attr("disabled",null)):(this.$el.addClass("purechat-invisible").purechatDisplay("none"),this.$el.attr("disabled","disabled"))},showDisconnect:function(){this.ui.disconnect.purechatDisplay("block")},hideDisconnect:function(){this.ui.disconnect.purechatDisplay("none")}}),Yr=$r;function Xr(t){return Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xr(t)}function Gr(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function Jr(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Gr(Object(i),!0).forEach((function(e){Kr(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Gr(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Kr(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Qr=w.Model.extend({viewController:null,widgetSettings:function(){return this.viewController?this.viewController.options:null},chatModel:function(){return this.viewController?this.viewController.getChatModel():null},dataController:function(){return this.viewController?this.viewController.getDataController():null},setWidgetSetting:function(t,e){this.widgetSettings().set(t,e)},setWidgetResource:function(t,e){var i=this.viewController.options.get("StringResources");this.widgetSettings().set("StringResources",Jr(Jr({},i),{},Kr({},t,e)))},getWidgetSetting:function(t){this.widgetSettings().get(t)},getChatModel:function(t){this.chatModel().get(t)},regexs:{propAccess:{chatBox:/^chatbox\./i,strings:/^string\./i,visitor:/^visitor\./i},events:{chatBox:/^chatbox:/i,chatBoxPropChange:/^chatbox\.\w(\w|\d)*:/i,chat:/^chat:/i,email:/^email:/i,visitor:/^visitor\.\w(\w|\d)*/i}},mappings:{chatBox:{keys:{available:"available",position:"Position",layoutType:"CollapsedStyle",unavailableBehavior:"UnavailableBehavior",askForRating:"AskForRating",askForFirstName:"AskForFirstName",askForLastName:"AskForLastName",askForEmail:"AskForEmail",askForCompany:"AskForCompany",askForQuestion:"AskForQuestion",askForPhoneNumber:"AskForPhoneNumber",enableTranscriptDownload:"DownloadTranscript",forcePopout:"ForcePopout",enableGoogleAnalytics:"UsingGa",loadingAnimation:"DisplayWidgetAnimation",availableImageXOffset:"AvailableImageXOffset",availableImageYOffset:"AvailableImageYOffset",availableImageScale:"AvailableImageScale",availableImageOnTop:"AvailableImageTop",availableCollapsedImageUrl:"AvailableCollapsedWidgetImageUrl",availableImageHeight:"AvailableImageHeight",availableImageWidth:"AvailableImageWidth",useAvailableImageForBoth:"chat_startedMessageeForBoth",unavailableImageXOffset:"UnavailableImageXOffset",unavailableImageYOffset:"UnavailableImageYOffset",unavailableImageScale:"UnavailableImageScale",unavailableImageOnTop:"UnavailableImageTop",unavailableCollapsedImageUrl:"UnavailableCollapsedWidgetImageUrl",unavailableImageHeight:"UnavailableImageHeight",unavailableImageWidth:"UnavailableImageWidth",showMinimizeButton:"ShowMinimizeWidgetButton",expanded:{propertyName:"expanded",setter:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e?this.viewController.widgetLayout.expand(!1,!1,{expandSource:i.expandSource}):this.viewController.widgetLayout.onCollapse(!1)}},initialState:"initialState",currentState:"state",enableAvailabilityPolling:"enableAvailabilityPolling",visible:"visible"},resourceKeys:{firstMessage:"chat_startedMessage"},values:{position:{bottomLeft:1,bottomRight:2,topLeft:3,topRight:4},layoutType:{tab:1,button:2,image:3,tabWithImage:4},unavailableBehavior:{hide:0,message:1,email:2},loadingAnimation:{none:"none",flipInX:"flipInX",flipInY:"flipInY",fadeIn:"fadeIn",fadeInUp:"fadeInUp",fadeInDown:"fadeInDown",fadeInLeft:"fadeInLeft",fadeInRight:"fadeInRight",fadeInUpBig:"fadeInUpBig",fadeInDownBig:"fadeInDownBig",fadeInLeftBig:"fadeInLeftBig",fadeInRightBig:"fadeInRightBig",slideInUp:"slideInUp",slideInDown:"slideInDown",slideInLeft:"slideInLeft",slideInRight:"slideInRight",bounceIn:"bounceIn",bounceInUp:"bounceInUp",bounceInDown:"bounceInDown",bounceInLeft:"bounceInLeft",bounceInRight:"bounceInRight",rotateIn:"rotateIn",rotateInDownLeft:"rotateInDownLeft",rotateInDownRight:"rotateInDownRight",rotateInUpLeft:"rotateInUpLeft",rotateInUpRight:"rotateInUpRight"}}},visitor:{keys:{firstName:"visitorFirstName",lastName:"visitorLastName",email:"visitorEmail",avatarUrl:"visitorAvatarUrl",phoneNumber:"visitorPhoneNumber",question:"visitorQuestion",company:"visitorCompany",name:function(t){var e,i,r=t.value.indexOf(" ");r>0?(e=t.value.substring(0,r),i=t.value.substring(r+1)):e=t.value,this.chatModel().set("visitorFirstName",e),this.chatModel().set("visitorLastName",i)}},values:{}}},reverseMapVisitorDetails:function(t){var e={};for(var i in this.mappings.visitor.keys)e[i]=t[this.mappings.visitor.keys[i]];return e.name="".concat(e.firstName," ").concat(e.lastName).trim(),e},getMappedWidgetValue:function(t,e){if("string"==typeof e&&this.mappings.chatBox.values[t])for(var i in this.mappings.chatBox.values[t])if(i.toLowerCase()==e.toLowerCase())return this.mappings.chatBox.values[t][i];return e},getMappedWidgetResourceValue:function(t,e){if("string"==typeof e&&this.mappings.chatBox.values[t])for(var i in this.mappings.chatBox.values[t])if(i.toLowerCase()==e.toLowerCase())return this.mappings.chatBox.values[t][i];return e},canSetChatBoxProp:function(t){switch(t){case"available":case"currentState":return!1;default:return!0}},set:function(t,e){var i;if(w.Model.prototype.set.apply(this,arguments),"object"===Xr(t))for(var r in t)this.set(r,t[r]);else if(this.regexs.propAccess.chatBox.test(t)){i=(i=t.split(this.regexs.propAccess.chatBox)).length>1?i[1]:null;var a=this.mappings.chatBox.keys,o=this.mappings.chatBox.resourceKeys;if(i&&a[i]){var s=this.setWidgetSetting,c=a[i];n().isObject(c)&&(s=c.setter||s,c=c.propertyName),e=this.getMappedWidgetValue(i,e),s.call(this,a[i],e),this.widgetSettings().trigger("api:change",this.widgetSettings,a[i],e)}else if(i&&o[i]){var l=this.setWidgetResource,p=o[i];n().isObject(p)&&(l=p.setter||l,p=p.propertyName),e=this.getMappedWidgetResourceValue(i,e),l.call(this,o[i],e),this.widgetSettings().trigger("api:change",this.widgetSettings,a[i],e)}}else if(this.regexs.propAccess.visitor.test(t)){i=(i=t.split(this.regexs.propAccess.visitor)).length>1?i[1]:null;var u=this.mappings.visitor.keys[i];if(i&&this.mappings.visitor.keys[i]){var h=this.chatModel().get("roomId")||this.viewController.getDataController().checkInRoom();(this.mappings.visitor.keys.question==u&&!h||this.mappings.visitor.keys.question!=u)&&("function"==typeof u?u.call(this,{value:e}):(this.chatModel().set(u,e,{silent:!1}),this.chatModel().trigger("api:change",this.chatModel(),this.mappings.visitor.keys[i],e)))}}},getRequestedPropName:function(t,e){var i=t.split(e);return i.length>1?i[1]:null},get:function(t){var e=null;if(this.regexs.propAccess.chatBox.test(t)){if((e=this.getRequestedPropName(t,this.regexs.propAccess.chatBox))&&this.mappings.chatBox.keys[e])switch(e){case"available":return this.chatModel()?this.chatModel().get("operatorsAvailable"):null;case"currentState":if(!this.chatModel())return null;switch(this.chatModel().get("state")){case"PCStateChatting":case"PCStateInitializing":case"PCStateActivating":return"inChat";case"PCStateClosed":return"postChat";default:return"preChat"}case"expanded":return!!this.chatModel()&&this.chatModel().get("expanded");default:return this.widgetSettings()?this.widgetSettings().get(this.mappings.chatBox.keys[e]):null}}else if(this.regexs.propAccess.visitor.test(t)&&(e=this.getRequestedPropName(t,this.regexs.propAccess.visitor))&&this.mappings.visitor.keys[e]&&this.chatModel)return this.chatModel().get(this.mappings.visitor.keys[e]);return null},on:function(t){var e=this.regexs.events.chat.test(t)||this.regexs.events.chatBox.test(t)||this.regexs.events.email.test(t)||this.regexs.events.visitor.test(t)||this.regexs.events.chatBoxPropChange.test(t);if(!e)throw new Error('"'.concat(t,'" is not a valid purechatApi event'));w.Model.prototype.on.apply(this,arguments)},off:function(t){(this.regexs.events.chat.test(t)||this.regexs.events.chatBox.test(t))&&w.Model.prototype.off.apply(this,arguments)},clearViewController:function(){this.viewController=null},setViewController:function(t){this.viewController=t},clearWidgetSettings:function(){this.widgetSettings=null},setWidgetSettings:function(t){this.widgetSettings=t},clearChatModel:function(){this.chatModel=null},setChatModel:function(t){this.chatModel=t},unbindEvents:function(){for(var t in this.events)w.Model.prototype.off.apply(this,t,this.events[t])},bindEvents:function(){for(var t in this.events)w.Model.prototype.on.apply(this,t,this.events[t])},initialize:function(){this.bindEvents()},onDestroy:function(){this.unbindEvents(),w.Model.prototype.off.apply(this)}}),tn=Qr;function en(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function rn(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?en(Object(i),!0).forEach((function(e){nn(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):en(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function nn(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function an(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var on=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,this._publicApi=null,this.changeableRoomDetails=["visitorName","visitorFirstName","visitorLastName","visitorEmail","visitorReferer","visitorPhoneNumber","additionalDetails"],n().extend(this,w.Events)}var e,i;return e=t,(i=[{key:"getPublicApi",value:function(){return this._publicApi}},{key:"getBaseApiEventObject",value:function(){return{chatboxId:this.options.get("Id")}}},{key:"extendBaseApiEventObject",value:function(t){return p().extend(this.getBaseApiEventObject(),t||{})}},{key:"bindWidgetLayoutPublicApiEvents",value:function(){var t=this;this.widgetLayout&&(this.widgetLayout.on("widget:resized",(function(e){t.getPublicApi().trigger("resized",{widgetId:t.getChatModel().id}),t.getPublicApi().trigger("chatbox:resize",t.extendBaseApiEventObject({width:e.width,height:e.height}))})),this.widgetLayout.on("expanded",(function(){t.getPublicApi().trigger("chatbox:expand",t.extendBaseApiEventObject())})),this.widgetLayout.on("collapsed",(function(){t.getPublicApi().trigger("chatbox:collapse",t.extendBaseApiEventObject())})),this.widgetLayout.on("minimized",(function(){t.getPublicApi().trigger("chatbox:minimize",t.extendBaseApiEventObject())})))}},{key:"bindOptionsPublicApiEvents",value:function(){var t=this;this.options.on("change:Position",(function(){return t.widgetLayout.repositionWidget()}))}},{key:"bindChatModelPublicApiEvents",value:function(){var t=this;this.getChatModel().on("widget:available widget:unavailable",(function(){t.getPublicApi().trigger("chatbox.available:change",t.extendBaseApiEventObject({available:t.getChatModel().get("operatorsAvailable")}))})),this.getChatModel().on("operator:join",(function(e){t.getPublicApi().trigger("chat:operatorJoin",t.extendBaseApiEventObject({operatorName:e.get("userDisplayName")}))})),this.getChatModel().on("operator:leave",(function(e){t.getPublicApi().trigger("chat:operatorLeave",t.extendBaseApiEventObject({operatorName:e.get("userDisplayName")}))})),this.getChatModel().on("change:visitorName",(function(t,e){})),this.getChatModel().on("change:visitorFirstName",(function(e,i){t.getPublicApi().trigger("visitor.firstName:change",t.extendBaseApiEventObject({firstName:i})),t.getPublicApi().trigger("visitor.name:change",t.extendBaseApiEventObject({name:e.getFullName()}))})),this.getChatModel().on("change:visitorLastName",(function(e,i){t.getPublicApi().trigger("visitor.lastName:change",t.extendBaseApiEventObject({lastName:i})),t.getPublicApi().trigger("visitor.name:change",t.extendBaseApiEventObject({name:e.getFullName()}))})),this.getChatModel().on("change:visitorCompany",(function(e,i){t.getPublicApi().trigger("visitor.company:change",t.extendBaseApiEventObject({company:i}))})),this.getChatModel().on("change:visitorEmail",(function(e,i){t.getPublicApi().trigger("visitor.email:change",t.extendBaseApiEventObject({email:i}))})),this.getChatModel().on("change:visitorPhoneNumber",(function(e,i){t.getPublicApi().trigger("visitor.phoneNumber:change",t.extendBaseApiEventObject({phoneNumber:i}))})),this.getChatModel().on("change:visitorQuestion",(function(e,i){t.getPublicApi().trigger("visitor.question:change",t.extendBaseApiEventObject({question:i}))})),this.getChatModel().on("chat:restart",(function(){t.getPublicApi().trigger("chatbox:restart",t.extendBaseApiEventObject())}))}},{key:"bindViewControllerPublicApiEvents",value:function(){var t=this;this.listenTo(this,"chat:start",(function(e){t.getPublicApi().trigger("chat:start",t.extendBaseApiEventObject(t.getPublicApi().reverseMapVisitorDetails(e)))})),this.listenTo(this,"chat:end",(function(e){t.getPublicApi().trigger("chat:end",t.extendBaseApiEventObject(rn(rn({},t.getPublicApi().reverseMapVisitorDetails(e)),{},{transcriptId:e.chatId,startedByOperator:e.startedByOperator||!1})))})),this.listenTo(this,"chat:rate",(function(e){t.getPublicApi().trigger("chat:rate",t.extendBaseApiEventObject(e))})),this.listenTo(this,"widget:poppedOut",(function(){t.getPublicApi().trigger("chatbox:poppedOut",t.extendBaseApiEventObject())})),this.listenTo(this,"email:send",(function(e){t.getPublicApi().trigger("email:send",t.extendBaseApiEventObject(t.getPublicApi().reverseMapVisitorDetails(e)))}))}},{key:"registerPublicApiEvents",value:function(){var t=this;this._publicApi||(this._publicApi=new tn,this._publicApi.setViewController(this)),this.listenTo(this,"state:changed",(function(e){var i={widgetId:t.getChatModel().id,state:e.newState.name};e.oldState&&(i.previousState=e.oldState.name),t.getPublicApi().trigger("widget:state-changed",t.extendBaseApiEventObject(i)),t.getPublicApi().trigger("chatbox:state-changed",t.extendBaseApiEventObject(i))})),this.listenTo(this,"widget:ready",(function(){t.bindWidgetLayoutPublicApiEvents(),t.bindOptionsPublicApiEvents(),t.bindChatModelPublicApiEvents();try{t.getPublicApi().trigger("ready",t.extendBaseApiEventObject())}catch(t){console.error(t)}try{t.getPublicApi().trigger("chatbox:ready",t.extendBaseApiEventObject())}catch(t){console.error(t)}})),this.bindViewControllerPublicApiEvents()}},{key:"apiRoomDetailsChanged",value:function(t){this.getDataController().chatServerConnection&&this.getDataController().chatServerConnection.setVisitorDetails(this.getDataController().connectionInfo.get("chatId"),this.getDataController().connectionInfo.get("roomType"),t.pick(this.changeableRoomDetails))}},{key:"triggerRoomChangedForApi",value:function(){this.getPublicApi().trigger("chat:change",this.extendBaseApiEventObject(this.getPublicApi().reverseMapVisitorDetails(this.getChatModel().pick(this.changeableRoomDetails))))}},{key:"destroy",value:function(){this.stopListening(this)}}])&&an(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}(),sn=on,cn=w.RelationalModel.extend({idAttribute:"userId"}),ln=w.Collection.extend({model:cn,getOperatorTypingText:function(t){var e=this.where({isTyping:!0});if(!e||0===e.length)return"<span>".concat(t.getResource("chat_idleText"),"</span>");var i=e.map((function(e){var i,r=e.get("displayName").trim();return i=n().escape(t.getResource("chat_typing",{displayName:r})),p()("<div/>").html(i).text()})).join(", ");return'<span data-resourcekey="chat_typing">'.concat(i,"...</span>")}}),pn=w.RelationalModel.extend({defaults:function(){return{participants:new ln}},relations:[{type:w.HasMany,key:"messages",relatedModel:"Message",collectionType:"MessageCollection",reverseRelation:{key:"chat"}},{type:w.HasMany,key:"operators",relatedModel:"Operator",collectionType:"OperatorCollection",reverseRelation:{key:"chat"}},{type:w.HasMany,key:"participants",relatedModel:"ChatParticipant",collectionType:"ChatParticipantCollection",reverseRelation:{key:"chat"}}],getFullName:function(){var t="Visitor",e=this.get("visitorFirstName"),i=this.get("visitorLastName");return e?(t=e,i&&(t+=" ".concat(i))):i&&(t=i),t},restartChat:function(){this.set("visitorQuestion",null),this.get("operators").reset(),this.get("messages").reset(),this.set("state",Fi.WidgetStates.Inactive),this.trigger("chat:restart")},chatUserNames:function(){return this.get("operators").map((function(t){return t.get("userDisplayName")})).join(", ")},isInChat:function(){return this.get("userId")&&this.get("chatId")&&this.get("authToken")},initialize:function(){var t=this;this.get("operators").on("add",(function(e){t.trigger("operator:join",e)})).on("remove",(function(e){t.trigger("operator:leave",e)}))}}),un=w.Collection.extend({model:qi,add:function(t){if(t){var e=n().isArray(t)?t:[t];e.forEach((function(t){t.timeAdded=(new Date).getTime()}))}return w.Collection.prototype.add.apply(this,arguments)},comparator:function(t,e){if(t.sortOrder!==e.sortOrder)return t.sortOrder<e.sortOrder?-1:1;var i=t.get("date").getTime()-e.get("date").getTime();return 0===i?t.cid<e.cid?-1:1:i}}),hn=un,dn=w.RelationalModel.extend({idAttribute:"userId"}),gn=w.Collection.extend({model:dn});function mn(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var fn={MILLISECONDS_IN_SECOND:1e3,SECONDS_IN_MINUTE:60,MINUTES_IN_HOUR:60,HOURS_IN_DAY:24};fn.MILLISECONDS_IN_DAY=fn.HOURS_IN_DAY*fn.MINUTES_IN_HOUR*fn.SECONDS_IN_MINUTE*fn.MILLISECONDS_IN_SECOND,fn.DISMISS_DELAYS_DAYS=[0,1,3,7,30,365],fn.CHECKIN_INTERVAL_SECONDS=5,fn.MAX_CHECKIN_INTERVAL_SECOND=60;var bn=w.Model.extend({storageKeys:["_purechatSessionStart","_purechatLastCheckin","_purechatDismissTime","_pureChatTimeSettingsVersion","_purechatDismissCount"],defaults:{_purechatSessionStart:new Date,_purechatPageStart:new Date,_purechatLastCheckin:new Date,_purechatDismissCount:0},fetchDate:function(t){var e=window.localStorage.getItem(this.formatPropName(t));n().isUndefined(e)||n().isNaN(e)||n().isNull(e)||this.set(t,new Date(window.localStorage.getItem(this.formatPropName(t))))},fetchInt:function(t){var e=window.localStorage.getItem(this.formatPropName(t));n().isUndefined(e)||n().isNaN(e)||n().isNull(e)||this.set(t,parseInt(window.localStorage.getItem(this.formatPropName(t)),10))},formatPropName:function(t){return"".concat(this.widgetId,"_").concat(t)},fetch:function(){this.fetchDate("_purechatSessionStart"),this.fetchDate("_purechatLastCheckin"),this.fetchDate("_purechatDismissTime"),this.fetchInt("_pureChatTimeSettingsVersion"),this.fetchInt("_purechatDismissCount")},save:function(){var t=this;this.storageKeys.forEach((function(e){var i=t.get(e);n().isUndefined(i)||n().isNaN(i)||n().isNull(i)?window.localStorage.removeItem(t.formatPropName(e)):window.localStorage.setItem(t.formatPropName(e),t.get(e))}))},resetTimeCounters:function(){this.set({_purechatDismissTime:null})},updateEventLoop:function(){this.set("_purechatLastCheckin",new Date),window.localStorage.setItem(this.formatPropName("_purechatLastCheckin"),this.get("_purechatLastCheckin"))},initialize:function(){n().bindAll(this,"updateEventLoop"),setInterval(this.updateEventLoop,fn.CHECKIN_INTERVAL_SECONDS*fn.MILLISECONDS_IN_SECOND)}}),yn=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.purechatController=e,this.widgetSettings=e.options,this.enabled=this.widgetSettings.get(this.enabledWidgetSettingKey)&&!this.isPoppedOut()&&!this.isHosted()&&!this.isDemoChat()&&!this.isMobile()&&!this.popOutAutomatically(),this.enabled){n().bindAll(this,"onCollapse"),t.dismissSettings||(t.dismissSettings=new bn,t.dismissSettings.widgetId=this.widgetSettings.get("Id"),t.dismissSettings.fetch());var i=t.dismissSettings.get("_pureChatTimeSettingsVersion"),r=this.widgetSettings.get("WidgetSettingsVersion");i&&i.toString()===r.toString()||(t.dismissSettings.resetTimeCounters(),t.dismissSettings.set("_pureChatTimeSettingsVersion",r)),this.isNewSession()&&t.dismissSettings.set("_purechatSessionStart",new Date),this.purechatController.getPublicApi().on("chatbox:collapse",this.onCollapse),this.startTesting(),t.dismissSettings.save()}}var e,i;return e=t,(i=[{key:"isPoppedOut",value:function(){return this.widgetSettings.get("isPoppedOut")}},{key:"isHosted",value:function(){return this.widgetSettings.get("isDirectAccess")}},{key:"isDemoChat",value:function(){return this.widgetSettings.get("isDemo")}},{key:"isMobile",value:function(){return this.widgetSettings.get("RequestFromMobileDevice")}},{key:"isWidgetAvailable",value:function(){return this.purechatController.chatModel.get("operatorsAvailable")}},{key:"popOutAutomatically",value:function(){return this.widgetSettings.get("ForcePopout")||!1}},{key:"onCollapse",value:function(){t.dismissSettings.set("_purechatDismissCount",t.dismissSettings.get("_purechatDismissCount")+1),this.stopTesting(),t.dismissSettings.set("_purechatDismissTime",new Date),t.dismissSettings.save(),this.purechatController.getPublicApi().off("chatbox:collapse",this.onCollapse)}},{key:"getDismissDelay",value:function(){return fn.DISMISS_DELAYS_DAYS[Math.min(t.dismissSettings.get("_purechatDismissCount"),fn.DISMISS_DELAYS_DAYS.length-1)]*fn.MILLISECONDS_IN_DAY}},{key:"isNewSession",value:function(){return new Date-t.dismissSettings.get("_purechatLastCheckin")>fn.MAX_CHECKIN_INTERVAL_SECOND*fn.MILLISECONDS_IN_SECOND}},{key:"startTesting",value:function(){var e=t.dismissSettings.get("_purechatDismissTime"),i=this.getDismissDelay();(!e||new Date-e>i)&&(t.dismissSettings.on("change:_purechatLastCheckin",this.eventCheckChange),this.onStart&&this.onStart())}},{key:"removeEventListeners",value:function(){t.dismissSettings.off("change:_purechatLastCheckin",this.eventCheckChange)}},{key:"stopTesting",value:function(){this.removeEventListeners(),t.dismissSettings.resetTimeCounters(),t.dismissSettings.set("_purechatDismissTime",new Date),t.dismissSettings.save(),this.onStop&&this.onStop()}},{key:"triggerEvent",value:function(t){var e=this;this.purechatController.getDataController().checkChatAvailable().done((function(i){i.available&&(e.removeEventListeners(),setTimeout((function(){if(!e.purechatController.chatModel.get("expanded")){e.stopTesting(),e.purechatController.getPublicApi().set("chatbox.expanded",!0,{expandSource:_.getOption(e,"expandSource")});var t=e.widgetSettings.get("AutoExpandSoundUrl"),i="true"===localStorage._purechatVisitorWidgetPlaySound.toString().toLowerCase();if(t&&i){var r=new Audio;r.canPlayType("audio/wav")||r.canPlayType("audio/wave")?e.playSound("".concat(Z().cdnServerUrl).concat(t.replace(".mp3",".wav"))):e.playSound("".concat(Z().cdnServerUrl).concat(t.replace(".wav",".mp3")))}}}),t||1e3))}))}},{key:"playSound",value:function(t){var e=this,i=new Audio(t);i.onended=function(){e.soundIsPlaying=!1,i=null},this.soundIsPlaying=!0,i.play().catch((function(){e.soundIsPlaying=!1,i=null}))}}])&&mn(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();fn.BaseControllerSettings=yn;var vn=fn;function wn(t){return wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wn(t)}function _n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cn(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xn(t,e){return xn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xn(t,e)}function kn(t,e){if(e&&("object"===wn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function jn(t){return jn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},jn(t)}var In=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xn(t,e)}(o,t);var e,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=jn(r);if(n){var i=jn(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return kn(this,t)});function o(){return _n(this,o),a.apply(this,arguments)}return e=o,(i=[{key:"expandSource",get:function(){return"time-trigger"}},{key:"enabledWidgetSettingKey",get:function(){return"ExpandWidgetTimeoutEnabled"}},{key:"onStart",value:function(){var t=this,e=1===this.widgetSettings.get("ExpandWidgetTimeoutType")?"_purechatSessionStart":"_purechatPageStart",i=new Date-vn.BaseControllerSettings.dismissSettings.get(e),r=this.widgetSettings.get("ExpandWidgetTimeout")*vn.MILLISECONDS_IN_SECOND-i;this.timeout=setTimeout((function(){return t.triggerEvent()}),r)}},{key:"onStop",value:function(){clearTimeout(this.timeout),this.timeout=void 0}}])&&Cn(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(vn.BaseControllerSettings),Sn=In;function Pn(t){return Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pn(t)}function Tn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rn(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mn(t,e){return Mn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Mn(t,e)}function An(t,e){if(e&&("object"===Pn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function En(t){return En=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},En(t)}var On=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mn(t,e)}(o,t);var e,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=En(r);if(n){var i=En(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return An(this,t)});function o(){return Tn(this,o),a.apply(this,arguments)}return e=o,(i=[{key:"expandSource",get:function(){return"url-trigger"}},{key:"enabledWidgetSettingKey",get:function(){return"EnableTriggerPageSpecific"}},{key:"onStart",value:function(){var t=this,e=this.widgetSettings.get("TriggerUrls"),i=this.widgetSettings.get("TriggerPageExpandTimeout"),r=window.location.href.replace(/(http(s?)):\/\//gi,"");e.filter((function(e){return t.testUrl(r,e)})).forEach((function(){return t.triggerEvent(i*vn.MILLISECONDS_IN_SECOND)}))}},{key:"testUrl",value:function(t,e){return new RegExp(e.Url,"gi").test(t)}}])&&Rn(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(vn.BaseControllerSettings),Wn=On;function Dn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var r,n,a=[],o=!0,s=!1;try{for(i=i.call(t);!(o=(r=i.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(t){s=!0,n=t}finally{try{o||null==i.return||i.return()}finally{if(s)throw n}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Nn(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Nn(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nn(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function Un(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Bn={popoutButton:!1,closeButton:!1,restartButton:!1,removeWidgetButton:!1,requeueButton:!1,leaveButton:!1,cannedResponsesButton:!1},zn=["purechat-state-activating","purechat-state-chatting","purechat-state-closed","purechat-state-email-form","purechat-state-inactive","purechat-state-initializing","purechat-state-unavaiable","purechat-state-unsupported"].join(" "),Vn=2e4,Ln=/(^|:)(\w)/gi;function Fn(t,e,i){return i.toUpperCase()}var Hn=[],qn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,n().extend(this,w.Events)}var e,i;return e=t,i=[{key:"setChatModel",value:function(t){this.chatModel=t}},{key:"getChatModel",value:function(){return this.chatModel}},{key:"setWidgetView",value:function(t){this.widgetView=t,this.listenTo(this.widgetView,"all")}},{key:"getWidgetView",value:function(){return this.widgetView}},{key:"setWidgetSettings",value:function(t){this.settings=t}},{key:"getWidgetSettings",value:function(){return this.settings}},{key:"setResources",value:function(t){this.resources=t}},{key:"getResources",value:function(){return this.resources}},{key:"setDataController",value:function(t){this.dc=t}},{key:"getDataController",value:function(){return this.dc}},{key:"setViewController",value:function(t){this.vc=t}},{key:"getViewController",value:function(){return this.vc}},{key:"getResource",value:function(t,e){return this.resources.getResource(t,e)}},{key:"disable",value:function(){this.getDataController().connectionInfo.set("disabled",!0),this.getDataController().connectionInfo.set("chatActiveInOtherWindow",!0),this.getWidgetView().$el.purechatDisplay("none")}},{key:"enable",value:function(){this.getDataController().connectionInfo.set("disabled",!1),this.getDataController().connectionInfo.set("chatActiveInOtherWindow",!1),this.getWidgetView().$el.purechatDisplay("block")}},{key:"syncWithContact",value:function(){var t=this,e=p().Deferred();return this.getDataController().getContactInfo().done((function(i){if(!i)return e.resolve();var r=t.getChatModel();return r.get("visitorFirstName")||r.set("visitorFirstName",i.firstName),r.get("visitorLastName")||r.set("visitorLastName",i.lastName),r.get("visitorCompany")||r.set("visitorCompany",i.company),r.get("visitorEmail")||r.set("visitorEmail",i.email),r.get("visitorPhoneNumber")||r.set("visitorPhoneNumber",i.phone),e.resolve()})),e.promise()}},{key:"onEnter",value:function(){var t=this;if(this.getWidgetView().$el.removeClass(zn).addClass("purechat-state-".concat(this.name)),this.listenTo(this.getWidgetView(),"all",(function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t.triggerMethod.apply(t,i)})),this.stateSettings){if(this.stateSettings.UiVisiblity){var e=this.getWidgetView();n().chain(this.stateSettings.UiVisiblity).defaults(Bn).pairs().filter((function(t){var i=Dn(t,1)[0];return e.ui[i]})).each((function(t){var i=Dn(t,2),r=i[0],n=i[1];e.ui[r].purechatDisplay(n?void 0:"none")}))}var i=this.getDataController().connectionInfo,r=this.stateSettings.shouldBeInRoom;n().isUndefined(r)||(r?this.listenTo(i,"change:isInChat",(function(e,i){i||t.chatModel.set("state",Fi.WidgetStates.Closed)})):this.listenTo(i,"change:isInChat",(function(e,i){if(i){var r=t.getWidgetSettings();r.useMobile()&&!r.isDesktopDimension()||t.widgetView.expand(),t.getChatModel().set("state",Fi.WidgetStates.Chatting)}})))}this.listenTo(this.options,"change:enableAvailabilityPolling",(function(e,i){i?"inactive"===t.name&&t.startAvailabilityPolling(!0):!t.getChatModel().get("expanded")&&t.TestingStartedFromApi&&t.stopAvailabilityPolling()})),H.events.trigger("footer:show")}},{key:"onExit",value:function(){this.stopListening(this.widgetView,"all"),this.stopAvailabilityPolling(!0)}},{key:"clearPolling",value:function(){Hn.forEach((function(t){return clearInterval(t)})),Hn=[]}},{key:"testAvailability",value:function(){var t=this;this.getViewController().pageActivity||this.lastCheck&&new Date-this.lastCheck>12e4?(this.lastCheck=new Date,this.getDataController().checkChatAvailable().done((function(e){t.clearPolling(),t.checkAvailTimeout=e.available?Vn:6e5,e.available||"AccountActivity"!==e.reason?Hn.push(setTimeout((function(){return t.testAvailability()}),t.checkAvailTimeout)):t.stopAvailabilityPolling(),t.getChatModel().set("operatorsAvailable",e.available)}))):(this.checkAvailTimeout=Vn,this.clearPolling(),Hn.push(setTimeout((function(){return t.testAvailability()}),1500)))}},{key:"startAvailabilityPolling",value:function(t){var e=this;this.clearPolling(),this.checkAvailTimeout=Vn,this.testAvailability(),this.TestingStatus||Hn.push(setTimeout((function(){return e.testAvailability()}),this.checkAvailTimeout)),this.TestingStatus=!0,this.TestingStartedFromApi=t||!1}},{key:"stopAvailabilityPolling",value:function(t){this.options.get("AccountId")===Fi.RubyAccountId||this.options.get("enableAvailabilityPolling")&&"chatting"!==this.name&&"activating"!==this.name&&!t||(this.TestingStatus=!1,this.clearPolling())}},{key:"onPopOutChat",value:function(){var t=this.getWidgetSettings(),e=this.getChatModel(),i=this.getDataController();this.getChatModel().set("poppedOut",!0),this.disable(),i.connectionInfo.persistLocalStorage();var r=p().param({widgetId:t.get("widgetId"),userId:i.connectionInfo.get("userId"),displayName:i.connectionInfo.get("visitorName"),authToken:i.connectionInfo.get("authToken"),roomId:i.connectionInfo.get("roomId"),roomType:i.connectionInfo.get("roomType"),chatId:i.connectionInfo.get("chatId"),contactId:window.localStorage.getItem("i"),origin:encodeURIComponent(e.get("origin"))}),n="".concat(this.settings.get("pureServerUrl")||Z().dashboardRootUrl,"/visitorwidget/chatwindow?").concat(r);window.openedWindow=window.open(n,"purechatwindow","menubar=no, location=no, resizable=yes, scrollbars=no, status=no, width=480, height=640"),this.getViewController().trigger("widget:poppedOut")}},{key:"getOperatorsAvailable",value:function(){var t=this.getChatModel();return void 0===t.get("operatorsAvailable")||t.get("operatorsAvailable")}},{key:"getInitialTitleResourceKey",value:function(){var t=this.getWidgetSettings(),e=t.useMobile()&&!t.isDesktopDimension(),i=this.getOperatorsAvailable();return e&&i?"mobile_title_initial":e&&!i?"mobile_title_unavailable_initial":!e&&i?"title_initial":"title_unavailable_initial"}},{key:"destroy",value:function(){var t=this.getDataController().connectionInfo;this.stopListening(this.options),this.stopListening(this.widgetView),this.stopListening(t),this.stopListening(this)}},{key:"triggerMethod",value:function(){return this.triggerMethodInternal(this,arguments)}},{key:"triggerMethodInternal",value:function(t,e,i){var r=arguments.length<3;r&&(e=(i=e)[0]);var a,o="on"+e.replace(Ln,Fn),s=this[o];return n().isFunction(s)&&(a=s.apply(this,r?n().rest(i):i)),n().isFunction(this.trigger)&&(r+i.length>1?this.trigger.apply(this,r?i:[e].concat(n().drop(i,0))):this.trigger(e)),a}},{key:"onIdentifyError",value:function(){var t=this;this.getDataController().restartChat().done((function(){t.getChatModel().restartChat(),t.getViewController().resetVisitorQuestion(),t.getViewController().trigger("widget:restart")}))}}],i&&Un(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Zn=qn;function $n(t){return $n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$n(t)}function Yn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xn(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gn(t,e){return Gn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Gn(t,e)}function Jn(t,e){if(e&&("object"===$n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Kn(t){return Kn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kn(t)}var Qn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gn(t,e)}(o,t);var e,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Kn(r);if(n){var i=Kn(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return Jn(this,t)});function o(){return Yn(this,o),a.apply(this,arguments)}return e=o,i=[{key:"name",get:function(){return"activating"}},{key:"stateSettings",get:function(){return{UiVisiblity:{}}}},{key:"onEnter",value:function(){Zn.prototype.onEnter.apply(this,arguments),this.getChatModel().set("state",Fi.WidgetStates.Chatting)}}],i&&Xn(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(Zn),ta=Qn,ea=_.ItemView.extend({template:n().template("<%= obj.emoji %>"),tagName:"button",className:"purechat-emoji-button",attributes:function(){return{type:"button",title:this.model.get("description")}},events:{click:"selectEmoji",mouseover:"hoverEmoji"},modelEvents:{change:"render"},onRender:function(){this.$el.purechatDisplay(this.model.get("filtered")?"none":"block"),this.$el.toggleClass("purechat-emoji-button-active",this.model.get("selected"))},selectEmoji:function(){this.triggerMethod("emojiSelected",this.model)},hoverEmoji:function(){this.triggerMethod("emojiHovered",this.model)}}),ia=_.CollectionView.extend({childView:ea,className:"purechat-emoji-container",reorderOnSort:!0,childEvents:{}}),ra=w.Model.extend({idAttribute:"emoji",defaults:function(){return{clicked:0,modified:new Date,selected:!1}},sync:function(){this.collection&&this.collection.sync.apply(this.collection,arguments)}}),na=ra,aa=w.Collection.extend({model:na,getSelectedIndex:function(){return this.findIndex((function(t){return t.get("selected")}))},selectNext:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this.getSelectedIndex();if(!(e<0)){var i=this.at(e+t);i&&(this.at(e).set("selected",!1),i.set("selected",!0))}},selectPrev:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this.getSelectedIndex();if(!(e<0||e-t<0)){var i=this.at(e-t);i&&(this.at(e).set("selected",!1),i.set("selected",!0))}}}),oa=aa,sa=JSON.parse('[{"emoji":"🙂","category":"people","description":"slightly smiling face","names":["slightly_smiling_face"],"tags":[]},{"emoji":"😀","category":"people","description":"grinning face","names":["grinning"],"tags":["smile","happy"]},{"emoji":"😃","category":"people","description":"smiling face with open mouth","names":["smiley"],"tags":["happy","joy","haha"]},{"emoji":"😄","category":"people","description":"smiling face with open mouth & smiling eyes","names":["smile"],"tags":["happy","joy","laugh","pleased"]},{"emoji":"😁","category":"people","description":"grinning face with smiling eyes","names":["grin"],"tags":[]},{"emoji":"😆","category":"people","description":"smiling face with open mouth & closed eyes","names":["laughing","satisfied"],"tags":["happy","haha"]},{"emoji":"😅","category":"people","description":"smiling face with open mouth & cold sweat","names":["sweat_smile"],"tags":["hot"]},{"emoji":"😂","category":"people","description":"face with tears of joy","names":["joy"],"tags":["tears"]},{"emoji":"😊","category":"people","description":"smiling face with smiling eyes","names":["blush"],"tags":["proud"]},{"emoji":"😇","category":"people","description":"smiling face with halo","names":["innocent"],"tags":["angel"]},{"emoji":"😉","category":"people","description":"winking face","names":["wink"],"tags":["flirt"]},{"emoji":"😌","category":"people","description":"relieved face","names":["relieved"],"tags":["whew"]},{"emoji":"😍","category":"people","description":"smiling face with heart-eyes","names":["heart_eyes"],"tags":["love","crush"]},{"emoji":"😘","category":"people","description":"face blowing a kiss","names":["kissing_heart"],"tags":["flirt"]},{"emoji":"😗","category":"people","description":"kissing face","names":["kissing"],"tags":[]},{"emoji":"😙","category":"people","description":"kissing face with smiling eyes","names":["kissing_smiling_eyes"],"tags":[]},{"emoji":"😚","category":"people","description":"kissing face with closed eyes","names":["kissing_closed_eyes"],"tags":[]},{"emoji":"😋","category":"people","description":"face savouring delicious food","names":["yum"],"tags":["tongue","lick"]},{"emoji":"😜","category":"people","description":"face with stuck-out tongue & winking eye","names":["stuck_out_tongue_winking_eye"],"tags":["prank","silly"]},{"emoji":"😝","category":"people","description":"face with stuck-out tongue & closed eyes","names":["stuck_out_tongue_closed_eyes"],"tags":["prank"]},{"emoji":"😛","category":"people","description":"face with stuck-out tongue","names":["stuck_out_tongue"],"tags":[]},{"emoji":"😎","category":"people","description":"smiling face with sunglasses","names":["sunglasses"],"tags":["cool"]},{"emoji":"😏","category":"people","description":"smirking face","names":["smirk"],"tags":["smug"]},{"emoji":"😒","category":"people","description":"unamused face","names":["unamused"],"tags":["meh"]},{"emoji":"😞","category":"people","description":"disappointed face","names":["disappointed"],"tags":["sad"]},{"emoji":"😔","category":"people","description":"pensive face","names":["pensive"],"tags":[]},{"emoji":"😟","category":"people","description":"worried face","names":["worried"],"tags":["nervous"]},{"emoji":"😕","category":"people","description":"confused face","names":["confused"],"tags":[]},{"emoji":"😣","category":"people","description":"persevering face","names":["persevere"],"tags":["struggling"]},{"emoji":"😖","category":"people","description":"confounded face","names":["confounded"],"tags":[]},{"emoji":"😫","category":"people","description":"tired face","names":["tired_face"],"tags":["upset","whine"]},{"emoji":"😩","category":"people","description":"weary face","names":["weary"],"tags":["tired"]},{"emoji":"😤","category":"people","description":"face with steam from nose","names":["triumph"],"tags":["smug"]},{"emoji":"😠","category":"people","description":"angry face","names":["angry"],"tags":["mad","annoyed"]},{"emoji":"😡","category":"people","description":"pouting face","names":["rage","pout"],"tags":["angry"]},{"emoji":"😶","category":"people","description":"face without mouth","names":["no_mouth"],"tags":["mute","silence"]},{"emoji":"😐","category":"people","description":"neutral face","names":["neutral_face"],"tags":["meh"]},{"emoji":"😑","category":"people","description":"expressionless face","names":["expressionless"],"tags":[]},{"emoji":"😯","category":"people","description":"hushed face","names":["hushed"],"tags":["silence","speechless"]},{"emoji":"😦","category":"people","description":"frowning face with open mouth","names":["frowning"],"tags":[]},{"emoji":"😧","category":"people","description":"anguished face","names":["anguished"],"tags":["stunned"]},{"emoji":"😮","category":"people","description":"face with open mouth","names":["open_mouth"],"tags":["surprise","impressed","wow"]},{"emoji":"😲","category":"people","description":"astonished face","names":["astonished"],"tags":["amazed","gasp"]},{"emoji":"😵","category":"people","description":"dizzy face","names":["dizzy_face"],"tags":[]},{"emoji":"😳","category":"people","description":"flushed face","names":["flushed"],"tags":[]},{"emoji":"😱","category":"people","description":"face screaming in fear","names":["scream"],"tags":["horror","shocked"]},{"emoji":"😨","category":"people","description":"fearful face","names":["fearful"],"tags":["scared","shocked","oops"]},{"emoji":"😰","category":"people","description":"face with open mouth & cold sweat","names":["cold_sweat"],"tags":["nervous"]},{"emoji":"😢","category":"people","description":"crying face","names":["cry"],"tags":["sad","tear"]},{"emoji":"😥","category":"people","description":"disappointed but relieved face","names":["disappointed_relieved"],"tags":["phew","sweat","nervous"]},{"emoji":"😭","category":"people","description":"loudly crying face","names":["sob"],"tags":["sad","cry","bawling"]},{"emoji":"😓","category":"people","description":"face with cold sweat","names":["sweat"],"tags":[]},{"emoji":"😪","category":"people","description":"sleepy face","names":["sleepy"],"tags":["tired"]},{"emoji":"😴","category":"people","description":"sleeping face","names":["sleeping"],"tags":["zzz"]},{"emoji":"😬","category":"people","description":"grimacing face","names":["grimacing"],"tags":[]},{"emoji":"😷","category":"people","description":"face with medical mask","names":["mask"],"tags":["sick","ill"]},{"emoji":"😈","category":"people","description":"smiling face with horns","names":["smiling_imp"],"tags":["devil","evil","horns"]},{"emoji":"👿","category":"people","description":"angry face with horns","names":["imp"],"tags":["angry","devil","evil","horns"]},{"emoji":"👹","category":"people","description":"ogre","names":["japanese_ogre"],"tags":["monster"]},{"emoji":"👺","category":"people","description":"goblin","names":["japanese_goblin"],"tags":[]},{"emoji":"💩","category":"people","description":"pile of poo","names":["hankey","poop","shit"],"tags":["crap"]},{"emoji":"👻","category":"people","description":"ghost","names":["ghost"],"tags":["halloween"]},{"emoji":"💀","category":"people","description":"skull","names":["skull"],"tags":["dead","danger","poison"]},{"emoji":"☠️","category":"people","description":"skull and crossbones","names":["skull_and_crossbones"],"tags":["danger","pirate"]},{"emoji":"👽","category":"people","description":"alien","names":["alien"],"tags":["ufo"]},{"emoji":"👾","category":"people","description":"alien monster","names":["space_invader"],"tags":["game","retro"]},{"emoji":"🎃","category":"people","description":"jack-o-lantern","names":["jack_o_lantern"],"tags":["halloween"]},{"emoji":"😺","category":"people","description":"smiling cat face with open mouth","names":["smiley_cat"],"tags":[]},{"emoji":"😸","category":"people","description":"grinning cat face with smiling eyes","names":["smile_cat"],"tags":[]},{"emoji":"😹","category":"people","description":"cat face with tears of joy","names":["joy_cat"],"tags":[]},{"emoji":"😻","category":"people","description":"smiling cat face with heart-eyes","names":["heart_eyes_cat"],"tags":[]},{"emoji":"😼","category":"people","description":"cat face with wry smile","names":["smirk_cat"],"tags":[]},{"emoji":"😽","category":"people","description":"kissing cat face with closed eyes","names":["kissing_cat"],"tags":[]},{"emoji":"🙀","category":"people","description":"weary cat face","names":["scream_cat"],"tags":["horror"]},{"emoji":"😿","category":"people","description":"crying cat face","names":["crying_cat_face"],"tags":["sad","tear"]},{"emoji":"😾","category":"people","description":"pouting cat face","names":["pouting_cat"],"tags":[]},{"emoji":"👐","category":"people","description":"open hands","names":["open_hands"],"tags":[]},{"emoji":"🙌","category":"people","description":"raising hands","names":["raised_hands"],"tags":["hooray"]},{"emoji":"👏","category":"people","description":"clapping hands","names":["clap"],"tags":["praise","applause"]},{"emoji":"🙏","category":"people","description":"folded hands","names":["pray"],"tags":["please","hope","wish"]},{"emoji":"👍","category":"people","description":"thumbs up","names":["+1","thumbsup"],"tags":["approve","ok"]},{"emoji":"👎","category":"people","description":"thumbs down","names":["-1","thumbsdown"],"tags":["disapprove","bury"]},{"emoji":"👊","category":"people","description":"oncoming fist","names":["fist_oncoming","facepunch","punch"],"tags":["attack"]},{"emoji":"✌️","category":"people","description":"victory hand","names":["v"],"tags":["victory","peace"]},{"emoji":"👌","category":"people","description":"OK hand","names":["ok_hand"],"tags":[]},{"emoji":"👈","category":"people","description":"backhand index pointing left","names":["point_left"],"tags":[]},{"emoji":"👉","category":"people","description":"backhand index pointing right","names":["point_right"],"tags":[]},{"emoji":"👆","category":"people","description":"backhand index pointing up","names":["point_up_2"],"tags":[]},{"emoji":"👇","category":"people","description":"backhand index pointing down","names":["point_down"],"tags":[]},{"emoji":"☝️","category":"people","description":"index pointing up","names":["point_up"],"tags":[]},{"emoji":"👋","category":"people","description":"waving hand","names":["wave"],"tags":["goodbye"]},{"emoji":"💪","category":"people","description":"flexed biceps","names":["muscle"],"tags":["flex","bicep","strong","workout"]},{"emoji":"💅","category":"people","description":"nail polish","names":["nail_care"],"tags":["beauty","manicure"]},{"emoji":"💍","category":"people","description":"ring","names":["ring"],"tags":["wedding","marriage","engaged"]},{"emoji":"💄","category":"people","description":"lipstick","names":["lipstick"],"tags":["makeup"]},{"emoji":"💋","category":"people","description":"kiss mark","names":["kiss"],"tags":["lipstick"]},{"emoji":"👄","category":"people","description":"mouth","names":["lips"],"tags":["kiss"]},{"emoji":"👅","category":"people","description":"tongue","names":["tongue"],"tags":["taste"]},{"emoji":"👂","category":"people","description":"ear","names":["ear"],"tags":["hear","sound","listen"]},{"emoji":"👃","category":"people","description":"nose","names":["nose"],"tags":["smell"]},{"emoji":"👣","category":"people","description":"footprints","names":["footprints"],"tags":["feet","tracks"]},{"emoji":"👀","category":"people","description":"eyes","names":["eyes"],"tags":["look","see","watch"]},{"emoji":"👤","category":"people","description":"bust in silhouette","names":["bust_in_silhouette"],"tags":["user"]},{"emoji":"👥","category":"people","description":"busts in silhouette","names":["busts_in_silhouette"],"tags":["users","group","team"]},{"emoji":"👶","category":"people","description":"baby","names":["baby"],"tags":["child","newborn"]},{"emoji":"👦","category":"people","description":"boy","names":["boy"],"tags":["child"]},{"emoji":"👧","category":"people","description":"girl","names":["girl"],"tags":["child"]},{"emoji":"👨","category":"people","description":"man","names":["man"],"tags":["mustache","father","dad"]},{"emoji":"👩","category":"people","description":"woman","names":["woman"],"tags":["girls"]},{"emoji":"👱","category":"people","description":"blond-haired person","names":["blonde_man","person_with_blond_hair"],"tags":["boy"]},{"emoji":"👴","category":"people","description":"old man","names":["older_man"],"tags":[]},{"emoji":"👵","category":"people","description":"old woman","names":["older_woman"],"tags":[]},{"emoji":"👲","category":"people","description":"man with Chinese cap","names":["man_with_gua_pi_mao"],"tags":[]},{"emoji":"👳","category":"people","description":"person wearing turban","names":["man_with_turban"],"tags":[]},{"emoji":"👮","category":"people","description":"police officer","names":["policeman","cop"],"tags":["police","law"]},{"emoji":"👷","category":"people","description":"construction worker","names":["construction_worker_man","construction_worker"],"tags":["helmet"]},{"emoji":"💂","category":"people","description":"guard","names":["guardsman"],"tags":[]},{"emoji":"🎅","category":"people","description":"Santa Claus","names":["santa"],"tags":["christmas"]},{"emoji":"👸","category":"people","description":"princess","names":["princess"],"tags":["blonde","crown","royal"]},{"emoji":"👰","category":"people","description":"bride with veil","names":["bride_with_veil"],"tags":["marriage","wedding"]},{"emoji":"👼","category":"people","description":"baby angel","names":["angel"],"tags":[]},{"emoji":"🙇","category":"people","description":"person bowing","names":["bowing_man","bow"],"tags":["respect","thanks"]},{"emoji":"💁","category":"people","description":"person tipping hand","names":["tipping_hand_woman","information_desk_person","sassy_woman"],"tags":[]},{"emoji":"🙅","category":"people","description":"person gesturing NO","names":["no_good_woman","no_good","ng_woman"],"tags":["stop","halt"]},{"emoji":"🙆","category":"people","description":"person gesturing OK","names":["ok_woman"],"tags":[]},{"emoji":"🙋","category":"people","description":"person raising hand","names":["raising_hand_woman","raising_hand"],"tags":[]},{"emoji":"🙎","category":"people","description":"person pouting","names":["pouting_woman","person_with_pouting_face"],"tags":[]},{"emoji":"🙍","category":"people","description":"person frowning","names":["frowning_woman","person_frowning"],"tags":["sad"]},{"emoji":"💇","category":"people","description":"person getting haircut","names":["haircut_woman","haircut"],"tags":["beauty"]},{"emoji":"💆","category":"people","description":"person getting massage","names":["massage_woman","massage"],"tags":["spa"]},{"emoji":"💃","category":"people","description":"woman dancing","names":["dancer"],"tags":["dress"]},{"emoji":"👯","category":"people","description":"people with bunny ears partying","names":["dancing_women","dancers"],"tags":["bunny"]},{"emoji":"🚶","category":"people","description":"person walking","names":["walking_man","walking"],"tags":[]},{"emoji":"🏃","category":"people","description":"person running","names":["running_man","runner","running"],"tags":["exercise","workout","marathon"]},{"emoji":"👫","category":"people","description":"man and woman holding hands","names":["couple"],"tags":["date"]},{"emoji":"👭","category":"people","description":"two women holding hands","names":["two_women_holding_hands"],"tags":["couple","date"]},{"emoji":"👬","category":"people","description":"two men holding hands","names":["two_men_holding_hands"],"tags":["couple","date"]},{"emoji":"💑","category":"people","description":"couple with heart","names":["couple_with_heart_woman_man","couple_with_heart"],"tags":[]},{"emoji":"💏","category":"people","description":"kiss","names":["couplekiss_man_woman"],"tags":[]},{"emoji":"👪","category":"people","description":"family","names":["family_man_woman_boy","family"],"tags":["home","parents","child"]},{"emoji":"👚","category":"people","description":"woman’s clothes","names":["womans_clothes"],"tags":[]},{"emoji":"👕","category":"people","description":"t-shirt","names":["shirt","tshirt"],"tags":[]},{"emoji":"👖","category":"people","description":"jeans","names":["jeans"],"tags":["pants"]},{"emoji":"👔","category":"people","description":"necktie","names":["necktie"],"tags":["shirt","formal"]},{"emoji":"👗","category":"people","description":"dress","names":["dress"],"tags":[]},{"emoji":"👙","category":"people","description":"bikini","names":["bikini"],"tags":["beach"]},{"emoji":"👘","category":"people","description":"kimono","names":["kimono"],"tags":[]},{"emoji":"👠","category":"people","description":"high-heeled shoe","names":["high_heel"],"tags":["shoe"]},{"emoji":"👡","category":"people","description":"woman’s sandal","names":["sandal"],"tags":["shoe"]},{"emoji":"👢","category":"people","description":"woman’s boot","names":["boot"],"tags":[]},{"emoji":"👞","category":"people","description":"man’s shoe","names":["mans_shoe","shoe"],"tags":[]},{"emoji":"👟","category":"people","description":"running shoe","names":["athletic_shoe"],"tags":["sneaker","sport","running"]},{"emoji":"👒","category":"people","description":"woman’s hat","names":["womans_hat"],"tags":[]},{"emoji":"🎩","category":"people","description":"top hat","names":["tophat"],"tags":["hat","classy"]},{"emoji":"🎓","category":"people","description":"graduation cap","names":["mortar_board"],"tags":["education","college","university","graduation"]},{"emoji":"👑","category":"people","description":"crown","names":["crown"],"tags":["king","queen","royal"]},{"emoji":"🎒","category":"people","description":"school backpack","names":["school_satchel"],"tags":[]},{"emoji":"👝","category":"people","description":"clutch bag","names":["pouch"],"tags":["bag"]},{"emoji":"👛","category":"people","description":"purse","names":["purse"],"tags":[]},{"emoji":"👜","category":"people","description":"handbag","names":["handbag"],"tags":["bag"]},{"emoji":"💼","category":"people","description":"briefcase","names":["briefcase"],"tags":["business"]},{"emoji":"👓","category":"people","description":"glasses","names":["eyeglasses"],"tags":["glasses"]},{"emoji":"🌂","category":"people","description":"closed umbrella","names":["closed_umbrella"],"tags":["weather","rain"]},{"emoji":"☂️","category":"people","description":"umbrella","names":["open_umbrella"],"tags":[]},{"emoji":"🐶","category":"nature","description":"dog face","names":["dog"],"tags":["pet"]},{"emoji":"🐱","category":"nature","description":"cat face","names":["cat"],"tags":["pet"]},{"emoji":"🐭","category":"nature","description":"mouse face","names":["mouse"],"tags":[]},{"emoji":"🐹","category":"nature","description":"hamster face","names":["hamster"],"tags":["pet"]},{"emoji":"🐰","category":"nature","description":"rabbit face","names":["rabbit"],"tags":["bunny"]},{"emoji":"🐻","category":"nature","description":"bear face","names":["bear"],"tags":[]},{"emoji":"🐼","category":"nature","description":"panda face","names":["panda_face"],"tags":[]},{"emoji":"🐨","category":"nature","description":"koala","names":["koala"],"tags":[]},{"emoji":"🐯","category":"nature","description":"tiger face","names":["tiger"],"tags":[]},{"emoji":"🐮","category":"nature","description":"cow face","names":["cow"],"tags":[]},{"emoji":"🐷","category":"nature","description":"pig face","names":["pig"],"tags":[]},{"emoji":"🐽","category":"nature","description":"pig nose","names":["pig_nose"],"tags":[]},{"emoji":"🐸","category":"nature","description":"frog face","names":["frog"],"tags":[]},{"emoji":"🐵","category":"nature","description":"monkey face","names":["monkey_face"],"tags":[]},{"emoji":"🙈","category":"nature","description":"see-no-evil monkey","names":["see_no_evil"],"tags":["monkey","blind","ignore"]},{"emoji":"🙉","category":"nature","description":"hear-no-evil monkey","names":["hear_no_evil"],"tags":["monkey","deaf"]},{"emoji":"🙊","category":"nature","description":"speak-no-evil monkey","names":["speak_no_evil"],"tags":["monkey","mute","hush"]},{"emoji":"🐒","category":"nature","description":"monkey","names":["monkey"],"tags":[]},{"emoji":"🐔","category":"nature","description":"chicken","names":["chicken"],"tags":[]},{"emoji":"🐧","category":"nature","description":"penguin","names":["penguin"],"tags":[]},{"emoji":"🐦","category":"nature","description":"bird","names":["bird"],"tags":[]},{"emoji":"🐤","category":"nature","description":"baby chick","names":["baby_chick"],"tags":[]},{"emoji":"🐣","category":"nature","description":"hatching chick","names":["hatching_chick"],"tags":[]},{"emoji":"🐥","category":"nature","description":"front-facing baby chick","names":["hatched_chick"],"tags":[]},{"emoji":"🐺","category":"nature","description":"wolf face","names":["wolf"],"tags":[]},{"emoji":"🐗","category":"nature","description":"boar","names":["boar"],"tags":[]},{"emoji":"🐴","category":"nature","description":"horse face","names":["horse"],"tags":[]},{"emoji":"🐝","category":"nature","description":"honeybee","names":["bee","honeybee"],"tags":[]},{"emoji":"🐛","category":"nature","description":"bug","names":["bug"],"tags":[]},{"emoji":"🐌","category":"nature","description":"snail","names":["snail"],"tags":["slow"]},{"emoji":"🐚","category":"nature","description":"spiral shell","names":["shell"],"tags":["sea","beach"]},{"emoji":"🐞","category":"nature","description":"lady beetle","names":["beetle"],"tags":["bug"]},{"emoji":"🐜","category":"nature","description":"ant","names":["ant"],"tags":[]},{"emoji":"🐢","category":"nature","description":"turtle","names":["turtle"],"tags":["slow"]},{"emoji":"🐍","category":"nature","description":"snake","names":["snake"],"tags":[]},{"emoji":"🐙","category":"nature","description":"octopus","names":["octopus"],"tags":[]},{"emoji":"🐠","category":"nature","description":"tropical fish","names":["tropical_fish"],"tags":[]},{"emoji":"🐟","category":"nature","description":"fish","names":["fish"],"tags":[]},{"emoji":"🐡","category":"nature","description":"blowfish","names":["blowfish"],"tags":[]},{"emoji":"🐬","category":"nature","description":"dolphin","names":["dolphin","flipper"],"tags":[]},{"emoji":"🐳","category":"nature","description":"spouting whale","names":["whale"],"tags":["sea"]},{"emoji":"🐋","category":"nature","description":"whale","names":["whale2"],"tags":[]},{"emoji":"🐊","category":"nature","description":"crocodile","names":["crocodile"],"tags":[]},{"emoji":"🐆","category":"nature","description":"leopard","names":["leopard"],"tags":[]},{"emoji":"🐅","category":"nature","description":"tiger","names":["tiger2"],"tags":[]},{"emoji":"🐃","category":"nature","description":"water buffalo","names":["water_buffalo"],"tags":[]},{"emoji":"🐂","category":"nature","description":"ox","names":["ox"],"tags":[]},{"emoji":"🐄","category":"nature","description":"cow","names":["cow2"],"tags":[]},{"emoji":"🐪","category":"nature","description":"camel","names":["dromedary_camel"],"tags":["desert"]},{"emoji":"🐫","category":"nature","description":"two-hump camel","names":["camel"],"tags":[]},{"emoji":"🐘","category":"nature","description":"elephant","names":["elephant"],"tags":[]},{"emoji":"🐎","category":"nature","description":"horse","names":["racehorse"],"tags":["speed"]},{"emoji":"🐖","category":"nature","description":"pig","names":["pig2"],"tags":[]},{"emoji":"🐐","category":"nature","description":"goat","names":["goat"],"tags":[]},{"emoji":"🐏","category":"nature","description":"ram","names":["ram"],"tags":[]},{"emoji":"🐑","category":"nature","description":"sheep","names":["sheep"],"tags":[]},{"emoji":"🐕","category":"nature","description":"dog","names":["dog2"],"tags":[]},{"emoji":"🐩","category":"nature","description":"poodle","names":["poodle"],"tags":["dog"]},{"emoji":"🐈","category":"nature","description":"cat","names":["cat2"],"tags":[]},{"emoji":"🐓","category":"nature","description":"rooster","names":["rooster"],"tags":[]},{"emoji":"🐇","category":"nature","description":"rabbit","names":["rabbit2"],"tags":[]},{"emoji":"🐁","category":"nature","description":"mouse","names":["mouse2"],"tags":[]},{"emoji":"🐀","category":"nature","description":"rat","names":["rat"],"tags":[]},{"emoji":"🐾","category":"nature","description":"paw prints","names":["feet","paw_prints"],"tags":[]},{"emoji":"🐉","category":"nature","description":"dragon","names":["dragon"],"tags":[]},{"emoji":"🐲","category":"nature","description":"dragon face","names":["dragon_face"],"tags":[]},{"emoji":"🌵","category":"nature","description":"cactus","names":["cactus"],"tags":[]},{"emoji":"🎄","category":"nature","description":"Christmas tree","names":["christmas_tree"],"tags":[]},{"emoji":"🌲","category":"nature","description":"evergreen tree","names":["evergreen_tree"],"tags":["wood"]},{"emoji":"🌳","category":"nature","description":"deciduous tree","names":["deciduous_tree"],"tags":["wood"]},{"emoji":"🌴","category":"nature","description":"palm tree","names":["palm_tree"],"tags":[]},{"emoji":"🌱","category":"nature","description":"seedling","names":["seedling"],"tags":["plant"]},{"emoji":"🌿","category":"nature","description":"herb","names":["herb"],"tags":[]},{"emoji":"☘️","category":"nature","description":"shamrock","names":["shamrock"],"tags":[]},{"emoji":"🍀","category":"nature","description":"four leaf clover","names":["four_leaf_clover"],"tags":["luck"]},{"emoji":"🎍","category":"nature","description":"pine decoration","names":["bamboo"],"tags":[]},{"emoji":"🎋","category":"nature","description":"tanabata tree","names":["tanabata_tree"],"tags":[]},{"emoji":"🍃","category":"nature","description":"leaf fluttering in wind","names":["leaves"],"tags":["leaf"]},{"emoji":"🍂","category":"nature","description":"fallen leaf","names":["fallen_leaf"],"tags":["autumn"]},{"emoji":"🍁","category":"nature","description":"maple leaf","names":["maple_leaf"],"tags":["canada"]},{"emoji":"🍄","category":"nature","description":"mushroom","names":["mushroom"],"tags":[]},{"emoji":"🌾","category":"nature","description":"sheaf of rice","names":["ear_of_rice"],"tags":[]},{"emoji":"💐","category":"nature","description":"bouquet","names":["bouquet"],"tags":["flowers"]},{"emoji":"🌷","category":"nature","description":"tulip","names":["tulip"],"tags":["flower"]},{"emoji":"🌹","category":"nature","description":"rose","names":["rose"],"tags":["flower"]},{"emoji":"🌻","category":"nature","description":"sunflower","names":["sunflower"],"tags":[]},{"emoji":"🌼","category":"nature","description":"blossom","names":["blossom"],"tags":[]},{"emoji":"🌸","category":"nature","description":"cherry blossom","names":["cherry_blossom"],"tags":["flower","spring"]},{"emoji":"🌺","category":"nature","description":"hibiscus","names":["hibiscus"],"tags":[]},{"emoji":"🌎","category":"nature","description":"globe showing Americas","names":["earth_americas"],"tags":["globe","world","international"]},{"emoji":"🌍","category":"nature","description":"globe showing Europe-Africa","names":["earth_africa"],"tags":["globe","world","international"]},{"emoji":"🌏","category":"nature","description":"globe showing Asia-Australia","names":["earth_asia"],"tags":["globe","world","international"]},{"emoji":"🌕","category":"nature","description":"full moon","names":["full_moon"],"tags":[]},{"emoji":"🌖","category":"nature","description":"waning gibbous moon","names":["waning_gibbous_moon"],"tags":[]},{"emoji":"🌗","category":"nature","description":"last quarter moon","names":["last_quarter_moon"],"tags":[]},{"emoji":"🌘","category":"nature","description":"waning crescent moon","names":["waning_crescent_moon"],"tags":[]},{"emoji":"🌑","category":"nature","description":"new moon","names":["new_moon"],"tags":[]},{"emoji":"🌒","category":"nature","description":"waxing crescent moon","names":["waxing_crescent_moon"],"tags":[]},{"emoji":"🌓","category":"nature","description":"first quarter moon","names":["first_quarter_moon"],"tags":[]},{"emoji":"🌔","category":"nature","description":"waxing gibbous moon","names":["moon","waxing_gibbous_moon"],"tags":[]},{"emoji":"🌚","category":"nature","description":"new moon face","names":["new_moon_with_face"],"tags":[]},{"emoji":"🌝","category":"nature","description":"full moon with face","names":["full_moon_with_face"],"tags":[]},{"emoji":"🌞","category":"nature","description":"sun with face","names":["sun_with_face"],"tags":["summer"]},{"emoji":"🌛","category":"nature","description":"first quarter moon with face","names":["first_quarter_moon_with_face"],"tags":[]},{"emoji":"🌜","category":"nature","description":"last quarter moon with face","names":["last_quarter_moon_with_face"],"tags":[]},{"emoji":"🌙","category":"nature","description":"crescent moon","names":["crescent_moon"],"tags":["night"]},{"emoji":"💫","category":"nature","description":"dizzy","names":["dizzy"],"tags":["star"]},{"emoji":"⭐️","category":"nature","description":"white medium star","names":["star"],"tags":[]},{"emoji":"🌟","category":"nature","description":"glowing star","names":["star2"],"tags":[]},{"emoji":"✨","category":"nature","description":"sparkles","names":["sparkles"],"tags":["shiny"]},{"emoji":"⚡️","category":"nature","description":"high voltage","names":["zap"],"tags":["lightning","thunder"]},{"emoji":"🔥","category":"nature","description":"fire","names":["fire"],"tags":["burn"]},{"emoji":"💥","category":"nature","description":"collision","names":["boom","collision"],"tags":["explode"]},{"emoji":"☄","category":"nature","description":"comet","names":["comet"],"tags":[]},{"emoji":"☀️","category":"nature","description":"sun","names":["sunny"],"tags":["weather"]},{"emoji":"⛅️","category":"nature","description":"sun behind cloud","names":["partly_sunny"],"tags":["weather","cloud"]},{"emoji":"🌈","category":"nature","description":"rainbow","names":["rainbow"],"tags":[]},{"emoji":"☁️","category":"nature","description":"cloud","names":["cloud"],"tags":[]},{"emoji":"☃️","category":"nature","description":"snowman","names":["snowman_with_snow"],"tags":["winter","christmas"]},{"emoji":"⛄️","category":"nature","description":"snowman without snow","names":["snowman"],"tags":["winter"]},{"emoji":"❄️","category":"nature","description":"snowflake","names":["snowflake"],"tags":["winter","cold","weather"]},{"emoji":"💨","category":"nature","description":"dashing away","names":["dash"],"tags":["wind","blow","fast"]},{"emoji":"🌊","category":"nature","description":"water wave","names":["ocean"],"tags":["sea"]},{"emoji":"💧","category":"nature","description":"droplet","names":["droplet"],"tags":["water"]},{"emoji":"💦","category":"nature","description":"sweat droplets","names":["sweat_drops"],"tags":["water","workout"]},{"emoji":"☔️","category":"nature","description":"umbrella with rain drops","names":["umbrella"],"tags":["rain","weather"]},{"emoji":"🍏","category":"foods","description":"green apple","names":["green_apple"],"tags":["fruit"]},{"emoji":"🍎","category":"foods","description":"red apple","names":["apple"],"tags":[]},{"emoji":"🍐","category":"foods","description":"pear","names":["pear"],"tags":[]},{"emoji":"🍊","category":"foods","description":"tangerine","names":["tangerine","orange","mandarin"],"tags":[]},{"emoji":"🍋","category":"foods","description":"lemon","names":["lemon"],"tags":[]},{"emoji":"🍌","category":"foods","description":"banana","names":["banana"],"tags":["fruit"]},{"emoji":"🍉","category":"foods","description":"watermelon","names":["watermelon"],"tags":[]},{"emoji":"🍇","category":"foods","description":"grapes","names":["grapes"],"tags":[]},{"emoji":"🍓","category":"foods","description":"strawberry","names":["strawberry"],"tags":["fruit"]},{"emoji":"🍈","category":"foods","description":"melon","names":["melon"],"tags":[]},{"emoji":"🍒","category":"foods","description":"cherries","names":["cherries"],"tags":["fruit"]},{"emoji":"🍑","category":"foods","description":"peach","names":["peach"],"tags":[]},{"emoji":"🍍","category":"foods","description":"pineapple","names":["pineapple"],"tags":[]},{"emoji":"🍅","category":"foods","description":"tomato","names":["tomato"],"tags":[]},{"emoji":"🍆","category":"foods","description":"eggplant","names":["eggplant"],"tags":["aubergine"]},{"emoji":"🌽","category":"foods","description":"ear of corn","names":["corn"],"tags":[]},{"emoji":"🍠","category":"foods","description":"roasted sweet potato","names":["sweet_potato"],"tags":[]},{"emoji":"🌰","category":"foods","description":"chestnut","names":["chestnut"],"tags":[]},{"emoji":"🍯","category":"foods","description":"honey pot","names":["honey_pot"],"tags":[]},{"emoji":"🍞","category":"foods","description":"bread","names":["bread"],"tags":["toast"]},{"emoji":"🍳","category":"foods","description":"cooking","names":["fried_egg"],"tags":["breakfast"]},{"emoji":"🍤","category":"foods","description":"fried shrimp","names":["fried_shrimp"],"tags":["tempura"]},{"emoji":"🍗","category":"foods","description":"poultry leg","names":["poultry_leg"],"tags":["meat","chicken"]},{"emoji":"🍖","category":"foods","description":"meat on bone","names":["meat_on_bone"],"tags":[]},{"emoji":"🍕","category":"foods","description":"pizza","names":["pizza"],"tags":[]},{"emoji":"🍔","category":"foods","description":"hamburger","names":["hamburger"],"tags":["burger"]},{"emoji":"🍟","category":"foods","description":"french fries","names":["fries"],"tags":[]},{"emoji":"🍝","category":"foods","description":"spaghetti","names":["spaghetti"],"tags":["pasta"]},{"emoji":"🍜","category":"foods","description":"steaming bowl","names":["ramen"],"tags":["noodle"]},{"emoji":"🍲","category":"foods","description":"pot of food","names":["stew"],"tags":[]},{"emoji":"🍥","category":"foods","description":"fish cake with swirl","names":["fish_cake"],"tags":[]},{"emoji":"🍣","category":"foods","description":"sushi","names":["sushi"],"tags":[]},{"emoji":"🍱","category":"foods","description":"bento box","names":["bento"],"tags":[]},{"emoji":"🍛","category":"foods","description":"curry rice","names":["curry"],"tags":[]},{"emoji":"🍚","category":"foods","description":"cooked rice","names":["rice"],"tags":[]},{"emoji":"🍙","category":"foods","description":"rice ball","names":["rice_ball"],"tags":[]},{"emoji":"🍘","category":"foods","description":"rice cracker","names":["rice_cracker"],"tags":[]},{"emoji":"🍢","category":"foods","description":"oden","names":["oden"],"tags":[]},{"emoji":"🍡","category":"foods","description":"dango","names":["dango"],"tags":[]},{"emoji":"🍧","category":"foods","description":"shaved ice","names":["shaved_ice"],"tags":[]},{"emoji":"🍨","category":"foods","description":"ice cream","names":["ice_cream"],"tags":[]},{"emoji":"🍦","category":"foods","description":"soft ice cream","names":["icecream"],"tags":[]},{"emoji":"🍰","category":"foods","description":"shortcake","names":["cake"],"tags":["dessert"]},{"emoji":"🎂","category":"foods","description":"birthday cake","names":["birthday"],"tags":["party"]},{"emoji":"🍮","category":"foods","description":"custard","names":["custard"],"tags":[]},{"emoji":"🍭","category":"foods","description":"lollipop","names":["lollipop"],"tags":[]},{"emoji":"🍬","category":"foods","description":"candy","names":["candy"],"tags":["sweet"]},{"emoji":"🍫","category":"foods","description":"chocolate bar","names":["chocolate_bar"],"tags":[]},{"emoji":"🍩","category":"foods","description":"doughnut","names":["doughnut"],"tags":[]},{"emoji":"🍪","category":"foods","description":"cookie","names":["cookie"],"tags":[]},{"emoji":"🍼","category":"foods","description":"baby bottle","names":["baby_bottle"],"tags":["milk"]},{"emoji":"☕️","category":"foods","description":"hot beverage","names":["coffee"],"tags":["cafe","espresso"]},{"emoji":"🍵","category":"foods","description":"teacup without handle","names":["tea"],"tags":["green","breakfast"]},{"emoji":"🍶","category":"foods","description":"sake","names":["sake"],"tags":[]},{"emoji":"🍺","category":"foods","description":"beer mug","names":["beer"],"tags":["drink"]},{"emoji":"🍻","category":"foods","description":"clinking beer mugs","names":["beers"],"tags":["drinks"]},{"emoji":"🍷","category":"foods","description":"wine glass","names":["wine_glass"],"tags":[]},{"emoji":"🥃","category":"foods","description":"tumbler glass","names":["tumbler_glass"],"tags":["whisky"]},{"emoji":"🍸","category":"foods","description":"cocktail glass","names":["cocktail"],"tags":["drink"]},{"emoji":"🍹","category":"foods","description":"tropical drink","names":["tropical_drink"],"tags":["summer","vacation"]},{"emoji":"🍴","category":"foods","description":"fork and knife","names":["fork_and_knife"],"tags":["cutlery"]},{"emoji":"⚽️","category":"activity","description":"soccer ball","names":["soccer"],"tags":["sports"]},{"emoji":"🏀","category":"activity","description":"basketball","names":["basketball"],"tags":["sports"]},{"emoji":"🏈","category":"activity","description":"american football","names":["football"],"tags":["sports"]},{"emoji":"⚾️","category":"activity","description":"baseball","names":["baseball"],"tags":["sports"]},{"emoji":"🎾","category":"activity","description":"tennis","names":["tennis"],"tags":["sports"]},{"emoji":"🏉","category":"activity","description":"rugby football","names":["rugby_football"],"tags":[]},{"emoji":"🎱","category":"activity","description":"pool 8 ball","names":["8ball"],"tags":["pool","billiards"]},{"emoji":"⛳️","category":"activity","description":"flag in hole","names":["golf"],"tags":[]},{"emoji":"🎣","category":"activity","description":"fishing pole","names":["fishing_pole_and_fish"],"tags":[]},{"emoji":"⛸","category":"activity","description":"ice skate","names":["ice_skate"],"tags":["skating"]},{"emoji":"🎿","category":"activity","description":"skis","names":["ski"],"tags":[]},{"emoji":"⛷","category":"activity","description":"skier","names":["skier"],"tags":[]},{"emoji":"🏂","category":"activity","description":"snowboarder","names":["snowboarder"],"tags":[]},{"emoji":"⛹","category":"activity","description":"person bouncing ball","names":["basketball_man"],"tags":[]},{"emoji":"🏄","category":"activity","description":"person surfing","names":["surfing_man","surfer"],"tags":[]},{"emoji":"🏊","category":"activity","description":"person swimming","names":["swimming_man","swimmer"],"tags":[]},{"emoji":"🚣","category":"activity","description":"person rowing boat","names":["rowing_man","rowboat"],"tags":[]},{"emoji":"🏇","category":"activity","description":"horse racing","names":["horse_racing"],"tags":[]},{"emoji":"🚴","category":"activity","description":"person biking","names":["biking_man","bicyclist"],"tags":[]},{"emoji":"🚵","category":"activity","description":"person mountain biking","names":["mountain_biking_man","mountain_bicyclist"],"tags":[]},{"emoji":"🎽","category":"activity","description":"running shirt","names":["running_shirt_with_sash"],"tags":["marathon"]},{"emoji":"🏆","category":"activity","description":"trophy","names":["trophy"],"tags":["award","contest","winner"]},{"emoji":"🎪","category":"activity","description":"circus tent","names":["circus_tent"],"tags":[]},{"emoji":"🎭","category":"activity","description":"performing arts","names":["performing_arts"],"tags":["theater","drama"]},{"emoji":"🎨","category":"activity","description":"artist palette","names":["art"],"tags":["design","paint"]},{"emoji":"🎬","category":"activity","description":"clapper board","names":["clapper"],"tags":["film"]},{"emoji":"🎤","category":"activity","description":"microphone","names":["microphone"],"tags":["sing"]},{"emoji":"🎧","category":"activity","description":"headphone","names":["headphones"],"tags":["music","earphones"]},{"emoji":"🎼","category":"activity","description":"musical score","names":["musical_score"],"tags":[]},{"emoji":"🎹","category":"activity","description":"musical keyboard","names":["musical_keyboard"],"tags":["piano"]},{"emoji":"🎷","category":"activity","description":"saxophone","names":["saxophone"],"tags":[]},{"emoji":"🎺","category":"activity","description":"trumpet","names":["trumpet"],"tags":[]},{"emoji":"🎸","category":"activity","description":"guitar","names":["guitar"],"tags":["rock"]},{"emoji":"🎻","category":"activity","description":"violin","names":["violin"],"tags":[]},{"emoji":"🎲","category":"activity","description":"game die","names":["game_die"],"tags":["dice","gambling"]},{"emoji":"🎯","category":"activity","description":"direct hit","names":["dart"],"tags":["target"]},{"emoji":"🎳","category":"activity","description":"bowling","names":["bowling"],"tags":[]},{"emoji":"🎮","category":"activity","description":"video game","names":["video_game"],"tags":["play","controller","console"]},{"emoji":"🎰","category":"activity","description":"slot machine","names":["slot_machine"],"tags":[]},{"emoji":"🚗","category":"places","description":"automobile","names":["car","red_car"],"tags":[]},{"emoji":"🚕","category":"places","description":"taxi","names":["taxi"],"tags":[]},{"emoji":"🚙","category":"places","description":"sport utility vehicle","names":["blue_car"],"tags":[]},{"emoji":"🚌","category":"places","description":"bus","names":["bus"],"tags":[]},{"emoji":"🚎","category":"places","description":"trolleybus","names":["trolleybus"],"tags":[]},{"emoji":"🚓","category":"places","description":"police car","names":["police_car"],"tags":[]},{"emoji":"🚑","category":"places","description":"ambulance","names":["ambulance"],"tags":[]},{"emoji":"🚒","category":"places","description":"fire engine","names":["fire_engine"],"tags":[]},{"emoji":"🚐","category":"places","description":"minibus","names":["minibus"],"tags":[]},{"emoji":"🚚","category":"places","description":"delivery truck","names":["truck"],"tags":[]},{"emoji":"🚛","category":"places","description":"articulated lorry","names":["articulated_lorry"],"tags":[]},{"emoji":"🚜","category":"places","description":"tractor","names":["tractor"],"tags":[]},{"emoji":"🚲","category":"places","description":"bicycle","names":["bike"],"tags":["bicycle"]},{"emoji":"🚨","category":"places","description":"police car light","names":["rotating_light"],"tags":["911","emergency"]},{"emoji":"🚔","category":"places","description":"oncoming police car","names":["oncoming_police_car"],"tags":[]},{"emoji":"🚍","category":"places","description":"oncoming bus","names":["oncoming_bus"],"tags":[]},{"emoji":"🚘","category":"places","description":"oncoming automobile","names":["oncoming_automobile"],"tags":[]},{"emoji":"🚖","category":"places","description":"oncoming taxi","names":["oncoming_taxi"],"tags":[]},{"emoji":"🚡","category":"places","description":"aerial tramway","names":["aerial_tramway"],"tags":[]},{"emoji":"🚠","category":"places","description":"mountain cableway","names":["mountain_cableway"],"tags":[]},{"emoji":"🚟","category":"places","description":"suspension railway","names":["suspension_railway"],"tags":[]},{"emoji":"🚃","category":"places","description":"railway car","names":["railway_car"],"tags":[]},{"emoji":"🚋","category":"places","description":"tram car","names":["train"],"tags":[]},{"emoji":"🚞","category":"places","description":"mountain railway","names":["mountain_railway"],"tags":[]},{"emoji":"🚝","category":"places","description":"monorail","names":["monorail"],"tags":[]},{"emoji":"🚄","category":"places","description":"high-speed train","names":["bullettrain_side"],"tags":["train"]},{"emoji":"🚅","category":"places","description":"high-speed train with bullet nose","names":["bullettrain_front"],"tags":["train"]},{"emoji":"🚈","category":"places","description":"light rail","names":["light_rail"],"tags":[]},{"emoji":"🚂","category":"places","description":"locomotive","names":["steam_locomotive"],"tags":["train"]},{"emoji":"🚆","category":"places","description":"train","names":["train2"],"tags":[]},{"emoji":"🚇","category":"places","description":"metro","names":["metro"],"tags":[]},{"emoji":"🚊","category":"places","description":"tram","names":["tram"],"tags":[]},{"emoji":"🚉","category":"places","description":"station","names":["station"],"tags":[]},{"emoji":"🚁","category":"places","description":"helicopter","names":["helicopter"],"tags":[]},{"emoji":"✈️","category":"places","description":"airplane","names":["airplane"],"tags":["flight"]},{"emoji":"🚀","category":"places","description":"rocket","names":["rocket"],"tags":["ship","launch"]},{"emoji":"💺","category":"places","description":"seat","names":["seat"],"tags":[]},{"emoji":"⛵️","category":"places","description":"sailboat","names":["boat","sailboat"],"tags":[]},{"emoji":"🚤","category":"places","description":"speedboat","names":["speedboat"],"tags":["ship"]},{"emoji":"⛴","category":"places","description":"ferry","names":["ferry"],"tags":[]},{"emoji":"🚢","category":"places","description":"ship","names":["ship"],"tags":[]},{"emoji":"⚓️","category":"places","description":"anchor","names":["anchor"],"tags":["ship"]},{"emoji":"🚧","category":"places","description":"construction","names":["construction"],"tags":["wip"]},{"emoji":"⛽️","category":"places","description":"fuel pump","names":["fuelpump"],"tags":[]},{"emoji":"🚏","category":"places","description":"bus stop","names":["busstop"],"tags":[]},{"emoji":"🚦","category":"places","description":"vertical traffic light","names":["vertical_traffic_light"],"tags":["semaphore"]},{"emoji":"🚥","category":"places","description":"horizontal traffic light","names":["traffic_light"],"tags":[]},{"emoji":"🗿","category":"places","description":"moai","names":["moyai"],"tags":["stone"]},{"emoji":"🗽","category":"places","description":"Statue of Liberty","names":["statue_of_liberty"],"tags":[]},{"emoji":"⛲️","category":"places","description":"fountain","names":["fountain"],"tags":[]},{"emoji":"🗼","category":"places","description":"Tokyo tower","names":["tokyo_tower"],"tags":[]},{"emoji":"🏰","category":"places","description":"castle","names":["european_castle"],"tags":[]},{"emoji":"🏯","category":"places","description":"Japanese castle","names":["japanese_castle"],"tags":[]},{"emoji":"🎡","category":"places","description":"ferris wheel","names":["ferris_wheel"],"tags":[]},{"emoji":"🎢","category":"places","description":"roller coaster","names":["roller_coaster"],"tags":[]},{"emoji":"🎠","category":"places","description":"carousel horse","names":["carousel_horse"],"tags":[]},{"emoji":"⛰","category":"places","description":"mountain","names":["mountain"],"tags":[]},{"emoji":"🗻","category":"places","description":"mount fuji","names":["mount_fuji"],"tags":[]},{"emoji":"🌋","category":"places","description":"volcano","names":["volcano"],"tags":[]},{"emoji":"⛺️","category":"places","description":"tent","names":["tent"],"tags":["camping"]},{"emoji":"🏭","category":"places","description":"factory","names":["factory"],"tags":[]},{"emoji":"🏡","category":"places","description":"house with garden","names":["house_with_garden"],"tags":[]},{"emoji":"🏢","category":"places","description":"office building","names":["office"],"tags":[]},{"emoji":"🏬","category":"places","description":"department store","names":["department_store"],"tags":[]},{"emoji":"🏣","category":"places","description":"Japanese post office","names":["post_office"],"tags":[]},{"emoji":"🏤","category":"places","description":"post office","names":["european_post_office"],"tags":[]},{"emoji":"🏥","category":"places","description":"hospital","names":["hospital"],"tags":[]},{"emoji":"🏦","category":"places","description":"bank","names":["bank"],"tags":[]},{"emoji":"🏨","category":"places","description":"hotel","names":["hotel"],"tags":[]},{"emoji":"🏪","category":"places","description":"convenience store","names":["convenience_store"],"tags":[]},{"emoji":"🏫","category":"places","description":"school","names":["school"],"tags":[]},{"emoji":"🏩","category":"places","description":"love hotel","names":["love_hotel"],"tags":[]},{"emoji":"💒","category":"places","description":"wedding","names":["wedding"],"tags":["marriage"]},{"emoji":"⛪️","category":"places","description":"church","names":["church"],"tags":[]},{"emoji":"🗾","category":"places","description":"map of Japan","names":["japan"],"tags":[]},{"emoji":"🎑","category":"places","description":"moon viewing ceremony","names":["rice_scene"],"tags":[]},{"emoji":"🌅","category":"places","description":"sunrise","names":["sunrise"],"tags":[]},{"emoji":"🌄","category":"places","description":"sunrise over mountains","names":["sunrise_over_mountains"],"tags":[]},{"emoji":"🌠","category":"places","description":"shooting star","names":["stars"],"tags":[]},{"emoji":"🎇","category":"places","description":"sparkler","names":["sparkler"],"tags":[]},{"emoji":"🎆","category":"places","description":"fireworks","names":["fireworks"],"tags":["festival","celebration"]},{"emoji":"🌇","category":"places","description":"sunset","names":["city_sunrise"],"tags":[]},{"emoji":"🌆","category":"places","description":"cityscape at dusk","names":["city_sunset"],"tags":[]},{"emoji":"🌃","category":"places","description":"night with stars","names":["night_with_stars"],"tags":[]},{"emoji":"🌌","category":"places","description":"milky way","names":["milky_way"],"tags":[]},{"emoji":"🌉","category":"places","description":"bridge at night","names":["bridge_at_night"],"tags":[]},{"emoji":"🌁","category":"places","description":"foggy","names":["foggy"],"tags":["karl"]},{"emoji":"⌚️","category":"objects","description":"watch","names":["watch"],"tags":["time"]},{"emoji":"📱","category":"objects","description":"mobile phone","names":["iphone"],"tags":["smartphone","mobile"]},{"emoji":"📲","category":"objects","description":"mobile phone with arrow","names":["calling"],"tags":["call","incoming"]},{"emoji":"💻","category":"objects","description":"laptop computer","names":["computer"],"tags":["desktop","screen"]},{"emoji":"💽","category":"objects","description":"computer disk","names":["minidisc"],"tags":[]},{"emoji":"💾","category":"objects","description":"floppy disk","names":["floppy_disk"],"tags":["save"]},{"emoji":"💿","category":"objects","description":"optical disk","names":["cd"],"tags":[]},{"emoji":"📀","category":"objects","description":"dvd","names":["dvd"],"tags":[]},{"emoji":"📼","category":"objects","description":"videocassette","names":["vhs"],"tags":[]},{"emoji":"📷","category":"objects","description":"camera","names":["camera"],"tags":["photo"]},{"emoji":"📹","category":"objects","description":"video camera","names":["video_camera"],"tags":[]},{"emoji":"🎥","category":"objects","description":"movie camera","names":["movie_camera"],"tags":["film","video"]},{"emoji":"📞","category":"objects","description":"telephone receiver","names":["telephone_receiver"],"tags":["phone","call"]},{"emoji":"☎️","category":"objects","description":"telephone","names":["phone","telephone"],"tags":[]},{"emoji":"📟","category":"objects","description":"pager","names":["pager"],"tags":[]},{"emoji":"📠","category":"objects","description":"fax machine","names":["fax"],"tags":[]},{"emoji":"📺","category":"objects","description":"television","names":["tv"],"tags":[]},{"emoji":"📻","category":"objects","description":"radio","names":["radio"],"tags":["podcast"]},{"emoji":"⏰","category":"objects","description":"alarm clock","names":["alarm_clock"],"tags":["morning"]},{"emoji":"⌛️","category":"objects","description":"hourglass","names":["hourglass"],"tags":["time"]},{"emoji":"⏳","category":"objects","description":"hourglass with flowing sand","names":["hourglass_flowing_sand"],"tags":["time"]},{"emoji":"📡","category":"objects","description":"satellite antenna","names":["satellite"],"tags":["signal"]},{"emoji":"🔋","category":"objects","description":"battery","names":["battery"],"tags":["power"]},{"emoji":"🔌","category":"objects","description":"electric plug","names":["electric_plug"],"tags":[]},{"emoji":"💡","category":"objects","description":"light bulb","names":["bulb"],"tags":["idea","light"]},{"emoji":"🔦","category":"objects","description":"flashlight","names":["flashlight"],"tags":[]},{"emoji":"💸","category":"objects","description":"money with wings","names":["money_with_wings"],"tags":["dollar"]},{"emoji":"💵","category":"objects","description":"dollar banknote","names":["dollar"],"tags":["money"]},{"emoji":"💴","category":"objects","description":"yen banknote","names":["yen"],"tags":[]},{"emoji":"💶","category":"objects","description":"euro banknote","names":["euro"],"tags":[]},{"emoji":"💷","category":"objects","description":"pound banknote","names":["pound"],"tags":[]},{"emoji":"💰","category":"objects","description":"money bag","names":["moneybag"],"tags":["dollar","cream"]},{"emoji":"💳","category":"objects","description":"credit card","names":["credit_card"],"tags":["subscription"]},{"emoji":"💎","category":"objects","description":"gem stone","names":["gem"],"tags":["diamond"]},{"emoji":"⚖️","category":"objects","description":"balance scale","names":["balance_scale"],"tags":[]},{"emoji":"🔧","category":"objects","description":"wrench","names":["wrench"],"tags":["tool"]},{"emoji":"🔨","category":"objects","description":"hammer","names":["hammer"],"tags":["tool"]},{"emoji":"🔩","category":"objects","description":"nut and bolt","names":["nut_and_bolt"],"tags":[]},{"emoji":"⚙️","category":"objects","description":"gear","names":["gear"],"tags":[]},{"emoji":"⛓","category":"objects","description":"chains","names":["chains"],"tags":[]},{"emoji":"🔫","category":"objects","description":"pistol","names":["gun"],"tags":["shoot","weapon"]},{"emoji":"💣","category":"objects","description":"bomb","names":["bomb"],"tags":["boom"]},{"emoji":"🔪","category":"objects","description":"kitchen knife","names":["hocho","knife"],"tags":["cut","chop"]},{"emoji":"⚔️","category":"objects","description":"crossed swords","names":["crossed_swords"],"tags":[]},{"emoji":"🚬","category":"objects","description":"cigarette","names":["smoking"],"tags":["cigarette"]},{"emoji":"⚰️","category":"objects","description":"coffin","names":["coffin"],"tags":["funeral"]},{"emoji":"⚱️","category":"objects","description":"funeral urn","names":["funeral_urn"],"tags":[]},{"emoji":"🔮","category":"objects","description":"crystal ball","names":["crystal_ball"],"tags":["fortune"]},{"emoji":"💈","category":"objects","description":"barber pole","names":["barber"],"tags":[]},{"emoji":"⚗️","category":"objects","description":"alembic","names":["alembic"],"tags":[]},{"emoji":"🔭","category":"objects","description":"telescope","names":["telescope"],"tags":[]},{"emoji":"🔬","category":"objects","description":"microscope","names":["microscope"],"tags":["science","laboratory","investigate"]},{"emoji":"💊","category":"objects","description":"pill","names":["pill"],"tags":["health","medicine"]},{"emoji":"💉","category":"objects","description":"syringe","names":["syringe"],"tags":["health","hospital","needle"]},{"emoji":"🚽","category":"objects","description":"toilet","names":["toilet"],"tags":["wc"]},{"emoji":"🚰","category":"objects","description":"potable water","names":["potable_water"],"tags":[]},{"emoji":"🚿","category":"objects","description":"shower","names":["shower"],"tags":["bath"]},{"emoji":"🛁","category":"objects","description":"bathtub","names":["bathtub"],"tags":[]},{"emoji":"🛀","category":"objects","description":"person taking bath","names":["bath"],"tags":["shower"]},{"emoji":"🔑","category":"objects","description":"key","names":["key"],"tags":["lock","password"]},{"emoji":"🚪","category":"objects","description":"door","names":["door"],"tags":[]},{"emoji":"🎁","category":"objects","description":"wrapped gift","names":["gift"],"tags":["present","birthday","christmas"]},{"emoji":"🎈","category":"objects","description":"balloon","names":["balloon"],"tags":["party","birthday"]},{"emoji":"🎏","category":"objects","description":"carp streamer","names":["flags"],"tags":[]},{"emoji":"🎀","category":"objects","description":"ribbon","names":["ribbon"],"tags":[]},{"emoji":"🎊","category":"objects","description":"confetti ball","names":["confetti_ball"],"tags":[]},{"emoji":"🎉","category":"objects","description":"party popper","names":["tada"],"tags":["hooray","party"]},{"emoji":"🎎","category":"objects","description":"Japanese dolls","names":["dolls"],"tags":[]},{"emoji":"🏮","category":"objects","description":"red paper lantern","names":["izakaya_lantern","lantern"],"tags":[]},{"emoji":"✉️","category":"objects","description":"envelope","names":["email","envelope"],"tags":["letter"]},{"emoji":"📩","category":"objects","description":"envelope with arrow","names":["envelope_with_arrow"],"tags":[]},{"emoji":"📨","category":"objects","description":"incoming envelope","names":["incoming_envelope"],"tags":[]},{"emoji":"📧","category":"objects","description":"e-mail","names":["e-mail"],"tags":[]},{"emoji":"💌","category":"objects","description":"love letter","names":["love_letter"],"tags":["email","envelope"]},{"emoji":"📥","category":"objects","description":"inbox tray","names":["inbox_tray"],"tags":[]},{"emoji":"📤","category":"objects","description":"outbox tray","names":["outbox_tray"],"tags":[]},{"emoji":"📦","category":"objects","description":"package","names":["package"],"tags":["shipping"]},{"emoji":"📪","category":"objects","description":"closed mailbox with lowered flag","names":["mailbox_closed"],"tags":[]},{"emoji":"📫","category":"objects","description":"closed mailbox with raised flag","names":["mailbox"],"tags":[]},{"emoji":"📬","category":"objects","description":"open mailbox with raised flag","names":["mailbox_with_mail"],"tags":[]},{"emoji":"📭","category":"objects","description":"open mailbox with lowered flag","names":["mailbox_with_no_mail"],"tags":[]},{"emoji":"📮","category":"objects","description":"postbox","names":["postbox"],"tags":[]},{"emoji":"📯","category":"objects","description":"postal horn","names":["postal_horn"],"tags":[]},{"emoji":"📜","category":"objects","description":"scroll","names":["scroll"],"tags":["document"]},{"emoji":"📃","category":"objects","description":"page with curl","names":["page_with_curl"],"tags":[]},{"emoji":"📄","category":"objects","description":"page facing up","names":["page_facing_up"],"tags":["document"]},{"emoji":"📑","category":"objects","description":"bookmark tabs","names":["bookmark_tabs"],"tags":[]},{"emoji":"📊","category":"objects","description":"bar chart","names":["bar_chart"],"tags":["stats","metrics"]},{"emoji":"📈","category":"objects","description":"chart increasing","names":["chart_with_upwards_trend"],"tags":["graph","metrics"]},{"emoji":"📉","category":"objects","description":"chart decreasing","names":["chart_with_downwards_trend"],"tags":["graph","metrics"]},{"emoji":"📆","category":"objects","description":"tear-off calendar","names":["calendar"],"tags":["schedule"]},{"emoji":"📅","category":"objects","description":"calendar","names":["date"],"tags":["calendar","schedule"]},{"emoji":"📇","category":"objects","description":"card index","names":["card_index"],"tags":[]},{"emoji":"📋","category":"objects","description":"clipboard","names":["clipboard"],"tags":[]},{"emoji":"📁","category":"objects","description":"file folder","names":["file_folder"],"tags":["directory"]},{"emoji":"📂","category":"objects","description":"open file folder","names":["open_file_folder"],"tags":[]},{"emoji":"📰","category":"objects","description":"newspaper","names":["newspaper"],"tags":["press"]},{"emoji":"📓","category":"objects","description":"notebook","names":["notebook"],"tags":[]},{"emoji":"📔","category":"objects","description":"notebook with decorative cover","names":["notebook_with_decorative_cover"],"tags":[]},{"emoji":"📒","category":"objects","description":"ledger","names":["ledger"],"tags":[]},{"emoji":"📕","category":"objects","description":"closed book","names":["closed_book"],"tags":[]},{"emoji":"📗","category":"objects","description":"green book","names":["green_book"],"tags":[]},{"emoji":"📘","category":"objects","description":"blue book","names":["blue_book"],"tags":[]},{"emoji":"📙","category":"objects","description":"orange book","names":["orange_book"],"tags":[]},{"emoji":"📚","category":"objects","description":"books","names":["books"],"tags":["library"]},{"emoji":"📖","category":"objects","description":"open book","names":["book","open_book"],"tags":[]},{"emoji":"🔖","category":"objects","description":"bookmark","names":["bookmark"],"tags":[]},{"emoji":"🔗","category":"objects","description":"link","names":["link"],"tags":[]},{"emoji":"📎","category":"objects","description":"paperclip","names":["paperclip"],"tags":[]},{"emoji":"📐","category":"objects","description":"triangular ruler","names":["triangular_ruler"],"tags":[]},{"emoji":"📏","category":"objects","description":"straight ruler","names":["straight_ruler"],"tags":[]},{"emoji":"📌","category":"objects","description":"pushpin","names":["pushpin"],"tags":["location"]},{"emoji":"📍","category":"objects","description":"round pushpin","names":["round_pushpin"],"tags":["location"]},{"emoji":"✂️","category":"objects","description":"scissors","names":["scissors"],"tags":["cut"]},{"emoji":"✒️","category":"objects","description":"black nib","names":["black_nib"],"tags":[]},{"emoji":"📝","category":"objects","description":"memo","names":["memo","pencil"],"tags":["document","note"]},{"emoji":"✏️","category":"objects","description":"pencil","names":["pencil2"],"tags":[]},{"emoji":"🔍","category":"objects","description":"left-pointing magnifying glass","names":["mag"],"tags":["search","zoom"]},{"emoji":"🔎","category":"objects","description":"right-pointing magnifying glass","names":["mag_right"],"tags":[]},{"emoji":"🔏","category":"objects","description":"locked with pen","names":["lock_with_ink_pen"],"tags":[]},{"emoji":"🔐","category":"objects","description":"locked with key","names":["closed_lock_with_key"],"tags":["security"]},{"emoji":"🔒","category":"objects","description":"locked","names":["lock"],"tags":["security","private"]},{"emoji":"🔓","category":"objects","description":"unlocked","names":["unlock"],"tags":["security"]},{"emoji":"❤️","category":"symbols","description":"red heart","names":["heart"],"tags":["love"]},{"emoji":"💛","category":"symbols","description":"yellow heart","names":["yellow_heart"],"tags":[]},{"emoji":"💚","category":"symbols","description":"green heart","names":["green_heart"],"tags":[]},{"emoji":"💙","category":"symbols","description":"blue heart","names":["blue_heart"],"tags":[]},{"emoji":"💜","category":"symbols","description":"purple heart","names":["purple_heart"],"tags":[]},{"emoji":"💔","category":"symbols","description":"broken heart","names":["broken_heart"],"tags":[]},{"emoji":"❣️","category":"symbols","description":"heavy heart exclamation","names":["heavy_heart_exclamation"],"tags":[]},{"emoji":"💕","category":"symbols","description":"two hearts","names":["two_hearts"],"tags":[]},{"emoji":"💞","category":"symbols","description":"revolving hearts","names":["revolving_hearts"],"tags":[]},{"emoji":"💓","category":"symbols","description":"beating heart","names":["heartbeat"],"tags":[]},{"emoji":"💗","category":"symbols","description":"growing heart","names":["heartpulse"],"tags":[]},{"emoji":"💖","category":"symbols","description":"sparkling heart","names":["sparkling_heart"],"tags":[]},{"emoji":"💘","category":"symbols","description":"heart with arrow","names":["cupid"],"tags":["love","heart"]},{"emoji":"💝","category":"symbols","description":"heart with ribbon","names":["gift_heart"],"tags":["chocolates"]},{"emoji":"💟","category":"symbols","description":"heart decoration","names":["heart_decoration"],"tags":[]},{"emoji":"☮️","category":"symbols","description":"peace symbol","names":["peace_symbol"],"tags":[]},{"emoji":"✝️","category":"symbols","description":"latin cross","names":["latin_cross"],"tags":[]},{"emoji":"☪️","category":"symbols","description":"star and crescent","names":["star_and_crescent"],"tags":[]},{"emoji":"☸️","category":"symbols","description":"wheel of dharma","names":["wheel_of_dharma"],"tags":[]},{"emoji":"✡️","category":"symbols","description":"star of David","names":["star_of_david"],"tags":[]},{"emoji":"🔯","category":"symbols","description":"dotted six-pointed star","names":["six_pointed_star"],"tags":[]},{"emoji":"☯️","category":"symbols","description":"yin yang","names":["yin_yang"],"tags":[]},{"emoji":"☦️","category":"symbols","description":"orthodox cross","names":["orthodox_cross"],"tags":[]},{"emoji":"⛎","category":"symbols","description":"Ophiuchus","names":["ophiuchus"],"tags":[]},{"emoji":"♈️","category":"symbols","description":"Aries","names":["aries"],"tags":[]},{"emoji":"♉️","category":"symbols","description":"Taurus","names":["taurus"],"tags":[]},{"emoji":"♊️","category":"symbols","description":"Gemini","names":["gemini"],"tags":[]},{"emoji":"♋️","category":"symbols","description":"Cancer","names":["cancer"],"tags":[]},{"emoji":"♌️","category":"symbols","description":"Leo","names":["leo"],"tags":[]},{"emoji":"♍️","category":"symbols","description":"Virgo","names":["virgo"],"tags":[]},{"emoji":"♎️","category":"symbols","description":"Libra","names":["libra"],"tags":[]},{"emoji":"♏️","category":"symbols","description":"Scorpius","names":["scorpius"],"tags":[]},{"emoji":"♐️","category":"symbols","description":"Sagittarius","names":["sagittarius"],"tags":[]},{"emoji":"♑️","category":"symbols","description":"Capricorn","names":["capricorn"],"tags":[]},{"emoji":"♒️","category":"symbols","description":"Aquarius","names":["aquarius"],"tags":[]},{"emoji":"♓️","category":"symbols","description":"Pisces","names":["pisces"],"tags":[]},{"emoji":"🆔","category":"symbols","description":"ID button","names":["id"],"tags":[]},{"emoji":"⚛️","category":"symbols","description":"atom symbol","names":["atom_symbol"],"tags":[]},{"emoji":"🉑","category":"symbols","description":"Japanese “acceptable” button","names":["accept"],"tags":[]},{"emoji":"☢️","category":"symbols","description":"radioactive","names":["radioactive"],"tags":[]},{"emoji":"☣️","category":"symbols","description":"biohazard","names":["biohazard"],"tags":[]},{"emoji":"📴","category":"symbols","description":"mobile phone off","names":["mobile_phone_off"],"tags":["mute","off"]},{"emoji":"📳","category":"symbols","description":"vibration mode","names":["vibration_mode"],"tags":[]},{"emoji":"🈶","category":"symbols","description":"Japanese “not free of charge” button","names":["u6709"],"tags":[]},{"emoji":"🈚️","category":"symbols","description":"Japanese “free of charge” button","names":["u7121"],"tags":[]},{"emoji":"🈸","category":"symbols","description":"Japanese “application” button","names":["u7533"],"tags":[]},{"emoji":"🈺","category":"symbols","description":"Japanese “open for business” button","names":["u55b6"],"tags":[]},{"emoji":"🈷️","category":"symbols","description":"Japanese “monthly amount” button","names":["u6708"],"tags":[]},{"emoji":"✴️","category":"symbols","description":"eight-pointed star","names":["eight_pointed_black_star"],"tags":[]},{"emoji":"🆚","category":"symbols","description":"VS button","names":["vs"],"tags":[]},{"emoji":"💮","category":"symbols","description":"white flower","names":["white_flower"],"tags":[]},{"emoji":"🉐","category":"symbols","description":"Japanese “bargain” button","names":["ideograph_advantage"],"tags":[]},{"emoji":"㊙️","category":"symbols","description":"Japanese “secret” button","names":["secret"],"tags":[]},{"emoji":"㊗️","category":"symbols","description":"Japanese “congratulations” button","names":["congratulations"],"tags":[]},{"emoji":"🈴","category":"symbols","description":"Japanese “passing grade” button","names":["u5408"],"tags":[]},{"emoji":"🈵","category":"symbols","description":"Japanese “no vacancy” button","names":["u6e80"],"tags":[]},{"emoji":"🈹","category":"symbols","description":"Japanese “discount” button","names":["u5272"],"tags":[]},{"emoji":"🈲","category":"symbols","description":"Japanese “prohibited” button","names":["u7981"],"tags":[]},{"emoji":"🅰️","category":"symbols","description":"A button (blood type)","names":["a"],"tags":[]},{"emoji":"🅱️","category":"symbols","description":"B button (blood type)","names":["b"],"tags":[]},{"emoji":"🆎","category":"symbols","description":"AB button (blood type)","names":["ab"],"tags":[]},{"emoji":"🆑","category":"symbols","description":"CL button","names":["cl"],"tags":[]},{"emoji":"🅾️","category":"symbols","description":"O button (blood type)","names":["o2"],"tags":[]},{"emoji":"🆘","category":"symbols","description":"SOS button","names":["sos"],"tags":["help","emergency"]},{"emoji":"❌","category":"symbols","description":"cross mark","names":["x"],"tags":[]},{"emoji":"⭕️","category":"symbols","description":"heavy large circle","names":["o"],"tags":[]},{"emoji":"⛔️","category":"symbols","description":"no entry","names":["no_entry"],"tags":["limit"]},{"emoji":"📛","category":"symbols","description":"name badge","names":["name_badge"],"tags":[]},{"emoji":"🚫","category":"symbols","description":"prohibited","names":["no_entry_sign"],"tags":["block","forbidden"]},{"emoji":"💯","category":"symbols","description":"hundred points","names":["100"],"tags":["score","perfect"]},{"emoji":"💢","category":"symbols","description":"anger symbol","names":["anger"],"tags":["angry"]},{"emoji":"♨️","category":"symbols","description":"hot springs","names":["hotsprings"],"tags":[]},{"emoji":"🚷","category":"symbols","description":"no pedestrians","names":["no_pedestrians"],"tags":[]},{"emoji":"🚯","category":"symbols","description":"no littering","names":["do_not_litter"],"tags":[]},{"emoji":"🚳","category":"symbols","description":"no bicycles","names":["no_bicycles"],"tags":[]},{"emoji":"🚱","category":"symbols","description":"non-potable water","names":["non-potable_water"],"tags":[]},{"emoji":"🔞","category":"symbols","description":"no one under eighteen","names":["underage"],"tags":[]},{"emoji":"📵","category":"symbols","description":"no mobile phones","names":["no_mobile_phones"],"tags":[]},{"emoji":"🚭","category":"symbols","description":"no smoking","names":["no_smoking"],"tags":[]},{"emoji":"❗️","category":"symbols","description":"exclamation mark","names":["exclamation","heavy_exclamation_mark"],"tags":["bang"]},{"emoji":"❕","category":"symbols","description":"white exclamation mark","names":["grey_exclamation"],"tags":[]},{"emoji":"❓","category":"symbols","description":"question mark","names":["question"],"tags":["confused"]},{"emoji":"❔","category":"symbols","description":"white question mark","names":["grey_question"],"tags":[]},{"emoji":"🔅","category":"symbols","description":"dim button","names":["low_brightness"],"tags":[]},{"emoji":"🔆","category":"symbols","description":"bright button","names":["high_brightness"],"tags":[]},{"emoji":"〽️","category":"symbols","description":"part alternation mark","names":["part_alternation_mark"],"tags":[]},{"emoji":"⚠️","category":"symbols","description":"warning","names":["warning"],"tags":["wip"]},{"emoji":"🚸","category":"symbols","description":"children crossing","names":["children_crossing"],"tags":[]},{"emoji":"🔱","category":"symbols","description":"trident emblem","names":["trident"],"tags":[]},{"emoji":"⚜️","category":"symbols","description":"fleur-de-lis","names":["fleur_de_lis"],"tags":[]},{"emoji":"🔰","category":"symbols","description":"Japanese symbol for beginner","names":["beginner"],"tags":[]},{"emoji":"♻️","category":"symbols","description":"recycling symbol","names":["recycle"],"tags":["environment","green"]},{"emoji":"✅","category":"symbols","description":"white heavy check mark","names":["white_check_mark"],"tags":[]},{"emoji":"🈯️","category":"symbols","description":"Japanese “reserved” button","names":["u6307"],"tags":[]},{"emoji":"💹","category":"symbols","description":"chart increasing with yen","names":["chart"],"tags":[]},{"emoji":"❇️","category":"symbols","description":"sparkle","names":["sparkle"],"tags":[]},{"emoji":"✳️","category":"symbols","description":"eight-spoked asterisk","names":["eight_spoked_asterisk"],"tags":[]},{"emoji":"❎","category":"symbols","description":"cross mark button","names":["negative_squared_cross_mark"],"tags":[]},{"emoji":"🌐","category":"symbols","description":"globe with meridians","names":["globe_with_meridians"],"tags":["world","global","international"]},{"emoji":"💠","category":"symbols","description":"diamond with a dot","names":["diamond_shape_with_a_dot_inside"],"tags":[]},{"emoji":"Ⓜ️","category":"symbols","description":"circled M","names":["m"],"tags":[]},{"emoji":"🌀","category":"symbols","description":"cyclone","names":["cyclone"],"tags":["swirl"]},{"emoji":"💤","category":"symbols","description":"zzz","names":["zzz"],"tags":["sleeping"]},{"emoji":"🏧","category":"symbols","description":"ATM sign","names":["atm"],"tags":[]},{"emoji":"🚾","category":"symbols","description":"water closet","names":["wc"],"tags":["toilet","restroom"]},{"emoji":"♿️","category":"symbols","description":"wheelchair symbol","names":["wheelchair"],"tags":["accessibility"]},{"emoji":"🅿️","category":"symbols","description":"P button","names":["parking"],"tags":[]},{"emoji":"🈳","category":"symbols","description":"Japanese “vacancy” button","names":["u7a7a"],"tags":[]},{"emoji":"🈂️","category":"symbols","description":"Japanese “service charge” button","names":["sa"],"tags":[]},{"emoji":"🛂","category":"symbols","description":"passport control","names":["passport_control"],"tags":[]},{"emoji":"🛃","category":"symbols","description":"customs","names":["customs"],"tags":[]},{"emoji":"🛄","category":"symbols","description":"baggage claim","names":["baggage_claim"],"tags":["airport"]},{"emoji":"🛅","category":"symbols","description":"left luggage","names":["left_luggage"],"tags":[]},{"emoji":"🚹","category":"symbols","description":"men’s room","names":["mens"],"tags":[]},{"emoji":"🚺","category":"symbols","description":"women’s room","names":["womens"],"tags":[]},{"emoji":"🚼","category":"symbols","description":"baby symbol","names":["baby_symbol"],"tags":[]},{"emoji":"🚻","category":"symbols","description":"restroom","names":["restroom"],"tags":["toilet"]},{"emoji":"🚮","category":"symbols","description":"litter in bin sign","names":["put_litter_in_its_place"],"tags":[]},{"emoji":"🎦","category":"symbols","description":"cinema","names":["cinema"],"tags":["film","movie"]},{"emoji":"📶","category":"symbols","description":"antenna bars","names":["signal_strength"],"tags":["wifi"]},{"emoji":"🈁","category":"symbols","description":"Japanese “here” button","names":["koko"],"tags":[]},{"emoji":"🔣","category":"symbols","description":"input symbols","names":["symbols"],"tags":[]},{"emoji":"ℹ️","category":"symbols","description":"information","names":["information_source"],"tags":[]},{"emoji":"🔤","category":"symbols","description":"input latin letters","names":["abc"],"tags":["alphabet"]},{"emoji":"🔡","category":"symbols","description":"input latin lowercase","names":["abcd"],"tags":[]},{"emoji":"🔠","category":"symbols","description":"input latin uppercase","names":["capital_abcd"],"tags":["letters"]},{"emoji":"🆖","category":"symbols","description":"NG button","names":["ng"],"tags":[]},{"emoji":"🆗","category":"symbols","description":"OK button","names":["ok"],"tags":["yes"]},{"emoji":"🆙","category":"symbols","description":"UP! button","names":["up"],"tags":[]},{"emoji":"🆒","category":"symbols","description":"COOL button","names":["cool"],"tags":[]},{"emoji":"🆕","category":"symbols","description":"NEW button","names":["new"],"tags":["fresh"]},{"emoji":"🆓","category":"symbols","description":"FREE button","names":["free"],"tags":[]},{"emoji":"🔟","category":"symbols","description":"keycap 10","names":["keycap_ten"],"tags":[]},{"emoji":"🔢","category":"symbols","description":"input numbers","names":["1234"],"tags":["numbers"]},{"emoji":"▶️","category":"symbols","description":"play button","names":["arrow_forward"],"tags":[]},{"emoji":"⏩","category":"symbols","description":"fast-forward button","names":["fast_forward"],"tags":[]},{"emoji":"⏪","category":"symbols","description":"fast reverse button","names":["rewind"],"tags":[]},{"emoji":"⏫","category":"symbols","description":"fast up button","names":["arrow_double_up"],"tags":[]},{"emoji":"⏬","category":"symbols","description":"fast down button","names":["arrow_double_down"],"tags":[]},{"emoji":"◀️","category":"symbols","description":"reverse button","names":["arrow_backward"],"tags":[]},{"emoji":"🔼","category":"symbols","description":"up button","names":["arrow_up_small"],"tags":[]},{"emoji":"🔽","category":"symbols","description":"down button","names":["arrow_down_small"],"tags":[]},{"emoji":"➡️","category":"symbols","description":"right arrow","names":["arrow_right"],"tags":[]},{"emoji":"⬅️","category":"symbols","description":"left arrow","names":["arrow_left"],"tags":[]},{"emoji":"⬆️","category":"symbols","description":"up arrow","names":["arrow_up"],"tags":[]},{"emoji":"⬇️","category":"symbols","description":"down arrow","names":["arrow_down"],"tags":[]},{"emoji":"↘️","category":"symbols","description":"down-right arrow","names":["arrow_lower_right"],"tags":[]},{"emoji":"↖️","category":"symbols","description":"up-left arrow","names":["arrow_upper_left"],"tags":[]},{"emoji":"↪️","category":"symbols","description":"left arrow curving right","names":["arrow_right_hook"],"tags":[]},{"emoji":"↩️","category":"symbols","description":"right arrow curving left","names":["leftwards_arrow_with_hook"],"tags":["return"]},{"emoji":"⤴️","category":"symbols","description":"right arrow curving up","names":["arrow_heading_up"],"tags":[]},{"emoji":"⤵️","category":"symbols","description":"right arrow curving down","names":["arrow_heading_down"],"tags":[]},{"emoji":"🔀","category":"symbols","description":"shuffle tracks button","names":["twisted_rightwards_arrows"],"tags":["shuffle"]},{"emoji":"🔁","category":"symbols","description":"repeat button","names":["repeat"],"tags":["loop"]},{"emoji":"🔂","category":"symbols","description":"repeat single button","names":["repeat_one"],"tags":[]},{"emoji":"🔄","category":"symbols","description":"anticlockwise arrows button","names":["arrows_counterclockwise"],"tags":["sync"]},{"emoji":"🔃","category":"symbols","description":"clockwise vertical arrows","names":["arrows_clockwise"],"tags":[]},{"emoji":"🎵","category":"symbols","description":"musical note","names":["musical_note"],"tags":[]},{"emoji":"🎶","category":"symbols","description":"musical notes","names":["notes"],"tags":["music"]},{"emoji":"➕","category":"symbols","description":"heavy plus sign","names":["heavy_plus_sign"],"tags":[]},{"emoji":"➖","category":"symbols","description":"heavy minus sign","names":["heavy_minus_sign"],"tags":[]},{"emoji":"➗","category":"symbols","description":"heavy division sign","names":["heavy_division_sign"],"tags":[]},{"emoji":"✖️","category":"symbols","description":"heavy multiplication x","names":["heavy_multiplication_x"],"tags":[]},{"emoji":"💲","category":"symbols","description":"heavy dollar sign","names":["heavy_dollar_sign"],"tags":[]},{"emoji":"💱","category":"symbols","description":"currency exchange","names":["currency_exchange"],"tags":[]},{"emoji":"〰️","category":"symbols","description":"wavy dash","names":["wavy_dash"],"tags":[]},{"emoji":"➰","category":"symbols","description":"curly loop","names":["curly_loop"],"tags":[]},{"emoji":"➿","category":"symbols","description":"double curly loop","names":["loop"],"tags":[]},{"emoji":"🔚","category":"symbols","description":"END arrow","names":["end"],"tags":[]},{"emoji":"🔙","category":"symbols","description":"BACK arrow","names":["back"],"tags":[]},{"emoji":"🔛","category":"symbols","description":"ON! arrow","names":["on"],"tags":[]},{"emoji":"🔝","category":"symbols","description":"TOP arrow","names":["top"],"tags":[]},{"emoji":"🔜","category":"symbols","description":"SOON arrow","names":["soon"],"tags":[]},{"emoji":"✔️","category":"symbols","description":"heavy check mark","names":["heavy_check_mark"],"tags":[]},{"emoji":"☑️","category":"symbols","description":"ballot box with check","names":["ballot_box_with_check"],"tags":[]},{"emoji":"🔘","category":"symbols","description":"radio button","names":["radio_button"],"tags":[]},{"emoji":"⚪️","category":"symbols","description":"white circle","names":["white_circle"],"tags":[]},{"emoji":"⚫️","category":"symbols","description":"black circle","names":["black_circle"],"tags":[]},{"emoji":"🔴","category":"symbols","description":"red circle","names":["red_circle"],"tags":[]},{"emoji":"🔵","category":"symbols","description":"blue circle","names":["large_blue_circle"],"tags":[]},{"emoji":"🔺","category":"symbols","description":"red triangle pointed up","names":["small_red_triangle"],"tags":[]},{"emoji":"🔻","category":"symbols","description":"red triangle pointed down","names":["small_red_triangle_down"],"tags":[]},{"emoji":"🔸","category":"symbols","description":"small orange diamond","names":["small_orange_diamond"],"tags":[]},{"emoji":"🔹","category":"symbols","description":"small blue diamond","names":["small_blue_diamond"],"tags":[]},{"emoji":"🔶","category":"symbols","description":"large orange diamond","names":["large_orange_diamond"],"tags":[]},{"emoji":"🔷","category":"symbols","description":"large blue diamond","names":["large_blue_diamond"],"tags":[]},{"emoji":"🔳","category":"symbols","description":"white square button","names":["white_square_button"],"tags":[]},{"emoji":"🔲","category":"symbols","description":"black square button","names":["black_square_button"],"tags":[]},{"emoji":"▪️","category":"symbols","description":"black small square","names":["black_small_square"],"tags":[]},{"emoji":"▫️","category":"symbols","description":"white small square","names":["white_small_square"],"tags":[]},{"emoji":"◾️","category":"symbols","description":"black medium-small square","names":["black_medium_small_square"],"tags":[]},{"emoji":"◽️","category":"symbols","description":"white medium-small square","names":["white_medium_small_square"],"tags":[]},{"emoji":"◼️","category":"symbols","description":"black medium square","names":["black_medium_square"],"tags":[]},{"emoji":"◻️","category":"symbols","description":"white medium square","names":["white_medium_square"],"tags":[]},{"emoji":"⬛️","category":"symbols","description":"black large square","names":["black_large_square"],"tags":[]},{"emoji":"⬜️","category":"symbols","description":"white large square","names":["white_large_square"],"tags":[]},{"emoji":"🔈","category":"symbols","description":"speaker low volume","names":["speaker"],"tags":[]},{"emoji":"🔇","category":"symbols","description":"muted speaker","names":["mute"],"tags":["sound","volume"]},{"emoji":"🔉","category":"symbols","description":"speaker medium volume","names":["sound"],"tags":["volume"]},{"emoji":"🔊","category":"symbols","description":"speaker high volume","names":["loud_sound"],"tags":["volume"]},{"emoji":"🔔","category":"symbols","description":"bell","names":["bell"],"tags":["sound","notification"]},{"emoji":"🔕","category":"symbols","description":"bell with slash","names":["no_bell"],"tags":["volume","off"]},{"emoji":"📣","category":"symbols","description":"megaphone","names":["mega"],"tags":[]},{"emoji":"📢","category":"symbols","description":"loudspeaker","names":["loudspeaker"],"tags":["announcement"]},{"emoji":"💬","category":"symbols","description":"speech balloon","names":["speech_balloon"],"tags":["comment"]},{"emoji":"💭","category":"symbols","description":"thought balloon","names":["thought_balloon"],"tags":["thinking"]},{"emoji":"🗯","category":"symbols","description":"right anger bubble","names":["right_anger_bubble"],"tags":[]},{"emoji":"♠️","category":"symbols","description":"spade suit","names":["spades"],"tags":[]},{"emoji":"♣️","category":"symbols","description":"club suit","names":["clubs"],"tags":[]},{"emoji":"♥️","category":"symbols","description":"heart suit","names":["hearts"],"tags":[]},{"emoji":"♦️","category":"symbols","description":"diamond suit","names":["diamonds"],"tags":[]},{"emoji":"🃏","category":"symbols","description":"joker","names":["black_joker"],"tags":[]},{"emoji":"🎴","category":"symbols","description":"flower playing cards","names":["flower_playing_cards"],"tags":[]},{"emoji":"🀄️","category":"symbols","description":"mahjong red dragon","names":["mahjong"],"tags":[]},{"emoji":"🕐","category":"symbols","description":"one o’clock","names":["clock1"],"tags":[]},{"emoji":"🕑","category":"symbols","description":"two o’clock","names":["clock2"],"tags":[]},{"emoji":"🕒","category":"symbols","description":"three o’clock","names":["clock3"],"tags":[]},{"emoji":"🕓","category":"symbols","description":"four o’clock","names":["clock4"],"tags":[]},{"emoji":"🕔","category":"symbols","description":"five o’clock","names":["clock5"],"tags":[]},{"emoji":"🕕","category":"symbols","description":"six o’clock","names":["clock6"],"tags":[]},{"emoji":"🕖","category":"symbols","description":"seven o’clock","names":["clock7"],"tags":[]},{"emoji":"🕗","category":"symbols","description":"eight o’clock","names":["clock8"],"tags":[]},{"emoji":"🕘","category":"symbols","description":"nine o’clock","names":["clock9"],"tags":[]},{"emoji":"🕙","category":"symbols","description":"ten o’clock","names":["clock10"],"tags":[]},{"emoji":"🕚","category":"symbols","description":"eleven o’clock","names":["clock11"],"tags":[]},{"emoji":"🕛","category":"symbols","description":"twelve o’clock","names":["clock12"],"tags":[]},{"emoji":"🕜","category":"symbols","description":"one-thirty","names":["clock130"],"tags":[]},{"emoji":"🕝","category":"symbols","description":"two-thirty","names":["clock230"],"tags":[]},{"emoji":"🕞","category":"symbols","description":"three-thirty","names":["clock330"],"tags":[]},{"emoji":"🕟","category":"symbols","description":"four-thirty","names":["clock430"],"tags":[]},{"emoji":"🕠","category":"symbols","description":"five-thirty","names":["clock530"],"tags":[]},{"emoji":"🕡","category":"symbols","description":"six-thirty","names":["clock630"],"tags":[]},{"emoji":"🕢","category":"symbols","description":"seven-thirty","names":["clock730"],"tags":[]},{"emoji":"🕣","category":"symbols","description":"eight-thirty","names":["clock830"],"tags":[]},{"emoji":"🕤","category":"symbols","description":"nine-thirty","names":["clock930"],"tags":[]},{"emoji":"🕥","category":"symbols","description":"ten-thirty","names":["clock1030"],"tags":[]},{"emoji":"🕦","category":"symbols","description":"eleven-thirty","names":["clock1130"],"tags":[]},{"emoji":"🕧","category":"symbols","description":"twelve-thirty","names":["clock1230"],"tags":[]}]'),ca="purechat_emojis",la=oa.extend({addSelected:function(t){var e=this.findWhere({emoji:t.get("emoji")});e?this.moveModel(e):this.insertModel(t)},moveModel:function(t){for(var e=(t.get("clicked")||0)+1,i=this.indexOf(t)-1;i>-1&&!(this.at(i).get("clicked")>e);)this.remove(t),this.add(t,{at:i}),i-=1;t.save({clicked:e})},insertModel:function(t){for(var e=t.clone(),i=0,r=this.length,n=(t.get("clicked")||0)+1;i<r&&!(n>=this.at(i).get("clicked"));i+=1);e.set({clicked:n}),this.add(e,{at:i}),e.save(),this.last().destroy()},sync:function(t,e,i){var r,n=new Array(10).map((function(){return null})),a=p().Deferred();try{var o=(window.localStorage.getItem(ca)||"👍,👎,🙂,😄,😂,🎉,❤️,👏,✅,💥").split(",");switch(t){case"read":!function(){for(var t=0,e=0,i=sa.length;e<i;e+=1){var r=sa[e],a=o.indexOf(r.emoji);if(a>-1&&(n[a]=r,t+=1),10===t)break}}();break;case"delete":o.splice(o.indexOf(e.get("emoji")),1),window.localStorage.setItem(ca,o.join(","));break;case"update":window.localStorage.setItem(ca,this.map((function(t){return t.get("emoji")})).join(","))}}catch(t){r=t.message}return n?(i.success&&i.success.call(e,n,i),a.resolve(n)):(r=r||"Record Not Found",i.error&&i.error.call(e,r,i),a.reject(r)),i.complete&&i.complete.call(e,n),a.promise()},save:function(){return this.sync("create",this,{})}}),pa=la,ua=i(8704),ha=i.n(ua),da=_.LayoutView.extend({template:ha(),className:"purechat-emoji-picker purechat-card purechat-card-flex purechat-display-none",ui:{searchInput:"input"},events:{"keyup @ui.searchInput":"search",click:function(t){t.preventDefault(),t.stopPropagation()}},regions:{curatedList:".purechat-curated-emojis",fullList:".purechat-all-emojis"},childEvents:{emojiSelected:function(t,e){this.triggerMethod("emojiSelected",e),this.mostUsedCollection.addSelected(e)}},initialize:function(){this.mostUsedCollection=new pa,this.fullListCollection=new oa(sa),this.mostUsedCollection.fetch()},onBeforeShow:function(){this.showChildView("curatedList",new ia({collection:this.mostUsedCollection})),this.showChildView("fullList",new ia({collection:this.fullListCollection}))},open:function(){this.$el.purechatDisplay("flex"),this.ui.searchInput.focus(),this.registerEmojiCloseClickHandler()},close:function(){this.$el.purechatDisplay("none"),this.ui.searchInput.val(""),this.search(),p()(window).off(".purechat-emojis")},search:function(){var t=this.ui.searchInput.val();this.fullListCollection.each((function(e){if(""===t)e.set("filtered",!1);else{var i=e.get("names").some((function(e){return e.indexOf(t)>-1})),r=e.get("tags").some((function(e){return e.indexOf(t)>-1}));e.set("filtered",!(i||r))}}))},registerEmojiCloseClickHandler:function(){var t=this;this.getOption("registerClose")&&p()(window).on("click.purechat-emojis",(function(){t.close()}))}}),ga=da,ma=i(2897),fa=i.n(ma);function ba(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function ya(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ba(Object(i),!0).forEach((function(e){va(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ba(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function va(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var wa=_.LayoutView.extend({template:fa(),className:"purechat-card purechat-card-flex purechat-card-bordered",regions:{filteredList:".purechat-filtered-emojis"},childEvents:{emojiSelected:"emojiSelected",emojiHovered:"emojiHovered"},ui:{footer:".purechat-card-footer"},onRender:function(){this.updateList(this.getOption("filter"))},emojiHovered:function(t,e){this.collection.each((function(t){return t.set("selected",!1)})),e.set("selected",!0)},emojiSelected:function(t,e){this.triggerMethod("emojiSelected",e)},selectNext:function(){this.collection.selectNext()},selectPrev:function(){this.collection.selectPrev()},selectUp:function(){this.collection.selectPrev(10)},selectDown:function(){this.collection.selectNext(10)},getSelected:function(){return this.collection.findWhere({selected:!0})},updateList:function(t){this.collection&&this.stopListening(this.collection),this.collection=this.createFilteredCollection(t),this.listenTo(this.collection,"change",this.updateFooterText.bind(this)),this.collection.length>0&&this.collection.first().set("selected",!0);var e=new ia({collection:this.collection});this.showChildView("filteredList",e)},createFilteredCollection:function(t){var e=n().take(sa.filter((function(e){return e.names.some((function(e){return e.indexOf(t)>-1}))||e.tags.some((function(e){return e.indexOf(t)>-1}))})).map((function(t){return ya(ya({},t),{},{selected:!1})})),30);return new oa(e)},updateFooterText:function(){var t=this.collection.findWhere({selected:!0});if(t){var e="".concat(t.get("emoji"),"&nbsp;:").concat(t.get("names")[0],":");this.ui.footer.html(e)}},isEmpty:function(){return 0===this.collection.length}}),_a=wa,Ca=w.Model.extend({url:function(){if(!this.get("link"))throw new Error("LinkModel.link is required");return"".concat(Z().apiUrl,"/api/unfurl?url=").concat(encodeURIComponent(this.get("link")))}}),xa=i(7257),ka=i.n(xa),ja=2*Math.pow(10,6),Ia=_.ItemView.extend({template:ka(),className:function(){var t=this.model.get("myMessage")?"purechat-message-right":"purechat-message-left";return this.isOtherOperatorMessage()&&(t+=" purechat-message-break"),this.extendedClassName&&(t+=" ".concat(this.extendedClassName)),this.hasMultipleOperators()&&(t+=" purechat-message-multiple-operators"),"purechat-message-wrapper purechat-clearfix ".concat(t," purechat-animate purechat-animate-somewhat-fast purechat-animation-fadeInDownSmall")},ui:{timestamp:".purechat-time"},events:{"click a.purechat-message-link":function(t){t.preventDefault();var e=t.target.getAttribute("href");return window.open(e),!1}},templateHelpers:function(){var t=this,e=this.model.get("type");return{prettyDate:this.prettyDate.bind(this),enhance:function(t){var e=V.formatWhitespace(t);return V.linkify(e)},iconRootUrl:function(){return V.iconRootUrl(t.getOption("settings").get("isDemo"))},svgHrefAttr:function(){return V.svgHrefAttr()},isNote:function(){return e===Fi.MessageTypes.Join||e===Fi.MessageTypes.Leave||e===Fi.MessageTypes.Note||e===Fi.MessageTypes.Close},isSeparator:function(){return e===Fi.MessageTypes.Separator},isMessage:function(){return e===Fi.MessageTypes.Message},hasMultipleOperators:this.hasMultipleOperators.bind(this)}},onRender:function(){this.$el.attr({"data-userid":this.model.get("userId")});var t=this.model.getTypeString();this.$el.addClass(this.model.get("type")!==Fi.MessageTypes.Message?"purechat-".concat(t):""),this.$el.addClass(this.model.get("isClosedChat")?"closed":"")},isOtherOperatorMessage:function(){var t=this,e=this.model.get("type");if(e===Fi.MessageTypes.Separator||e===Fi.MessageTypes.Note||e===Fi.MessageTypes.Join||e===Fi.MessageTypes.Close||e===Fi.MessageTypes.Leave)return!0;var i=this.getOption("messages");if(i.length<2)return!0;var r=i[n().findIndex(i,(function(e){return e.id&&e.id===t.model.get("id")||e.timeAdded===t.model.get("timeAdded")}))-1];return!r||r.type===Fi.MessageTypes.Separator||r.type===Fi.MessageTypes.Note||r.type===Fi.MessageTypes.Join||r.type===Fi.MessageTypes.Close||r.type===Fi.MessageTypes.Leave||!this.model.get("myMessage")&&this.model.get("userId")!==r.userId},updateTimestamp:function(){this.model.get("time")&&this.ui.timestamp&&!n().isString(this.ui.timestamp)&&this.ui.timestamp.text(this.prettyDate())},isInViewport:function(t,e){var i=this.$el.offset().top,r=i+this.$el.outerHeight();return i>=t&&i<=e||r>=t&&r<=e},unfurlLinks:function(t,e){var i=this;if(this.getOption("settings").get("LinkSummariesEnabled")&&!this.model.get("unfurled")&&this.model.get("type")===Fi.MessageTypes.Message&&(void 0===t||void 0===e||this.isInViewport(t,e))){var r=V.getLinks(this.model.get("message"));this.model.set("unfurled",!0),0!==r.length&&r.map((function(t){var e=t;return t.indexOf("http")<0&&(e="http://".concat(e)),new Ca({link:e})})).forEach((function(t){t.fetch().then((function(e,r){if("nocontent"!==r&&!(t.get("size")>ja)){var a=n().extend(i.model.toJSON(),t.toJSON(),{parent:i.model,date:new Date(i.model.get("date").getTime()+1)});delete a.id;var o=new qi(a);i.model.collection.add(o)}}))}))}},prettyDate:function(){var t=this.getOption("settings"),e=t.get("ShowFullMessageTimestamp");return t.get("isDemo")?e?V.toHourMinuteString(new Date,!1):"Just now":e?V.toHourMinuteString(this.model.get("date"),!1):V.prettyDate(this.model.get("date"))},hasMultipleOperators:function(){if(this.model.get("type")!==Fi.MessageTypes.Message)return!1;if(this.model.get("myMessage"))return!1;var t=ge();return _.getOption(t,"chatModel").get("operators").length>1}}),Sa=i(2704),Pa=i.n(Sa),Ta=_.ItemView.extend({template:Pa(),className:"purechat-message-note purechat-message-note-closed",attributes:{width:"100%"},ui:{ratingThanks:".purechat-rating-thanks",feedbackThanks:".purechat-feedback-thanks",displayContainer:".purechat-message-display-container",ratingPrompt:'[data-resourcekey="closed_askForRating"]',thumbsUp:".purechat-thumbs-up",thumbsDown:".purechat-thumbs-down",feedbackForm:"form.purechat-feedback-form"},templateHelpers:function(){var t=this.options.settings.toJSON();return t.showPoweredBy=!t.RemoveBranding,t.poweredByUrl=this.options.settings.poweredByUrl(),t.ctaUrl=function(){var t=this.getResource("button_cta_url"),e=new RegExp("(https|http)://");return 0!==t.search(e)?"http://"+t:t},t.iconRootUrl=function(){return V.iconRootUrl(t.isDemo)},t.svgHrefAttr=function(){return V.svgHrefAttr()},t.apiUrl=Z().apiUrl,t},events:{"click @ui.thumbsUp":"handleThumbsUp","click @ui.thumbsDown":"handleThumbsDown","click .purechat-download-container a":"handleDownload","submit @ui.feedbackForm":"handleFeedbackSubmit"},onRender:function(){this.options.settings.get("AskForRating")&&this.options.settings.get("AskForFeedback")&&!this.options.settings.get("isDemo")&&this.ui.feedbackForm.purechatDisplay("none")},handleThumbsUp:function(){this.options.settings.get("isInEditorMode")||(this.ui.thumbsUp.addClass("purechat-thumbs-selected"),this.rateChat(!0))},handleThumbsDown:function(){this.options.settings.get("isInEditorMode")||(this.ui.thumbsDown.addClass("purechat-thumbs-selected"),this.rateChat(!1))},handleFeedbackSubmit:function(t){t.preventDefault();var e=this.ui.feedbackForm.find("textarea").val();this.trigger("chat:feedback",e),this.ui.feedbackForm.purechatDisplay("none"),this.ui.feedbackThanks.text(this.getResource("closed_feedbackThanks")),this.ui.feedbackThanks.attr("data-resourcekey","closed_feedbackThanks")},handleDownload:function(){return!this.options.settings.get("isInEditorMode")},rateChat:function(t){this.rating||(this.rating=t?1:0,this.trigger("chat:rated",this.rating)),this.$el.find(".purechat-thumbs-selectable:not(.purechat-thumbs-selected)").remove(),this.ui.ratingThanks.text(this.getResource("closed_ratingThanks")),this.ui.ratingThanks.attr("data-resourcekey","closed_ratingThanks"),this.ui.ratingPrompt.length>0&&this.ui.ratingPrompt.purechatDisplay("none"),this.options.settings.get("AskForFeedback")&&this.ui.feedbackForm.purechatDisplay("block")}}),Ra=_.ItemView.extend({template:n().template(""),className:"empty-item"}),Ma=i(9414),Aa=i.n(Ma),Ea=Ia.extend({template:Aa(),extendedClassName:"purechat-unfurl-link",templateHelpers:function(){return n().extend({truncate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:34;return t.substring(0,e)}},Ia.prototype.templateHelpers.apply(this,arguments))}}),Oa=Ea,Wa=i(7121),Da=i.n(Wa),Na=Ia.extend({template:Da(),extendedClassName:"purechat-unfurl-image"}),Ua=Ia.extend({template:Da(),extendedClassName:"purechat-unfurl-giphy"}),Ba=i(9331),za=i.n(Ba),Va=Ia.extend({template:za(),extendedClassName:"purechat-unfurl-youtube",ui:n().extend({playButton:".purechat-unfurl-play",image:".purechat-unfurl-media"},Ia.prototype.ui),events:n().extend({"click @ui.playButton":"playVideo","click @ui.image":"playVideo"},Ia.prototype.events),playVideo:function(){var t=p()("<iframe></iframe>").attr({src:"".concat(this.model.get("media"),"?autoplay=1"),width:"100%",class:"purechat-unfurl-iframe",frameborder:"0",webkitallowfullscreen:"webkitallowfullscreen",mozallowfullscreen:"mozallowfullscreen",allowfullscreen:"allowfullscreen"});this.ui.image.after(t).purechatDisplay("none"),this.ui.playButton.purechatDisplay("none")}}),La=i(3539),Fa=i.n(La),Ha=Ia.extend({template:Fa(),extendedClassName:"purechat-unfurl-twitter"}),qa=i(1155),Za=i.n(qa),$a=_.ItemView.extend({template:Za(),id:"PureChatWidgetImagePreview",templateHelpers:function(){return{imageUrl:this.getOption("image")}},events:{click:"destroy"},onRender:function(){p()("body").on("keydown.purechat-files",this.onKeyDown.bind(this))},onDestroy:function(){p()("body").off("keydown.purechat-files")},onKeyDown:function(t){27===(t.which||t.keyCode)&&this.destroy()}}),Ya=i(6996),Xa=i.n(Ya),Ga=Ia.extend({template:Xa(),extendedClassName:"purechat-file",templateHelpers:function(){var t=this;return n().extend({isError:this.isError.bind(this),isUploading:this.isUploading.bind(this),getMessageDescription:this.getMessageDescription.bind(this),transferStateClass:function(){return t.isUploading()?"purechat-file-status-uploading":t.isError()?"purechat-file-status-error":t.isComplete()?"purechat-file-status-complete":""},isImage:this.isImage.bind(this),getGeneralError:function(){return t.getOption("settings").getResource("error_fileTransfer")||Fi.UploadErrorMessages.default},parsed:this.model.parseMessage(),FileIconPng:fr,FileIconWebp:br},Ia.prototype.templateHelpers.apply(this,arguments))},ui:{fileActions:".purechat-file-actions",fileImage:".purechat-file-image img",fileImageSpinner:".purechat-file-image .purechat-loading"},events:n().extend({"click .purechat-file-delete":"deleteFile","click @ui.fileImage":"imageClicked"},Ia.prototype.events),modelEvents:n().extend({change:"render"},Ia.prototype.modelEvents),onRender:function(){this.ui.fileImage.on("load.purechat-file",this.fileImageLoaded.bind(this)),this.ui.fileImage.on("error.purechat-file",this.fileImageLoaded.bind(this)),this.$el.addClass(this.model.get("isClosedChat")?"closed":"")},onDestroy:function(){this.ui.fileImage.off(".purechat-file")},fileImageLoaded:function(){this.ui.fileImageSpinner.purechatDisplay("none"),this.ui.fileImage.purechatDisplay("inline").addClass("purechat-animate purechat-animate-somewhat-fast purechat-animation-fadeIn"),this.trigger("file:image-loaded",{fromFileImage:!0})},imageClicked:function(){var t=this.getOption("settings"),e=t.isMobileRequest()&&!t.isDesktopDimension();if(this.isImage())if(e)this.$(".purechat-file-image").toggleClass("purechat-file-image-active");else{var i=this.model.parseMessage(),r=new $a({image:i.url});r.on("destroy",(function(){r.$el.remove(),r.off("destroy")})),r.render(),r.$el.appendTo("body")}},deleteFile:function(){this.trigger("file:delete",this.model.toJSON())},isImage:function(){return 0===(this.model.parseMessage().mimeType||"").indexOf("image/")},isStatus:function(t){return this.model.get("status")===t},isError:function(){return this.isStatus(Fi.UploadStatuses.Error)||this.isStatus(Fi.UploadStatuses.Unauthorized)},isUploading:function(){return this.isStatus(Fi.UploadStatuses.Start)||this.isStatus(Fi.UploadStatuses.Uploading)||this.isStatus(Fi.UploadStatuses.Unfinalized)},isComplete:function(){return this.isStatus(null)||this.isStatus(void 0)||this.isStatus(Fi.UploadStatuses.Complete)},getMessageDescription:function(){if(this.isUploading())return this.model.get("myMessage")?"Uploading...":"Receiving...";if(this.isComplete()){var t=this.model.parseMessage();return"".concat(t.name,"<br/><small>").concat(t.size," • ").concat(t.mimeType,"</small>")}return""}}),Ja=Ga,Ka=i(290),Qa=i.n(Ka),to=_.CompositeView.extend({template:Qa(),id:"purechat-message-display-container",className:"purechat-message-display-container",ui:{messageListContainer:".purechat-message-display",showPrevious:".purechat-showPrevious"},events:{"click .purechat-showPrevious":"showPrevious"},modelEvents:{"change:HasMoreTransactions":"updatePreviousVisibility","change:expanded":"checkForMobileExpand"},collectionEvents:{add:"listChanged"},childEvents:{"chat:rated":function(t,e){this.trigger("chat:rated",e)},"chat:feedback":function(t,e){this.trigger("chat:feedback",e)},"file:image-loaded":"listScrolled","file:delete":"deleteFile"},triggers:{showPrevious:"showPrevious"},onAddChild:function(){var t=this;this.newMessageAddedTimerId&&clearTimeout(this.newMessageAddedTimerId),this.newMessageAddedTimerId=setTimeout((function(){t.unfurlChildren(),clearTimeout(t.newMessageAddedTimerId)}),100)},getChildView:function(t){switch(t.get("type")){case Fi.MessageTypes.UnfurlLink:return Oa;case Fi.MessageTypes.UnfurlImage:return Na;case Fi.MessageTypes.UnfurlGiphy:return Ua;case Fi.MessageTypes.UnfurlYoutube:return Va;case Fi.MessageTypes.UnfurlTwitter:return Ha;case Fi.MessageTypes.File:return Ja;case Fi.MessageTypes.Closed:return Ta;case Fi.MessageTypes.Message:default:return Ia}},childViewOptions:function(){return{rm:_.getOption(this,"rm"),settings:_.getOption(this,"settings"),messages:this.collection.toJSON()}},childViewContainer:".purechat-message-display",emptyView:Ra,onDestroy:function(){clearInterval(this.lastMessageTimeHandler),this.ui.messageListContainer.off(".purechat-messages")},onRender:function(){this.ui.messageListContainer.on("scroll.purechat-messages",this.listScrolled.bind(this)),this.updatePreviousVisibility()},initialize:function(){var t=this;this.chatModel=_.getOption(this,"chatModel"),this.unfurled=this.model.get("type")!==Fi.MessageTypes.Message,this.chatModel.get("scrollBottom")||this.chatModel.set("scrollBottom",0),this.lastMessageTimeHandler=setInterval((function(){var e=t.children.last();e&&e.updateTimestamp&&e.updateTimestamp()}),6e4)},getScrollBottom:function(){return this.chatModel.get("scrollBottom")},setScrollBottom:function(t){this.chatModel.set("scrollBottom",t)},listScrolled:n().debounce((function(t,e){if(this.ui.messageListContainer&&!n().isString(this.ui.messageListContainer)){var i=this.getOption("viewController"),r=this.ui.messageListContainer,a=this.ui.messageListContainer.get(0).scrollHeight-r.height()-r.scrollTop(),o=this.getScrollBottom();e&&e.fromFileImage&&o<=50?(this.setScrollBottom(0),this.updateScroll(),i.scrolledToBottom&&i.scrolledToBottom()):(this.setScrollBottom(a),a<=50&&i.scrolledToBottom&&i.scrolledToBottom()),this.unfurlChildren()}}),250),unfurlChildren:function(){var t=this.$el.offset().top,e=t+this.$el.innerHeight();this.children.forEach((function(i){i.unfurlLinks&&"function"==typeof i.unfurlLinks&&i.unfurlLinks(t,e)}))},listChanged:function(t){var e=this;if(!([Fi.MessageTypes.UnfurlLink,Fi.MessageTypes.UnfurlImage,Fi.MessageTypes.UnfurlGiphy,Fi.MessageTypes.UnfurlYoutube,Fi.MessageTypes.UnfurlTwitter].indexOf(t.get("type"))>-1&&this.getScrollBottom()>50)){if(t.get("type")!==Fi.MessageTypes.Closed){var i=this.collection.where({type:Fi.MessageTypes.Closed});this.collection.remove(i)}t.get("isClosedChat")||0===this.getScrollBottom()||0!==this.ui.messageListContainer.scrollTop()||this.setScrollBottom(this.ui.messageListContainer[0].scrollHeight-this.ui.messageListContainer.height()),t.get("isClosedChat")||this.model.get("userId")!==t.get("userId")||this.setScrollBottom(0),this.getScrollBottom()<=50&&this.setScrollBottom(0),(0===this.getScrollBottom()||t.get("isClosedChat"))&&(this.scrollTimeout&&(clearTimeout(this.scrollTimeout),this.scrollTimeout=null),this.scrollTimeout=setTimeout((function(){e.scrollTimeout=null,t.get("isClosedChat")&&e.setScrollBottom(0),e.updateScroll()}),0))}},updateScroll:function(){n().isString(this.ui.messageListContainer)||this.ui.messageListContainer.scrollTop(this.ui.messageListContainer[0].scrollHeight-this.ui.messageListContainer.height()-this.getScrollBottom())},showPrevious:function(){this.triggerMethod("showPrevious")},updatePreviousVisibility:function(){this.model.get("HasMoreTransactions")?this.ui.showPrevious.purechatDisplay("block"):this.ui.showPrevious.purechatDisplay("none")},checkForMobileExpand:function(t,e){var i=this.getOption("settings"),r=i.useMobile()&&!i.isDesktopDimension();e&&r&&(this.setScrollBottom(0),this.updateScroll())},deleteFile:function(t,e){this.getOption("viewController").getDataController().deleteMessage(e)}}),eo=JSON.parse('[{"regex":"(:\\\\)|:-\\\\)|\\\\(happy\\\\))","emoji":"🙂"},{"regex":"(:\\\\(|:-\\\\(|\\\\(sad\\\\))","emoji":"😞"},{"regex":"(:D|:-D|\\\\(grin\\\\))","emoji":"😃"},{"regex":"(:x|:-x|\\\\(sealed\\\\))","emoji":"😶"},{"regex":"(;\\\\)|;-\\\\)|\\\\(wink\\\\))","emoji":"😉"},{"regex":"(\\\\(yawn\\\\))","emoji":"😩"},{"regex":"(\\\\(smirk\\\\))","emoji":"😏"},{"regex":"(\\\\(starstruck\\\\))","emoji":"😲"},{"regex":"(:C|:-C|\\\\(depressed\\\\))","emoji":"☹️"},{"regex":"(8\\\\(|8-\\\\(|\\\\(sadnerd\\\\))","emoji":"😞"},{"regex":"(D:|\\\\(zomg\\\\))","emoji":"😦"},{"regex":"(:\\\\||:-\\\\||\\\\(speechless\\\\))","emoji":"😐"},{"regex":"(:\'\\\\(|:\'-\\\\(|\\\\(crying\\\\))","emoji":"😢"},{"regex":"(\\\\(relieved\\\\))","emoji":"😌"},{"regex":"(\\\\(satisfied\\\\))","emoji":"😊"},{"regex":"(\\\\(determined\\\\))","emoji":"","deprecated":true},{"regex":"(:p|:-p|\\\\(tongue\\\\))","emoji":"😛"},{"regex":"(:-\\\\/|\\\\(unsure\\\\))","emoji":"😕"},{"regex":"(-_-|\\\\(sleep\\\\))","emoji":"😴"},{"regex":"(8{|8-{|\\\\(disguise\\\\))","emoji":"","deprecated":true},{"regex":"(B\\\\)|B-\\\\)|\\\\(cool\\\\))","emoji":"😎"},{"regex":"(8\\\\)|8-\\\\)|\\\\(nerd\\\\))","emoji":"","deprecated":true},{"regex":"(\\\\(lovestruck\\\\))","emoji":"😍"},{"regex":"\\\\(angry\\\\)","emoji":"😠"},{"regex":"(\\\\(evil\\\\))","emoji":"😈"},{"regex":"(:s|:-s|\\\\(sick\\\\))","emoji":"😷"},{"regex":"(\\\\/_\\\\\\\\|\\\\(embarassed\\\\))","emoji":"😰"},{"regex":"(:{|\\\\(mustache\\\\))","emoji":"","deprecated":true},{"regex":"(:o|:-o|\\\\(surprised\\\\))","emoji":"😮"},{"regex":"(;p|;-p|\\\\(tease\\\\))","emoji":"😜"},{"regex":"\\\\(ninja\\\\)","emoji":"","deprecated":true},{"regex":"\\\\(zombie\\\\)","emoji":"","deprecated":true}]'),io=i(3470),ro=i.n(io),no=new RegExp("([\\s.]|&nbsp;|^)(:[a-z_]{2,})(?=[\\s.]|&nbsp;|$)","gim"),ao=new RegExp("(^:|:$)","gim"),oo=[38,38,40,40,37,39,37,39],so=_.LayoutView.extend({template:ro(),className:"purechat-message-list-view",cannedResponseCollection:null,regions:{messages:".purechat-messages",emojis:".purechat-emojis",emojiAutocomplete:".purechat-emoji-autocomplete"},ui:{textInput:"textarea",form:"form",userStatus:".purechat-user-status",showPrevious:".purechat-showPrevious",filePicker:".purechat-file-picker"},templateHelpers:function(){var t=this.getOption("settings");return{isFileTransferEnabled:function(){return t.isFileTransferEnabled()},isMobile:function(){return t.useMobile()&&!t.isDesktopDimension()},isInvisible:function(){return t.get("isInvisible")},iconRootUrl:function(){return V.iconRootUrl(t.get("isDemo"))},svgHrefAttr:function(){return V.svgHrefAttr()}}},modelEvents:{change:function(t){this.triggerMethod("roomHostChanged",t)}},events:{"keydown textarea":"keyDown","keyup textarea":"keyUp","paste textarea":"handlePaste","submit form":"postMessage","click form":function(t){"button"!==t.target.tagName.toLowerCase()&&(this.ui.textInput.get(0)&&this.ui.textInput.get(0).focus(),this.hideEmojis())},"click .purechat-btn-emoji":"showEmojis","click .purechat-btn-file-transfer":"showFilePicker","change @ui.filePicker":"fileSelected","resize textarea":"resizeTextArea"},childEvents:{showPrevious:function(){this.trigger("showPrevious")},emojiSelected:function(t,e){var i=this.ui.textInput.val(),r=e.get("emoji");this.emojiMatch?(this.replaceEmojiAutocompleteText(r),this.hideEmojiAutocomplete()):(this.ui.textInput.val(i+e.get("emoji")).focus(),this.hideEmojis())},hideAutocomplete:function(){this.ui.autocomplete.purechatDisplay("none")}},getLastMessageWithId:function(t){var e=null;return this.collection.forEach((function(i){i.get("userId")&&i.get("messageId")!==t&&(e=i)})),e},initialize:function(){var t=this;this.getOption("viewController").on("widget:click",(function(e){p()(e.target).hasClass("purechat-btn-emoji")||t.hideEmojis()})),this.kCodePosition=-1},onDestroy:function(){p()(window).off("resize.ScrollToTopMobile"),this.$el.find(".purechat-message-display").off("scroll"),this.getOption("viewController").off("widget:click")},renderMessageListView:function(){var t=_.getOption(this,"chatModel"),e=_.getOption(this,"rm"),i=_.getOption(this,"settings"),r=_.getOption(this,"viewController");this.showChildView("messages",new to({rm:e,model:t,collection:t.get("messages"),settings:i,viewController:r,chatModel:t}))},renderEmojiView:function(){this.showChildView("emojis",new ga({viewController:this.getOption("viewController"),registerClose:!0}))},onRender:function(){this.renderMessageListView(),this.renderEmojiView(),this.getRegion("emojis").$el.purechatDisplay("none")},onShow:function(){var t=this;n().defer((function(){t.ui.textInput.is(":visible")&&t.ui.textInput.focus()}))},keyDown:function(t){this.resizeTextArea();var e=this.getRegion("emojiAutocomplete");if(t.keyCode===Fi.KeyCodes.Enter&&!t.shiftKey){if(t.ctrlKey)return this.ui.textInput.val("".concat(this.ui.textInput.val(),"\n")),!0;if(e.hasView()){var i=e.currentView.getSelected();return this.replaceEmojiAutocompleteText(i.get("emoji")),this.hideEmojiAutocomplete(),!1}return this.triggerMethod("typingChange",!1),this.activity=!1,this.ui.form.submit(),!1}var r=Fi.KeyCodes,n=[r.Enter,r.Escape,r.LeftArrow,r.RightArrow,r.UpArrow,r.DownArrow,r.Tab];return!(e.hasView()&&n.indexOf(t.keyCode)>-1&&(t.preventDefault(),t.stopPropagation(),1))},keyUp:function(t){var e=this;this.typingTimeout&&(clearTimeout(this.typingTimeout),this.typingTimeout=null),this.typingTimeout=setTimeout((function(){try{var t=e.ui.textInput.val().length>0;e.activity=t,e.triggerMethod("typingChange",t)}catch(t){}}),2e3),this.ui.textInput.val()&&!this.activity&&(this.triggerMethod("typingChange",!0),this.activity=!0);var i=this.getRegion("emojiAutocomplete");if(i.hasView()){switch(t.keyCode){case Fi.KeyCodes.Escape:this.hideEmojiAutocomplete();break;case Fi.KeyCodes.LeftArrow:i.currentView.selectPrev();break;case Fi.KeyCodes.UpArrow:i.currentView.selectUp();break;case Fi.KeyCodes.RightArrow:i.currentView.selectNext();break;case Fi.KeyCodes.DownArrow:i.currentView.selectDown();break;case Fi.KeyCodes.Tab:t.shiftKey?i.currentView.selectPrev():i.currentView.selectNext();break;default:this.checkForEmojiAutocomplete(this.ui.textInput.val())}this.updateKCodePosition(t.keyCode)}else this.checkForEmojiAutocomplete(this.ui.textInput.val())},handlePaste:function(t){var e=this;if(this.options.settings.isFileTransferEnabled()){var i=t.originalEvent.clipboardData.items;if(i){var r=this.getOption("viewController").getDataController();Array.prototype.forEach.call(i,(function(t){if("text/plain"!==t.type||"string"!==t.kind){if(0===t.type.indexOf("image/")){var i=t.getAsFile();i&&r.upload(i)}}else setTimeout((function(){return e.resizeTextArea()}),0)}))}else this.resizeTextArea()}},resizeTextArea:n().throttle((function(){var t=this.ui.textInput.get(0),e="InternetExplorer"===this.options.settings.get("BrowserDetails").Browser;window.requestAnimationFrame((function(){if(t){t.style.cssText="height:auto !important; padding:0 !important;";var i=t.scrollHeight-(e&&t.value.length>0?1:0);if(i!==t.offsetHeight){var r="height:".concat(i,"px !important;max-height:").concat(66,"px !important;");e&&t.scrollHeight>66&&(r+="-ms-overflow-style:scrollbar !important;"),t.style.cssText=r}}}))}),200),convertLegacyEmotsToEmoji:function(t){var e=t;return eo.forEach((function(i){if(!i.deprecated){var r=new RegExp("([\\s.]|&nbsp;|^)(".concat(i.regex,")(?=[\\s.]|&nbsp;|$)"),"gim"),n=t.match(r);n&&n.forEach((function(t){e=e.replace(t.trim(),i.emoji)}))}})),e},replaceMessageVariables:function(t){return t},postMessage:function(t){t.stopPropagation(),t.preventDefault();var e=this.convertLegacyEmotsToEmoji(this.ui.textInput.val()),i=this.replaceMessageVariables(e);this.triggerMethod("newMessage",i),this.ui.textInput.val(""),this.resizeTextArea()},typing:function(t,e,i){this.model.get("participants").set({userId:t,displayName:e,isTyping:i},{remove:!1}),this.ui.userStatus.html(this.model.get("participants").getOperatorTypingText(this))},showEmojis:function(){var t=this.getRegion("emojis");t.$el.purechatDisplay("flex"),t.currentView.open()},hideEmojis:function(){var t=this.getRegion("emojis");t.$el.purechatDisplay("none"),t.currentView.close()},checkForEmojiAutocomplete:function(t){var e=t.match(no);e&&0!==e.length?(this.emojiMatch=n().first(e).trim(),this.showEmojiAutocomplete()):this.hideEmojiAutocomplete()},showEmojiAutocomplete:function(){var t=this.getRegion("emojiAutocomplete"),e=this.emojiMatch.replace(ao,"");t.hasView()&&t.currentView.destroy();var i=new _a({filter:e});this.showChildView("emojiAutocomplete",i),t.$el.purechatDisplay("flex"),t.currentView.isEmpty()&&this.hideEmojiAutocomplete()},hideEmojiAutocomplete:function(){var t=this.getRegion("emojiAutocomplete");t.hasView()&&(t.$el.purechatDisplay("none"),t.currentView.destroy(),this.emojiMatch=null)},replaceEmojiAutocompleteText:function(t){var e=this.ui.textInput.val();this.ui.textInput.val(e.replace(this.emojiMatch,t)).focus()},showFilePicker:function(){this.ui.filePicker.click()},fileSelected:function(){if(this.ui.filePicker.val()&&this.options.settings.isFileTransferEnabled()){var t=ge();Array.prototype.forEach.call(this.ui.filePicker.get(0).files,(function(e){t.upload(e)})),this.ui.filePicker.val(null)}},updateKCodePosition:function(t){this.getRegion("emojiAutocomplete").hasView()?(oo[this.kCodePosition+1]===t?this.kCodePosition+=1:this.kCodePosition=-1,this.kCodePosition===oo.length-1&&(this.replaceEmojiAutocompleteText("🕹️"),this.hideEmojiAutocomplete(),this.kCodePosition=-1)):this.kCodePosition=-1}}),co=so,lo=function(t,e,i,r){if(0===i.length)return r;var a=window.location.href,o=function(t){return(new Date).getTime()-parseInt(window.localStorage.getItem("".concat(t,"__purechat_sessionStartTime"))||(new Date).getTime(),10)<12e5}(t),s=i.filter((function(t){return t.Key===e}));if(0===s.length)return r;var c=n().find(s,(function(t){return!!new RegExp(t.UrlPath,"gi").test(a)&&(t.VisitorType===Fi.OverrideVisitorTypes.All||!(t.VisitorType!==Fi.OverrideVisitorTypes.New||!o)||t.VisitorType===Fi.OverrideVisitorTypes.Returning&&!o)}));return c?c.Value:r},po=lo;function uo(t){return uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uo(t)}function ho(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function go(){return go="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,i){var r=mo(t,e);if(r){var n=Object.getOwnPropertyDescriptor(r,e);return n.get?n.get.call(arguments.length<3?t:i):n.value}},go.apply(this,arguments)}function mo(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=vo(t)););return t}function fo(t,e){return fo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fo(t,e)}function bo(t,e){if(e&&("object"===uo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return yo(t)}function yo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vo(t){return vo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vo(t)}var wo=1e3,_o=function(t){return p()("<div/>").html(t).text()},Co=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fo(t,e)}(s,t);var e,i,r,a,o=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=vo(r);if(a){var i=vo(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return bo(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=o.call(this,t)).typing={},e.isTyping=!1,e.isUserAlone=!0,e.mobileAnimationInterval=null,e.noOperatorMessageTimeout=null,e.onCloseChat=n().throttle(e.onCloseChat.bind(yo(e)),800,{trailing:!1}),e.handleVisibilityChange=e.handleVisibilityChange.bind(yo(e)),e}return e=s,i=[{key:"name",get:function(){return"chatting"}},{key:"stateSettings",get:function(){return{shouldBeInRoom:!0,UiVisiblity:{popoutButton:!0,closeButton:!0,requeueButton:!0,cannedResponsesButton:!0}}}},{key:"onEnter",value:function(){for(var t=this,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];Zn.prototype.onEnter.apply(this,i);var a=this.options.get("StartChatImmediately");this.getWidgetView().$el.purechatDisplay();var o=this.getChatModel();o.set({RequestFromMobileDevice:this.options.get("RequestFromMobileDevice")}),this.messageView=new co({rm:this.getResources(),model:o,collection:this.getChatModel().get("messages"),settings:this.getWidgetSettings(),viewController:this.getViewController(),chatModel:this.getChatModel()}),this.getWidgetView().showChildView("content",this.messageView),this.listenTo(this.messageView,"showPrevious",(function(){t.chatModel.get("PreviousTranscriptId")&&t.getDataController().getPreviousChat({chatId:t.chatModel.get("PreviousTranscriptId")}).done((function(e){t.appendPreviousChatResults(e)}))})),this.getDataController().connectToChatServer(this).done((function(){try{var e=t.chatModel.get("operators")&&t.chatModel.get("operators").length>0,i=t.status&&t.status.initialData&&t.status.initialData.initiator&&1===t.status.initialData.initiator;if(!e&&!i){var r=new Date;r.setTime(0);var s=lo(t.options.id,"chat_startedMessage",t.settings.get("WidgetStringOverrides"),t.getResource("chat_startedMessage"));t.chatModel.get("messages").add({date:r,type:a?Fi.MessageTypes.Message:Fi.MessageTypes.Note,message:s,resourceKey:"chat_startedMessage",avatarUrl:null})}n().isFunction(t.getDataController().setCurrentPage)&&t.getDataController().setCurrentPage(document.location.href),t.messageView.on("newMessage",(function(e){return t.getDataController().newMessage(e)})),t.listenTo(t.messageView,"typingChange",(function(e){t.isTyping!==e&&(t.isTyping=e,t.getDataController().setTypingIndicator(e))})),t.getWidgetView().$el.find(".purechat-start-chat-button-container button").text("Back to Chat"),t.getWidgetView().onShow(),t.getDataController().sendRoomHistory(),t.getViewController().trigger("stateChanged",Fi.WidgetStates.Chatting),t.settings.get("RequestFromMobileDevice")&&t.settings.get("MobileDisplayType")===Fi.MobileDisplayTypes.MobileOptimized&&(p()(window).trigger("resize.ResizeChatContent"),t.getWidgetView().$el.find(".purechat-send-form-message").off("blur.ResizeWindow").on("blur.ResizeWindow",(function(){p()(window).trigger("resize.ResizeChatContent")})),t.options.get("isDirectAccess")&&p()(".direct-container-header").purechatDisplay("none")),t.getWidgetView().trigger("resized");var c=t.options.get("room");if(c&&c.closed)return void o.set("state",Fi.WidgetStates.Closed);t.getViewController().trigger("chat:start",o.pick(["visitorEmail","visitorName","visitorPhoneNumber","visitorQuestion","visitorFirstName","visitorLastName","visitorCompany"]));var l=t.getWidgetSettings();!t.isUserAlone||l.get("StartChatAutomatically")||l.get("AskForQuestion")||window.sessionStorage.getItem("purechat_no_operator_message_seen")||t.noOperatorMessageTimeout||(t.noOperatorMessageTimeout=setTimeout((function(){var e=new Date;e=t.convertToUserTime(e),t.chatModel.get("messages").add({date:e,type:Fi.MessageTypes.Note,message:n().escape(t.getResource("chat_noOperatorMessage")),resourceKey:"chat_noOperatorMessage",isClosedChat:!1}),t.chatModel.set("noOperatorMessageSeen",!0),window.sessionStorage.setItem("purechat_no_operator_message_seen",!0)}),1e3*l.get("NoOperatorMessageTimeout"))),t.options.get("room")&&1!==t.options.get("room").roomType&&!t.options.get("room").isDemo&&t.getDataController().getPreviousChat({chatId:t.options.get("room")?t.options.get("room").id:-1}).done((function(e){e&&t.appendPreviousChatResults(e)})),t.settings.get("RequestFromMobileDevice")&&window.addEventListener("visibilitychange",t.handleVisibilityChange)}catch(t){}})).fail((function(e){t.getDataController().connectionInfo.clearLocalStorage(),t.getChatModel().set("state",Fi.WidgetStates.Inactive),t.logFailedConnection(e)})),o.on("roomHostChanged",(function(){var e=o.get("roomHostAvatarUrl"),i=o.get("roomHostName");t.getWidgetView().showRoomHostAvatar(e),t.updateRoomHostName(i)}))}},{key:"updateRoomHostName",value:function(t){var e=this.getWidgetView();if(t)e.setExpandedTitle(this.getResource("chat_nowChattingWith",{chatUserNames:[t]}),"chat_nowChattingWith");else{var i=this.getInitialTitleResourceKey();e.setExpandedTitle(this.getResource(i),null,i)}}},{key:"onSelectionShow",value:function(){this.messageView.getChildView("messages").updateScroll()}},{key:"appendPreviousChatResults",value:function(t,e){var i=this;t&&t.forEach((function(t){var r=null,n=null,a=0;if(t.Records.forEach((function(t){function o(){t.Type===Fi.MessageTypes.Join?i.onJoined(t.UserId,t.Name,-1,t.Name,t.DateCreatedJsTicks/wo,!0,!0):t.Type===Fi.MessageTypes.Leave?i.onLeft(t.UserId,t.Name,-1,t.Name,t.DateCreatedJsTicks/wo,!0,!0):i.onMessage({userId:t.UserId,userDisplayName:t.Name,roomId:-1,roomDisplayName:t.Name,time:t.DateCreatedJsTicks/wo,message:t.Message,isHistory:!0,timeElpased:0,protocolVersion:0,avatarUrl:t.AvatarUrl,fromOperator:t.UserId>0,roomUtcOffset:0,type:t.Type,messageId:0,isClosedChat:!0})}e?(setTimeout(o,a),a+=e):o(),r="".concat(t.DateCreatedString," at ").concat(t.TimeCreatedString),n=t})),null!==r){var o=new Date;o.setTime(n.DateCreatedJsTicks);var s=function(){o=i.convertToUserTime(o),i.chatModel.get("messages").add({date:o,type:Fi.MessageTypes.Separator,message:r,isClosedChat:!0})};e?(setTimeout(s,a),a+=e):s()}i.chatModel.set("PreviousTranscriptId",t.Id),t.PreviousTranscriptId?i.chatModel.set("HasMoreTransactions",!0):i.chatModel.set("HasMoreTransactions",!1)}))}},{key:"onExit",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];Zn.prototype.onExit.apply(this,e),this.chatModel.get("operators").reset(),this.chatModel.get("participants").reset(),this.unbindEvents&&this.unbindEvents(),this.getDataController().unbindHandlerEvents()}},{key:"onRoomChanged",value:function(t){this.onRoomDetailsChanged(t.room)}},{key:"onCloseChat",value:function(){var t=this,e=this.getWidgetSettings(),i=e.useMobile()&&!e.isDesktopDimension(),r=function(e){e.noOperatorMessageTimeout&&(clearTimeout(e.noOperatorMessageTimeout),e.noOperatorMessageTimeout=null),window.removeEventListener("visibilitychange",t.handleVisibilityChange),e.getDataController().closeChat().done((function(){return e.getChatModel().set("state",Fi.WidgetStates.Closed)}))};i?setTimeout((function(){window.confirm("Are you sure you want to end this chat?")&&r(t)}),500):r(this)}},{key:"onExpanded",value:function(){}},{key:"flashMobileNotificationIcon",value:function(){var t=this;if(this.settings.get("RequestFromMobileDevice")&&this.settings.get("MobileDisplayType")===Fi.MobileDisplayTypes.MobileOptimized&&"number"!=typeof this.mobileAnimationInterval){var e=this.getWidgetView().$el,i=e.hasClass("purechat-widget-collapsed")&&e.find(".purechat-expanded").is(":visible")?e:[];if(i.length>0){var r=e.find(".purechat-title-image-out-of-way-hilight").filter(":visible");r.addClass("flash");var n=!0;this.mobileAnimationInterval=setInterval((function(){n?(r.removeClass("flash"),n=!1):(r.addClass("flash"),n=!0)}),1e3),i.off("click.StopNotification").on("click.StopNotification",(function(e){var n=p()(e.currentTarget);t.mobileAnimationInterval=clearInterval(t.mobileAnimationInterval),r.removeClass("flash"),i.off("click.StopNotification"),n.trigger("click")}))}}}},{key:"convertToUserTime",value:function(t){return t}},{key:"onMessage",value:function(t){var e=this;if(t.id){var i=this.chatModel.get("messages").findWhere({id:t.id});if(i)return void i.set(t)}if(t.type!==Fi.MessageTypes.Message||null!==t.message&&"string"==typeof t.message){var r=new Date,a=new Date;a.setTime(1e3*t.time),a.getTime()>r.getTime()&&(a=new Date).setTime(t.time),a=this.convertToUserTime(a);var o=t.avatarUrl,s={id:t.id,date:a,type:t.type,message:t.message,userName:t.userDisplayName,myMessage:t.userId===this.chatModel.get("userId"),time:V.toHourMinuteString(a),avatarUrl:o,fromOperator:t.fromOperator,visitorAvatarUrl:this.settings.get("room")&&this.settings.get("room").visitorAvatarUrl?this.settings.get("room").visitorGravatarHash:"",rootUrl:this.chatModel.get("cdnServerUrl"),userId:t.userId,messageId:t.messageId,isClosedChat:t.isClosedChat};s.type===Fi.MessageTypes.File&&(s.status=t.status),this.chatModel.get("messages").add(s),t.userId==this.chatModel.get("userId")||t.isHistory||H.events.trigger("notifications:newMessage")}var c=this.getWidgetSettings(),l=c.useMobile()&&!c.isDesktopDimension(),u=c.get("isDemo"),h=this.chatModel.get("expanded");if(this.chatModel.get("userId")==t.userId||1!=this.chatModel.get("isWidget")||(h||l)&&!l||u||0!=t.isHistory||this.getWidgetView().flashNotification(t.message),h||t.isHistory||this.getWidgetView().incrementMissedMessageCount(),this.isUserAlone&&t.message!==this.chatModel.get("Question")&&2===this.chatModel.get("messages").length&&!window.sessionStorage.getItem("purechat_no_operator_message_seen")){var d=function(){var i=new Date;u&&i.setTime(1e3*t.time+1),i=e.convertToUserTime(i),e.chatModel.get("messages").add({date:i,type:Fi.MessageTypes.Note,message:n().escape(e.getResource("chat_noOperatorMessage")),resourceKey:"chat_noOperatorMessage",isClosedChat:t.isClosedChat}),e.chatModel.set("noOperatorMessageSeen",!0),window.sessionStorage.setItem("purechat_no_operator_message_seen",!0)};u?d():this.noOperatorMessageTimeout||(this.noOperatorMessageTimeout=setTimeout(d,1e3*c.get("NoOperatorMessageTimeout")))}p()("body").trigger("ChatMessageAdded"),this.flashMobileNotificationIcon()}},{key:"onDeleteMessage",value:function(t){var e=this.chatModel.get("messages"),i=e.findWhere({id:t.messageId})||e.findWhere({serverId:t.messageId})||e.findWhere({id:parseInt(t.messageId,10)});i&&e.remove(i)}},{key:"onTyping",value:function(t,e,i,r,n,a){this.messageView.typing(t,e,n)}},{key:"onRoomClosed",value:function(t){localStorage.roomId||this.getDataController().connectionInfo.get("roomId")!=t||this.onCloseChat(!0)}},{key:"onRoomDestroyed",value:function(t,e,i,r){this.chatModel.set("closedReasonCode",r),r===Fi.ClosedReasonCodes.NoOperatorJoined?this.chatModel.set("state",Fi.WidgetStates.EmailForm):this.chatModel.set("state",Fi.WidgetStates.Closed)}},{key:"onUserDestroyed",value:function(){this.chatModel.set("state",Fi.WidgetStates.Closed)}},{key:"onRoomDetailsChanged",value:function(t){this.chatModel.set({roomHostAvatarUrl:t.roomHostAvatarUrl||null,roomHostName:t.roomHostName||null,visitorEmail:t.visitorEmail||this.chatModel.get("visitorEmail"),visitorName:t.visitorName||this.chatModel.get("visitorName"),visitorPhoneNumber:t.visitorPhoneNumber||this.chatModel.get("visitorPhoneNumber"),visitorFirstName:t.visitorFirstName||this.chatModel.get("visitorFirstName"),visitorLastName:t.visitorLastName||this.chatModel.get("visitorLastName"),visitorCompany:t.visitorCompany||this.chatModel.get("visitorCompany")}),this.getViewController().triggerRoomChangedForApi()}},{key:"onJoined",value:function(t,e,i,r,a,o,s){var c=t!==this.chatModel.get("userId");if(!this.chatModel.get("operators").find({userId:t})){if(c){var l=new Date,u=new Date;u.setTime(1e3*a),u.getTime()>l.getTime()&&(u=new Date).setTime(a),u=this.convertToUserTime(u),this.chatModel.get("messages").add({date:u,type:Fi.MessageTypes.Separator,important:!0,message:_o(n().escape(this.getResource("chat_joinMessage",{displayName:p().trim(e)}))),userName:e,resourceKey:"chat_joinMessage",time:V.toHourMinuteString(u),isClosedChat:s})}if(c)if(this.isUserAlone=!1,this.noOperatorMessageTimeout&&(clearTimeout(this.noOperatorMessageTimeout),this.noOperatorMessageTimeout=null),this.chatModel.get("operators").add({userDisplayName:e,userId:t}),this.chatModel.get("operators").length>0){if(this.getWidgetView().setExpandedTitle(_o(this.getResource("chat_nowChattingWith",{chatUserNames:this.chatModel.chatUserNames()})),"chat_nowChattingWith"),!this.getWidgetView().widgetShown()){var h=this.getTitleResourceKey();this.getWidgetView().setCollapsedTitle(_o(this.getResource(h)),h)}}else this.isUserAlone=!0}}},{key:"onLeft",value:function(t,e,i,r,n,a,o){var s=t!==this.chatModel.get("userId");if(s){var c=new Date,l=new Date;l.setTime(1e3*n),l.getTime()>c.getTime()&&(l=new Date).setTime(n),l=this.convertToUserTime(l),this.chatModel.get("messages").add({date:l,type:Fi.MessageTypes.Separator,message:this.getResource("chat_leftMessage",{displayName:p().trim(e)}),resourceKey:"chat_leftMessage",time:V.toHourMinuteString(l),isClosedChat:o})}if(s)if(this.chatModel.get("operators").remove(t),this.chatModel.chatUserNames().length>0)this.getWidgetView().setTitle(_o(this.getResource("chat_nowChattingWith",{chatUserNames:this.chatModel.chatUserNames()})),"chat_nowChattingWith");else{var u=this.getInitialTitleResourceKey();this.getWidgetView().setTitle(_o(this.getResource(u)),u)}}},{key:"getTitleResourceKey",value:function(){var t=this.getWidgetSettings(),e=t.useMobile()&&!t.isDesktopDimension(),i=this.chatModel.get("operatorsAvailable");return e?i?"mobile_title_initial":"mobile_title_unavailable_initial":i?"title_initial":"title_unavailable_initial"}},{key:"logFailedConnection",value:function(t){var e=this.settings.get("AccountId"),i=this.getDataController().connectionInfo.get("roomId"),r=this.chatModel.get("userId");this.getDataController().connectionInfo.get("chatServerUrl"),"Failed to connect to chat server. Account: ".concat(e,"; ChatId: ").concat(i,"; User: ").concat(r,"; Error: ").concat(JSON.stringify(t))}},{key:"destroy",value:function(){this.stopListening(this.messageView),go(vo(s.prototype),"destroy",this).call(this)}},{key:"onDisconnected",value:function(){this.getWidgetView().showDisconnect()}},{key:"onConnected",value:function(){this.getWidgetView().hideDisconnect()}},{key:"getAvatarFromRoom",value:function(t){var e=this.getDataController().connectionInfo.get("roomId"),i=window.PureChatApp.MyChats.find({id:parseInt(e,10)});if(!i)return"";if(!i.get("participants"))return"";var r=i.get("participants").reduce((function(e,i){if(e)return e;if(i.attributes.contactId===t)return i;var r=function(t){var e=t.remoteKey.split(":");if(4!==e.length)throw new Error("Invalid remote key format");return{entityType:e[0],system:e[1],key:e[2],id:e[3]}}(i.remoteParticipants[0]);return r&&parseInt(r.id,10)===t?i:null}),null);return r&&r.attributes.avatarUrl||""}},{key:"handleVisibilityChange",value:function(){document.hidden||this.getDataController().sendRoomHistory()}}],i&&ho(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),s}(Zn),xo=Co,ko=qi.extend({sortOrder:Fi.MessageSortOrders.Closed,defaults:{date:new Date,message:"Thanks for chatting!",resourceKey:"chat_closedMessage",type:Fi.MessageTypes.Closed}});function jo(t){return jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jo(t)}function Io(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function So(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Io(Object(i),!0).forEach((function(e){Po(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Io(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Po(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function To(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ro(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mo(){return Mo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,i){var r=Ao(t,e);if(r){var n=Object.getOwnPropertyDescriptor(r,e);return n.get?n.get.call(arguments.length<3?t:i):n.value}},Mo.apply(this,arguments)}function Ao(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Wo(t)););return t}function Eo(t,e){return Eo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Eo(t,e)}function Oo(t,e){if(e&&("object"===jo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Wo(t){return Wo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wo(t)}var Do=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Eo(t,e)}(s,t);var e,i,r,a,o=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Wo(r);if(a){var i=Wo(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return Oo(this,t)});function s(){return To(this,s),o.apply(this,arguments)}return e=s,i=[{key:"name",get:function(){return"closed"}},{key:"stateSettings",get:function(){return{shouldBeInRoom:!1,UiVisiblity:{restartButton:!0,removeWidgetButton:!0}}}},{key:"handleRoomClose",value:function(t,e){var i=this,r=null!=t&&"string"==typeof t.visitorIPAddress?t.visitorIPAddress:"",a=null!=t&&t.Id?t.Id:-1,o=null!=e&&"string"==typeof e.name?e.name:"",s=null!=e&&"string"===e.visitorReferer?e.visitorReferer:"",c=null!=e&&void 0!==e.id?e.id:"";this.getWidgetView().$el.purechatDisplay(),localStorage.expanded=!1,this.getDataController().connectionInfo.set("chatClosed",!0),this.getDataController().connectionInfo.set("chatServerUrl",null),this.getDataController().connectionInfo.set("lastActivity",null),this.getDataController().connectionInfo.persistLocalStorage(),this.getWidgetView().setExpandedTitle(this.getResource("title_chatClosed"),"title_chatClosed");var l=this.getTitleResourceKey();this.getWidgetView().setCollapsedTitle(this.getResource(l),l),this.getWidgetView().clearRoomHostAvatar(),this.getWidgetView().onShow();var u=new w.Model({roomId:c,visitorIPAddress:r,visitorIPAddressId:a,visitorName:o,visitorReferrer:s,closedReasonCode:this.chatModel.get("closedReasonCode")});u.set({GoogId:this.getWidgetSettings().get("GoogId"),GaTrackingTab:this.getWidgetSettings().get("GaTrackingTab"),GaTrackingChat:this.getWidgetSettings().get("GaTrackingChat"),GaTrackingEmail:this.getWidgetSettings().get("GaTrackingEmail"),GaTrackingThumbs:this.getWidgetSettings().get("GaTrackingThumbs"),GAUpThumbEvent:this.getWidgetSettings().get("GAUpThumbEvent"),GADownThumbEvent:this.getWidgetSettings().get("GADownThumbEvent"),GAEventCategory:this.getWidgetSettings().get("GAEventCategory"),UsingGa:this.getWidgetSettings().get("UsingGa"),AskForRating:this.getWidgetSettings().get("AskForRating"),CtaButton:this.getWidgetSettings().get("CtaButton"),DownloadTranscript:this.getWidgetSettings().get("DownloadTranscript")}),this._initialCollection=_.getOption(this,"chatModel").get("messages");var h={rm:this.getResources(),model:u,collection:this._initialCollection,settings:this.options,viewController:this.getViewController(),chatModel:this.getChatModel()};this.closeMessage=new to(h),this.listenTo(this.closeMessage,"chat:rated",(function(t){i.getDataController().rateChat(t),t?V.GaEvent(i.getWidgetSettings(),"GaTrackingThumbs","GAUpThumbEvent"):V.GaEvent(i.getWidgetSettings(),"GaTrackingThumbs","GADownThumbEvent"),i.getViewController().triggerResizedEvent(),i.getViewController().trigger("chat:rate",{rating:t}),i.chatModel.set({rating:t}),i.settings.get("AskForFeedback")&&setTimeout((function(){i.closeMessage&&i.closeMessage.updateScroll&&i.closeMessage.updateScroll()}),0)})),this.listenTo(this.closeMessage,"chat:feedback",(function(t){var e=i.chatModel.get("rating")||null;i.getDataController().sendFeedback(t,e),i.getViewController().triggerResizedEvent(),i.getViewController().trigger("chat:feedback",{feedback:t})})),this.getWidgetView().showChildView("content",this.closeMessage);var d,g=new Date;this._initialCollection.add({date:g,type:Fi.MessageTypes.Separator,important:!0,message:(d=n().escape(this.getResource("title_chatClosed")),p()("<div/>").html(d).text()),resourceKey:"title_chatClosed",time:V.toHourMinuteString(g),isClosedChat:!0}),this._initialCollection.add(new ko),this.chatModel.set({roomHostAvatarUrl:null,roomHostName:null}),this.options.get("isDirectAccess")&&p()(".direct-container-header").purechatDisplay("block"),H.events.trigger("footer:hide"),n().isFunction(this.getDataController().unbindHandlerEvents)&&this.getDataController().unbindHandlerEvents(),this.getViewController().trigger("chat:end",So(So({},this.chatModel.pick(["visitorEmail","visitorName","visitorPhoneNumber","visitorQuestion","visitorFirstName","visitorLastName","visitorCompany","chatId"])),{},{startedByOperator:this.status&&this.status.initialData&&this.status.initialData.initiator&&1===this.status.initialData.initiator})),window.sessionStorage.removeItem("purechat_no_operator_message_seen")}},{key:"onSelectionShow",value:function(){this.closeMessage&&this.closeMessage.updateScroll&&this.closeMessage.updateScroll()}},{key:"onEnter",value:function(){Zn.prototype.onEnter.apply(this,arguments),this.getWidgetView().chatAutoStarted=!1;var t="".concat(Z().authCookieName,"Visitor");document.cookie="".concat(t,"=; Domain=.purechat.com; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"),this.handleRoomClose(null,null)}},{key:"onRestartChat",value:function(){var t=this,e=this.getDataController().checkInRoom();localStorage.expanded=!0,this.syncWithContact().done((function(){e?t.getChatModel().set("state",Fi.WidgetStates.Activating):t.getDataController().restartChat().done((function(){t.getChatModel().restartChat(),t.getViewController().resetVisitorQuestion(),t.getViewController().trigger("widget:restart")}))}))}},{key:"getTitleResourceKey",value:function(){var t=this.getWidgetSettings(),e=t.useMobile()&&!t.isDesktopDimension(),i=this.chatModel.get("operatorsAvailable");return e?i?"mobile_title_initial":"mobile_title_unavailable_initial":i?"title_initial":"title_unavailable_initial"}},{key:"destroy",value:function(){this.stopListening(this.closeMessage),Mo(Wo(s.prototype),"destroy",this).call(this)}}],i&&Ro(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),s}(Zn),No=Do;function Uo(t){return Uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uo(t)}function Bo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zo(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vo(t,e){return Vo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Vo(t,e)}function Lo(t,e){if(e&&("object"===Uo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Fo(t){return Fo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fo(t)}var Ho=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vo(t,e)}(o,t);var e,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Fo(r);if(n){var i=Fo(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return Lo(this,t)});function o(){return Bo(this,o),a.apply(this,arguments)}return e=o,i=[{key:"name",get:function(){return"emailForm"}},{key:"stateSettings",get:function(){return{UiVisibility:{popoutButton:!0,closeButton:!0,requeueButton:!0}}}},{key:"getRequiredSetting",value:function(t){var e=this.getWidgetSettings().get(t);return void 0===e||Boolean(e)}},{key:"buildInitialQuestionFromMessageList",value:function(){var t=this.chatModel.get("userId");return this.chatModel.get("messages").filter((function(e){return e.get("userId")===t})).reduce((function(t,e){return 0===t.length?e.get("message"):"".concat(t," ").concat(e.get("message"))}),"")}},{key:"onEnter",value:function(){for(var t=this,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];Zn.prototype.onEnter.apply(this,i);var n=this.buildInitialQuestionFromMessageList(),a=this.getWidgetView();this.getDataController().connectionInfo.set("chatClosed",!0),this.getDataController().connectionInfo.set("lastActivity",null),this.getDataController().connectionInfo.persistLocalStorage(),this.getWidgetView().setTitle(this.getResource("title_emailForm"),"title_emailForm");var o=new w.Model({EmailForm:!0,InitialVisitorName:this.getViewController().getChatModel().get("visitorName")||"",InitialVisitorFirstName:this.getViewController().getChatModel().get("visitorFirstName")||"",InitialVisitorLastName:this.getViewController().getChatModel().get("visitorLastName")||"",InitialVisitorCompany:this.getViewController().getChatModel().get("visitorCompany")||"",InitialVisitorEmail:this.getViewController().getChatModel().get("visitorEmail")||"",InitialVisitorQuestion:n||this.getViewController().getChatModel().get("visitorQuestion")||"",InitialVisitorPhoneNumber:this.getViewController().getChatModel().get("visitorPhoneNumber")||"",RequireFirstName:this.getRequiredSetting("RequireFirstName"),RequireLastName:this.getRequiredSetting("RequireLastName"),RequireCompany:this.getRequiredSetting("RequireCompany"),RequirePhoneNumber:this.getRequiredSetting("RequirePhoneNumber"),RequireEmail:this.getRequiredSetting("RequireEmail"),RequireQuestion:this.getRequiredSetting("RequireQuestion")});o.on("formSubmit",(function(e){var i=p()(t.getWidgetView().el).find(".purechat-form.purechat-email-form");H.events.trigger("widget:spinner:show"),t.getDataController().submitEmailForm(e).done((function(r){if(r.success){var n=new Vr({rm:t.getResources(),model:o});t.getWidgetView().showChildView("content",n),t.getWidgetView().ui.restartButton.purechatDisplay("inline-block"),t.getWidgetView().$el.find(".purechat-btn-restart").on("click.RestartChat",(function(e){t.restartChat.call(t,e)})),t.getViewController().trigger("email:send",e)}else i.find(".purechat-email-error").purechatDisplay("block")})).always((function(){H.events.trigger("widget:spinner:hide")}))})),this.listenTo(this.getViewController().getChatModel(),"change",(function(t){o.set({InitialVisitorName:t.get("visitorName")||"",InitialVisitorFirstName:t.get("visitorFirstName")||"",InitialVisitorLastName:t.get("visitorLastName")||"",InitialVisitorEmail:t.get("visitorEmail")||"",InitialVisitorCompany:t.get("visitorCompany")||"",InitialVisitorQuestion:t.get("visitorQuestion")||"",InitialVisitorPhoneNumber:t.get("visitorPhoneNumber")||""})}));var s=this.options.get("isDemo"),c="PCStateEmailForm"!==this.options.get("requestedState");this.options.fromMissed=c&&!s;var l=new Ur({viewController:this.getViewController(),rm:this.getResources(),settings:this.options,chatModel:this.chatModel,model:o});a.showChildView("content",l),a.onShow()}},{key:"onExpanded",value:function(){this.getWidgetView().setTitle(this.getResource("title_emailForm"),"title_emailForm")}},{key:"onCollapsed",value:function(){var t=this.getInitialTitleResourceKey();this.getWidgetView().setTitle(this.getResource(t))}},{key:"restartChat",value:function(t){var e=this;t.stopPropagation(),p()(t.currentTarget).off("click.RestartChat"),this.getDataController().restartChat().done((function(){e.getChatModel().restartChat(),e.getViewController().resetVisitorQuestion(),e.getViewController().trigger("widget:restart")})).fail((function(){throw new Error("Failed to send email. Please try again!")}))}},{key:"onExit",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];Zn.prototype.onExit.apply(this,e),this.unbindEvents&&this.unbindEvents()}}],i&&zo(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(Zn),qo=Ho,Zo=i(2313),$o=i.n(Zo),Yo=_.ItemView.extend({template:$o(),className:"purechat-start-chat-form purechat-card",events:{"submit form":"startChatSubmit","keydown textarea":"keyDown","change @ui.userDisplayFirstName":"triggerFirstNameChange","change @ui.userDisplayLastName":"triggerLastNameChange","change @ui.userCompany":"triggerCompanyChange","change @ui.email":"triggerEmailChange","change @ui.question":"triggerQuestionChange","change @ui.phoneNumber":"triggerPhoneNumberChange"},modelEvents:{change:"render"},ui:{form:".purechat-form",userDisplayName:".purechat-name-input",userDisplayFirstName:".purechat-firstname-input",userDisplayLastName:".purechat-lastname-input",userDisplayCompany:".purechat-company-input",email:".purechat-email-input",question:".purechat-question-input",userDisplayNameError:".please-entername",emailError:".please-enteremail",questionError:".please-enterquestion",phoneNumber:".purechat-phonenumber-input",unavailablePhoneNumber:".purechat-unavailablephone-input",phoneNumberError:".please-enterphonenumber",unavailablePhoneError:".please-enterunavailablephone",userDisplayFirstNameError:".please-enterfirstname",userDisplayLastNameError:".please-enterlastname",userDisplayCompanyError:".please-entercompany"},keyDown:function(){},triggerFirstNameChange:function(){var t=p().trim(this.ui.userDisplayFirstName.val());this.options.viewController.getChatModel().set("visitorFirstName",t,{silent:!0})},triggerLastNameChange:function(){var t=p().trim(this.ui.userDisplayLastName.val());this.options.viewController.getChatModel().set("visitorLastName",t,{silent:!0})},triggerCompanyChange:function(){var t=p().trim(this.ui.userDisplayCompany.val());this.options.viewController.getChatModel().set("visitorCompany",t,{silent:!0})},triggerEmailChange:function(){var t=p().trim(this.ui.email.val());this.options.viewController.getChatModel().set("visitorEmail",t,{silent:!0})},triggerPhoneNumberChange:function(){var t=p().trim(this.ui.phoneNumber.val());this.options.viewController.getChatModel().set("visitorPhoneNumber",t,{silent:!0})},triggerQuestionChange:function(){var t=this.ui.question.val();this.options.viewController.getChatModel().set("visitorQuestion",t,{silent:!0})},startChatSubmit:function(t){try{t.preventDefault(),this.ui.form.prop("disabled",!0);var e=_.getOption(this,"FormType"),i=this.model.get("EmailForm"),r=this.options.settings.get("StartChatImmediately"),n=i?this.model.get("EmailFormAskForFirstName"):this.model.get("AskForFirstName")&&!r,a=i?this.model.get("EmailFormAskForLastName"):this.model.get("AskForLastName")&&!r,o=i?this.model.get("EmailFormAskForCompany"):this.model.get("AskForCompany")&&!r,s=i?this.model.get("EmaiLFormAskForPhoneNumber"):this.model.get("AskForPhoneNumber")&&!r,c=this.model.get("AskForEmail")&&(i||!r),l=this.model.get("AskForQuestion")||r,u=null,h=null;n&&(h=p().trim(this.ui.userDisplayFirstName.val()));var d=null;a&&(d=p().trim(this.ui.userDisplayLastName.val()));var g=null;o&&(g=p().trim(this.ui.userDisplayCompany.val()));var m=null;(c||"email"===e)&&(m=this.ui.email.val());var f=this.ui.question.val()||this.model.get("InitialVisitorQuestion");if(this.ui.form.find('[class*="please"]').purechatDisplay("none"),"string"==typeof h&&0===h.length&&this.model.get("RequireFirstName"))return this.ui.userDisplayFirstNameError.purechatDisplay("block"),this.options.viewController.triggerResizedEvent(),!1;if("string"==typeof d&&0===d.length&&this.model.get("RequireLastName"))return this.ui.userDisplayLastNameError.purechatDisplay("block"),this.options.viewController.triggerResizedEvent(),!1;if("string"==typeof m&&0===m.length&&this.model.get("RequireEmail"))return this.ui.emailError.purechatDisplay("block"),this.options.viewController.triggerResizedEvent(),!1;if("string"==typeof g&&0===g.length&&this.model.get("RequireCompany"))return this.ui.userDisplayCompanyError.purechatDisplay("block"),this.options.viewController.triggerResizedEvent(),!1;var b=this.ui.phoneNumber.val()||this.ui.unavailablePhoneNumber.val()||this.model.get("InitialVisitorPhoneNumber");if("email"===e&&s){if(0===b.length&&this.model.get("RequirePhoneNumber"))return this.ui.unavailablePhoneError.purechatDisplay("block"),this.options.viewController.triggerResizedEvent(),!1;this.ui.unavailablePhoneError.purechatDisplay("none"),this.options.viewController.triggerResizedEvent(),this.ui.unavailablePhoneNumber.val(b)}else if(s){if(0===b.length&&this.model.get("RequirePhoneNumber"))return this.ui.phoneNumberError.purechatDisplay("block"),this.options.viewController.triggerResizedEvent(),!1;this.ui.phoneNumberError.purechatDisplay("none"),this.options.viewController.triggerResizedEvent(),this.ui.phoneNumber.val(b)}if(l&&(null===f||""===p().trim(f))&&this.model.get("RequireQuestion"))return this.ui.questionError.purechatDisplay("block"),this.options.viewController.triggerResizedEvent(),!1;h=h||this.options.viewController.getPublicApi().get("visitor_firstName")||this.model.get("InitialVisitorFirstName"),d=d||this.options.viewController.getPublicApi().get("visitor_lastName")||this.model.get("InitialVisitorLastName"),g=g||this.options.viewController.getPublicApi().get("visitor_company")||this.model.get("InitialVisitorCompany"),m=m||this.options.viewController.getPublicApi().get("visitor_email")||this.model.get("InitialVisitorEmail"),f=f||this.options.viewController.getPublicApi().get("visitor_question"),b=b||this.options.viewController.getPublicApi().get("visitor_phonenumber"),h||d||(u="Visitor",h="Visitor"),u=p().trim("".concat(h," ").concat(d)),this.model.set({Name:u,FirstName:h,LastName:d,Company:g,Email:m,Question:f,PhoneNumber:b}),this.model.trigger("formSubmit",{visitorName:V.escapeHtml(V.stripDangerousTags(u||""),!0),visitorFirstName:V.escapeHtml(V.stripDangerousTags(h||""),!0),visitorLastName:V.escapeHtml(V.stripDangerousTags(d||""),!0),visitorCompany:V.escapeHtml(V.stripDangerousTags(g||""),!0),visitorEmail:V.escapeHtml(V.stripDangerousTags(m||""),!0),visitorQuestion:V.escapeHtml(V.stripDangerousTags(f||""),!1),visitorPhoneNumber:V.escapeHtml(V.stripDangerousTags(b||""),!0)})}finally{this.ui.form.prop("disabled",!0)}},isMobile:function(){return this.options.settings.useMobile()&&this.options.settings.isDesktopDimension()},initialize:function(){this.startChatSubmit=n().debounce(this.startChatSubmit.bind(this),1e3,!0)}}),Xo=i(5388),Go=i.n(Xo),Jo=Yo.extend({template:Go(),className:"purechat-start-chat-formauto",templateHelpers:function(){var t=this,e=this.options.rm.get("Id");return{isMobile:function(){return t.isMobile()},chatStartedMessage:po(e,"chat_startedMessage",this.model.get("WidgetStringOverrides")||[],this.getResource("chat_startedMessage")||"")}},isMobile:function(){return this.options.settings.useMobile()&&!this.options.settings.isDesktopDimension()},format:function(t){var e=V.formatWhitespace(t.replace(/\n/g," <br/> "));return V.linkify(e)},keyDown:function(t){return!(t.keyCode===Fi.KeyCodes.Enter&&!t.shiftKey&&(t.ctrlKey?(this.ui.question.val(this.ui.question.val()+"\n"),0):(this.startChatSubmit(t),1)))},initialize:function(){var t=this;this._originalOnRender=this.onRender,this.onRender=function(){return t._originalOnRender()}},onRender:function(){var t=this,e=this.$(".purechat-new-thought").html();this.$(".purechat-new-thought").html(this.format(e)),this.getOption("settings").on("change",(function(){var e=t.getOption("settings").get("StringResources").chat_startedMessage;t.$(".purechat-new-thought").html(t.format(e))}))}});function Ko(t){return Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ko(t)}function Qo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ts(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function es(){return es="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,i){var r=is(t,e);if(r){var n=Object.getOwnPropertyDescriptor(r,e);return n.get?n.get.call(arguments.length<3?t:i):n.value}},es.apply(this,arguments)}function is(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=as(t)););return t}function rs(t,e){return rs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rs(t,e)}function ns(t,e){if(e&&("object"===Ko(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function as(t){return as=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},as(t)}var os=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rs(t,e)}(o,t);var e,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=as(r);if(n){var i=as(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return ns(this,t)});function o(){return Qo(this,o),a.apply(this,arguments)}return e=o,i=[{key:"name",get:function(){return"inactive"}},{key:"stateSettings",get:function(){return{shouldBeInRoom:!1,UiVisiblity:{}}}},{key:"getRequiredSetting",value:function(t){var e=this.getWidgetSettings().get(t);return void 0===e||Boolean(e)}},{key:"onEnter",value:function(){var t=this;Zn.prototype.onEnter.apply(this,arguments),this.getDataController().checkChatAvailable().done((function(e){var i=t.getViewController().getChatModel();t.getWidgetView().$el.find(".purechat-start-chat-button-container button").html("Start Chat"),e.available||"WidgetDisabled"!==e.reason&&"ChatQuotaExceeded"!==e.reason&&"IpIsbanned"!==e.reason||t.getWidgetSettings().set("UnavailableBehavior",Fi.UnavailableBehaviors.ShowMessage),i.set("operatorsAvailable",e.available);var r=t.options.get("isDemo")&&t.options.get("requestedState")===Fi.WidgetStates.EmailForm;if(e.available){t.getWidgetView().onShow();var n=t.getWidgetSettings(),a=n.useMobile()&&!n.isDesktopDimension(),o=t.getInitialTitleResourceKey();a&&!t.getWidgetView().widgetShown()?t.getWidgetView().setTitle(t.getResource(o),o):t.getWidgetView().setExpandedTitle(t.getResource(o),o);var s=new w.Model({AskForFirstName:t.getWidgetSettings().get("AskForFirstName"),AskForLastName:t.getWidgetSettings().get("AskForLastName"),AskForEmail:t.getWidgetSettings().get("AskForEmail"),AskForCompany:t.getWidgetSettings().get("AskForCompany"),AskForQuestion:t.getWidgetSettings().get("AskForQuestion"),AskForPhoneNumber:t.getWidgetSettings().get("AskForPhoneNumber"),InitialVisitorFirstName:i.get("visitorFirstName")||"",InitialVisitorLastName:i.get("visitorLastName")||"",InitialVisitorEmail:i.get("visitorEmail")||"",InitialVisitorCompany:i.get("visitorCompany")||"",InitialVisitorQuestion:i.get("visitorQuestion")||"",InitialVisitorPhoneNumber:i.get("visitorPhoneNumber")||"",RequireFirstName:t.getRequiredSetting("RequireFirstName"),RequireLastName:t.getRequiredSetting("RequireLastName"),RequireCompany:t.getRequiredSetting("RequireCompany"),RequirePhoneNumber:t.getRequiredSetting("RequirePhoneNumber"),RequireEmail:t.getRequiredSetting("RequireEmail"),RequireQuestion:t.getRequiredSetting("RequireQuestion"),WidgetStringOverrides:t.getWidgetSettings().get("WidgetStringOverrides")}),c=t.getWidgetSettings().get("StartChatImmediately")?Jo:Yo;t.chatForm=new c({viewController:t.getViewController(),rm:t.getResources(),model:s,settings:t.options}),s.on("formSubmit",(function(e){return t.getViewController().onFormSubmitted(e)})),t.settings.browserIsUnsupported()?i.set("state",Fi.WidgetStates.Unsupported):r?i.set("state",Fi.WidgetStates.EmailForm):(t.getWidgetView().showChildView("content",t.chatForm),t.listenTo(i,"change:operatorsAvailable",(function(t,e){e||i.set("state",Fi.WidgetStates.Unavailable)})),t.listenTo(i,"change",(function(t){s.set({InitialVisitorName:t.get("visitorName")||"",InitialVisitorFirstName:t.get("visitorFirstName")||"",InitialVisitorLastName:t.get("visitorLastName")||"",InitialVisitorEmail:t.get("visitorEmail")||"",InitialVisitorCompany:t.get("visitorCompany")||"",InitialVisitorQuestion:t.get("visitorQuestion")||"",InitialVisitorPhoneNumber:t.get("visitorPhoneNumber")||""})})),(t.widgetView.model.get("expanded")||t.getWidgetSettings().get("UnavailableBehavior")===Fi.UnavailableBehaviors.HideWidget)&&(t.widgetView.model.get("expanded")&&t.getWidgetView().setTitle(t.getResource("title_initial_open"),"title_initial_open"),window._pcWidgetInitializer.disableAvailabilityPings||t.startAvailabilityPolling()),t.options.get("enableAvailabilityPolling")&&t.startAvailabilityPolling())}else r?i.set("state",Fi.WidgetStates.EmailForm):i.set("state",Fi.WidgetStates.Unavailable)}))}},{key:"onExit",value:function(){Zn.prototype.onExit.apply(this,arguments),this.stopListening(this.getViewController().getChatModel())}},{key:"onExpanded",value:function(){this.getDataController().checkInRoom()?this.getChatModel().set("state",Fi.WidgetStates.Activating):(this.getWidgetView().setExpandedTitle(this.getResource("title_initial_open"),"title_initial_open"),window._pcWidgetInitializer.disableAvailabilityPings||this.startAvailabilityPolling())}},{key:"onCollapsed",value:function(){var t=this.getInitialTitleResourceKey();this.getWidgetView().setTitle(this.getResource(t),t),this.getWidgetSettings().get("UnavailableBehavior")!==Fi.UnavailableBehaviors.HideWidget&&this.stopAvailabilityPolling()}},{key:"startChatAutomatically",value:function(){var t=this,e=p().Deferred(),i={visitorName:"Visitor"},r=this.getWidgetSettings();return this.getDataController().checkChatAvailable().done((function(n){t.getChatModel().set("operatorsAvailable",n.available),n.available?t.getDataController().startChat(i).done((function(n){V.GaEvent(r,"GaTrackingChat","GAChatEvent"),t.getWidgetView().$el.find(".purechat-init-form").find(".general-error").text("").purechatDisplay("none"),t.status.chatInfo=n,t.status.initialData=i,t.getChatModel().set("visitorName",i.visitorName),t.getChatModel().set("visitorEmail",i.visitorEmail),t.getChatModel().set("visitorQuestion",i.visitorQuestion),t.getChatModel().set("roomId",n.get("roomId")),t.getChatModel().set("userId",n.get("userId")),t.getChatModel().set("authToken",n.get("authToken")),t.getChatModel().set("chatId",n.get("chatId")),t.getChatModel().set("state",Fi.WidgetStates.Chatting),t.getDataController().connectionInfo.persistLocalStorage(),e.resolve()})).fail((function(){t.getWidgetView().$el.find(".purechat-init-form").find(".general-error").text("Unable to start chat. Please try again").purechatDisplay("block"),e.reject()})).always((function(){t.submittingChat=!1})):(t.getChatModel().set("state",Fi.WidgetStates.Unavailable),e.resolve())})),e.promise()}},{key:"destroy",value:function(){var t=this.getViewController().getChatModel();this.stopListening(t),es(as(o.prototype),"destroy",this).call(this)}}],i&&ts(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(Zn),ss=os;function cs(t){return cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cs(t)}function ls(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ps(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function us(t,e){return us=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},us(t,e)}function hs(t,e){if(e&&("object"===cs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ds(t){return ds=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ds(t)}var gs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&us(t,e)}(o,t);var e,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ds(r);if(n){var i=ds(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return hs(this,t)});function o(){return ls(this,o),a.apply(this,arguments)}return e=o,i=[{key:"name",get:function(){return"initializing"}},{key:"stateSettings",get:function(){return{UiVisiblity:{}}}},{key:"onEnter",value:function(){var t=this;Zn.prototype.onEnter.apply(this,arguments),this.getWidgetView().setExpandedTitle(this.getResource("title_initial_open"),"title_initial_open");var e=new RegExp("^https?://".concat(document.location.hostname),"i");document.referrer.match(e)||(localStorage.acquisitionSource=document.referrer);var i=this.getDataController().checkInRoom(),r=!!i&&this.getDataController().connectionInfo.isChatPastGracePeriod();i&&this.chatModel.get("isPoppedOut")&&this.getDataController().connectionInfo.loadChatServerUrl(),this.syncWithContact().done((function(){if(r)t.getDataController().restartChat().done((function(){t.getChatModel().restartChat(),t.getViewController().resetVisitorQuestion(),t.getViewController().trigger("widget:restart")}));else{var e=i?Fi.WidgetStates.Activating:Fi.WidgetStates.Inactive;t.getChatModel().set("state",e)}}))}}],i&&ps(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(Zn),ms=gs;function fs(t){return fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fs(t)}function bs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ys(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vs(){return vs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,i){var r=ws(t,e);if(r){var n=Object.getOwnPropertyDescriptor(r,e);return n.get?n.get.call(arguments.length<3?t:i):n.value}},vs.apply(this,arguments)}function ws(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xs(t)););return t}function _s(t,e){return _s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_s(t,e)}function Cs(t,e){if(e&&("object"===fs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function xs(t){return xs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xs(t)}var ks=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_s(t,e)}(o,t);var e,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xs(r);if(n){var i=xs(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return Cs(this,t)});function o(){return bs(this,o),a.apply(this,arguments)}return e=o,i=[{key:"name",get:function(){return"unavailable"}},{key:"stateSettings",get:function(){return{shouldBeInRoom:!1}}},{key:"getRequiredSetting",value:function(t){var e=this.getWidgetSettings().get(t);return void 0===e||Boolean(e)}},{key:"onEnter",value:function(){var t=this;Zn.prototype.onEnter.apply(this,arguments);var e=this.settings.get("IPIsBanned")?Fi.UnavailableBehaviors.ShowMessage:this.options.get("UnavailableBehavior"),i=this.getWidgetSettings(),r=this.getInitialTitleResourceKey();this.getWidgetView().$el.find(".purechat-start-chat-button-container button").html("Start Chat");var n=this.options.get("AccountId"),a=i.get("isDemo"),o=window.rubyApi||n===Fi.RubyAccountId||!1;if(a||!o||e!==Fi.UnavailableBehaviors.HideWidget&&e!==Fi.UnavailableBehaviors.ShowMessage||ue.log(ue.LEVELS.INFO,"[Ruby] Widget Legacy (".concat(i.get("Id"),") redirecting to unavailable - path: ").concat(e)),e===Fi.UnavailableBehaviors.HideWidget)this.getWidgetView().onShow();else if(e===Fi.UnavailableBehaviors.ShowMessage)this.getWidgetView().onShow(),this.widgetView.model.get("expanded")?this.getWidgetView().setTitle(this.getResource("title_noOperators"),"title_noOperators"):this.getWidgetView().setTitle(this.getResource(r),r),p()(this.getWidgetView().getRegion("content").el).html('<div data-resourcekey="error_noOperators" class="purechat-closedmessage-container purechat-no-operators">'.concat(this.getResource("error_noOperators"),"</div>"));else{this.getWidgetView().onShow(),this.widgetView.model.get("expanded")?this.getWidgetView().setExpandedTitle(this.getResource("title_emailForm"),"title_emailForm"):this.getWidgetView().setTitle(this.getResource(r),r);var s=new w.Model({AskForFirstName:this.settings.get("AskForFirstName"),AskForLastName:this.settings.get("AskForLastName"),AskForEmail:!0,AskForCompany:this.settings.get("AskForCompany"),AskForQuestion:!0,AskForPhoneNumber:this.settings.get("AskForPhoneNumber"),EmailForm:!0,EmailFormAskForFirstName:this.settings.get("EmailFormAskForFirstName"),EmailFormAskForLastName:this.settings.get("EmailFormAskForLastName"),EmailFormAskForCompany:this.settings.get("EmailFormAskForCompany"),EmailFormAskForPhoneNumber:this.settings.get("EmailFormAskForPhoneNumber"),InitialVisitorFirstName:this.getViewController().getChatModel().get("visitorFirstName")||"",InitialVisitorLastName:this.getViewController().getChatModel().get("visitorLastName")||"",InitialVisitorEmail:this.getViewController().getChatModel().get("visitorEmail")||"",InitialVisitorCompany:this.getViewController().getChatModel().get("visitorCompany")||"",InitialVisitorQuestion:this.getViewController().getChatModel().get("visitorQuestion")||"",InitialVisitorPhoneNumber:this.getViewController().getChatModel().get("visitorPhoneNumber")||"",RequireFirstName:this.getRequiredSetting("RequireFirstName"),RequireLastName:this.getRequiredSetting("RequireLastName"),RequireCompany:this.getRequiredSetting("RequireCompany"),RequirePhoneNumber:this.getRequiredSetting("RequirePhoneNumber"),RequireEmail:this.getRequiredSetting("RequireEmail"),RequireQuestion:this.getRequiredSetting("RequireQuestion"),WidgetStringOverrides:this.getWidgetSettings().get("WidgetStringOverrides")});s.on("formSubmit",(function(e){var i=p()(t.getWidgetView().el).find(".purechat-form.purechat-email-form");H.events.trigger("widget:spinner:show"),t.getDataController().submitEmailForm(e).done((function(r){if(r.success){var n=new Vr({rm:t.getResources(),model:s});t.getWidgetView().showChildView("content",n),t.getWidgetView().ui.restartButton.purechatDisplay("inline-block"),t.getWidgetView().$el.find(".purechat-btn-restart").on("click.RestartChat",(function(e){return t.restartChat.call(t,e)})),t.getViewController().trigger("email:send",e)}else i.find(".purechat-email-error").purechatDisplay("block")})).fail((function(){i.find(".purechat-email-error").purechatDisplay("block")})).always((function(){H.events.trigger("widget:spinner:hide")}))})),this.listenTo(this.getViewController().getChatModel(),"change",(function(t){s.set({InitialVisitorName:t.get("visitorName")||"",InitialVisitorFirstName:t.get("visitorFirstName")||"",InitialVisitorLastName:t.get("visitorLastName")||"",InitialVisitorEmail:t.get("visitorEmail")||"",InitialVisitorCompany:t.get("visitorCompany")||"",InitialVisitorQuestion:t.get("visitorQuestion")||"",InitialVisitorPhoneNumber:t.get("visitorPhoneNumber")||""})}));var c=new Yo({viewController:this.getViewController(),rm:this.getResources(),model:s,settings:this.options,FormType:"email"});this.getWidgetView().showChildView("content",c)}this.listenTo(this.getChatModel(),"change:operatorsAvailable",(function(e,i){i&&t.getChatModel().set("state",Fi.WidgetStates.Inactive)}));var l=i.get("UnavailableBehavior")===Fi.UnavailableBehaviors.HideWidget&&i.anyButtonEnabled();(this.widgetView.model.get("expanded")&&!l||l&&this.getChatModel().get("operatorsAvailable")||this.options.get("enableAvailabilityPolling")||o)&&(window._pcWidgetInitializer.disableAvailabilityPings||this.startAvailabilityPolling())}},{key:"onExpanded",value:function(){this.getDataController().checkInRoom()?this.getChatModel().set("state",Fi.WidgetStates.Activating):(1===(this.settings.get("IPIsBanned")?Fi.UnavailableBehaviors.ShowMessage:this.options.get("UnavailableBehavior"))?this.getWidgetView().setTitle(this.getResource("title_noOperators"),"title_noOperators"):this.getWidgetView().setExpandedTitle(this.getResource("title_emailForm"),"title_emailForm"),window._pcWidgetInitializer.disableAvailabilityPings||this.startAvailabilityPolling())}},{key:"onCollapsed",value:function(){var t=this.getWidgetSettings(),e=this.getInitialTitleResourceKey();this.getWidgetView().setTitle(this.getResource(e));var i=t.get("UnavailableBehavior");(i!==Fi.UnavailableBehaviors.HideWidget||i===Fi.UnavailableBehaviors.HideWidget&&!t.anyButtonEnabled())&&this.stopAvailabilityPolling()}},{key:"restartChat",value:function(t){var e=this;p()(t.currentTarget).off("click.RestartChat"),t.stopPropagation(),this.getDataController().restartChat().done((function(){e.getChatModel().restartChat(),e.getViewController().resetVisitorQuestion(),e.getViewController().trigger("widget:restart")})).fail((function(){throw new Error("Failed to send email. Please try again!")}))}},{key:"destroy",value:function(){this.stopListening(this.getChatModel()),vs(xs(o.prototype),"destroy",this).call(this)}}],i&&ys(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(Zn),js=ks,Is=i(4014),Ss=i.n(Is),Ps=_.ItemView.extend({template:Ss(),className:"purechat-unsupported-browser"});function Ts(t){return Ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(t)}function Rs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ms(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function As(t,e){return As=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},As(t,e)}function Es(t,e){if(e&&("object"===Ts(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Os(t){return Os=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Os(t)}var Ws=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&As(t,e)}(o,t);var e,i,r,n,a=(r=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Os(r);if(n){var i=Os(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return Es(this,t)});function o(){return Rs(this,o),a.apply(this,arguments)}return e=o,i=[{key:"name",get:function(){return"unsupported"}},{key:"stateSettings",get:function(){return{UiVisiblity:{}}}},{key:"onEnter",value:function(){Zn.prototype.onEnter.apply(this,arguments),this.getWidgetView().showChildView("content",new Ps)}}],i&&Ms(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(Zn),Ds={PCStateActivating:ta,PCStateChatting:xo,PCStateClosed:No,PCStateEmailForm:qo,PCStateInactive:ss,PCStateInitializing:ms,PCStateUnavailable:js,PCStateUnsupported:Ws};function Ns(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function Us(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ns(Object(i),!0).forEach((function(e){Bs(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Ns(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Bs(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function zs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vs(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ls(t,e,i){return e&&Vs(t.prototype,e),i&&Vs(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}var Fs=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p().noop;zs(this,t),this.eventName=e,this.callback=i||p().noop}return Ls(t,[{key:"applyCallback",value:function(t){this.callback.apply(window.vtftw,[t])}}]),t}(),Hs=function(t){var e=window.history[t],i=window.location.href;return function(){var r=arguments,n=e.apply(this,arguments);return setTimeout((function(){if(i!==window.location.href){i=window.location.href;var e,n="purechat:".concat(t);"function"==typeof Event?e=new Event(n):(e=document.createEvent("Event")).initEvent(n,!0,!0),e.arguments=r,window.dispatchEvent(e)}}),0),n}},qs=function(t){return function(t){if("null"!==t&&null!==t)return t}(window.localStorage.getItem(t))},Zs=function(t,e){window.localStorage.setItem(t,e)},$s=function(){function t(e,i){zs(this,t),this.config=Us({},e),this.accountId=i,this.additionalInfo={},this.pingCount=0,this.pingDelay=this.config.pingInterval,this.pid=null,this.pingInterval=null,this.inactivityTimeout=null,this.userActive=!0,this.userAlwaysActive=!1,this.firstLoad=!0,this.events=[],this.initialized=!1;var r=this.updatePageId.bind(this);window.history.pushState=Hs("pushState"),window.history.replaceState=Hs("replaceState"),window.addEventListener("purechat:pushState",r),window.addEventListener("purechat:replaceState",r),window.addEventListener("hashchange",r);var n=this.resetTimer.bind(this);document.addEventListener("keypress",n),document.addEventListener("mousemove",n),e.widgetElement&&(e.widgetElement.addEventListener("keypress",n),e.widgetElement.addEventListener("mousemove",n)),this.resetTimer()}return Ls(t,[{key:"init",value:function(){this.pid=(new Date).getTime(),this.activateUser(),this.initialized=!0}},{key:"sessionItemName",get:function(){return"s_".concat(this.accountId)}},{key:"lastCheckinItemName",get:function(){return"lastCheckin_".concat(this.accountId)}},{key:"isActiveSession",get:function(){var t=Date.now(),e=qs(this.lastCheckinItemName);return!(e&&t-e>=this.config.sessionTimeout)}},{key:"doPing",value:function(){var t=this;if(this.userActive){var e=null,i=null,r=qs("vc"),n=qs("vn");try{e=qs("i"),this.isActiveSession?i=qs(this.sessionItemName):function(t){window.localStorage.removeItem(t)}(this.sessionItemName)}catch(t){}var a={i:e,s:i,f:this.firstLoad.toString(),c:this.pingCount,pid:this.pid,sid:this.accountId,url:document.location.href,ref:document.referrer||"Direct",ai:JSON.stringify(this.additionalInfo),nv:!0};r&&(a.vc=r),n&&(a.vn=n),p().ajax({url:this.config.pingQueueUrl,method:"POST",contentType:"application/json; charset=utf-8",data:JSON.stringify(a),xhrFields:{withCredentials:!0},success:function(e){if(t.firstLoad=!1,!e.i)return!1;t.pingCount+=1,t.pingDelay=t.config.pingInterval,t.pingInterval=setTimeout(t.doPing.bind(t),t.pingDelay),(e.e||[]).forEach((function(e){return t.trigger(e.eventName,e)}));try{return Zs("i",e.i),Zs(t.lastCheckinItemName,Date.now()),e.s&&Zs(t.sessionItemName,e.s),e.vc&&Zs("vc",e.vc),e.vn&&Zs("vn",e.vn),!0}catch(t){return!1}},error:function(){t.pingDelay=2*t.pingDelay,t.pingInterval=setTimeout(t.doPing.bind(t),t.pingDelay)}})}}},{key:"updatePageId",value:function(){this.pid=(new Date).getTime()}},{key:"activateUser",value:function(){this.userActive=!0,this.pingInterval||(this.pingDelay=this.config.pingInterval,this.pingInterval=setTimeout(this.doPing.bind(this),0))}},{key:"inactivateUser",value:function(){this.userActive=!1,this.pingInterval&&(clearTimeout(this.pingInterval),this.pingInterval=null)}},{key:"resetTimer",value:function(){this.activateUser(),this.inactivityTimeout&&(clearTimeout(this.inactivityTimeout),this.inactivityTimeout=null),this.userAlwaysActive||(this.inactivityTimeout=setTimeout(this.inactivateUser.bind(this),3e5))}},{key:"setUserAlwaysActive",value:function(){this.userAlwaysActive=!0,this.resetTimer()}},{key:"unsetUserAlwaysActive",value:function(){this.userAlwaysActive=!1,this.resetTimer()}},{key:"setAdditionalInfo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.additionalInfo=Us(Us({},this.additionalInfo),t)}},{key:"trigger",value:function(t,e){this.events.filter((function(e){return e.eventName===t})).forEach((function(t){return t.applyCallback(e)}))}},{key:"on",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p().noop;this.events.push(new Fs(t,e))}},{key:"off",value:function(t){this.events=this.events.filter((function(e){return e.eventName!==t}))}}]),t}(),Ys=$s,Xs=i(1892),Gs=i.n(Xs),Js=i(5760),Ks=i.n(Js),Qs=i(8311),tc=i.n(Qs),ec=i(1615),ic=i.n(ec),rc=i(8060),nc=i.n(rc),ac=i(4865),oc=i.n(ac),sc=i(3537),cc={attributes:{id:"pcwidget-styles"}};cc.styleTagTransform=oc(),cc.setAttributes=ic(),cc.insert=tc().bind(null,"head"),cc.domAPI=Ks(),cc.insertStyleElement=nc(),Gs()(sc.Z,cc);var lc=sc.Z&&sc.Z.locals?sc.Z.locals:void 0;function pc(t){return pc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(t)}function uc(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hc(t,e){return hc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hc(t,e)}function dc(t,e){if(e&&("object"===pc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return gc(t)}function gc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mc(t){return mc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mc(t)}var fc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hc(t,e)}(s,t);var e,i,r,a,o=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=mc(r);if(a){var i=mc(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return dc(this,t)});function s(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),e=o.call(this,t),t.get("apiCdnServerUrl")||t.set("apiCdnServerUrl","https://cdnva2.purechat.com/api"),H.pureServerUrl=t.get("pureServerUrl");var i=new pn({isWidget:t.get("isWidget"),position:t.get("position"),pureServerUrl:t.get("pureServerUrl"),cdnServerUrl:t.get("cdnServerUrl")||t.get("pureServerUrl"),apiCdnServerUrl:t.get("apiCdnServerUrl"),chatServerUrl:t.get("chatServerUrl"),widgetType:Fi.WidgetType.Tab,isPoppedOut:t.get("poppedOut"),State:Fi.WidgetStates.Inactive,messages:new hn,operators:new gn,origin:t.get("origin")||window.location.href,userId:t.get("userId"),expanded:t.get("expanded")});e.setChatModel(i),e.registerPublicApiEvents(),t.get("isDemo")&&(i.set("operatorsAvailable",!0),i.set("visitorName",t.get("visitorName")));var r=e.options.isMobileRequest()&&!e.options.isDesktopDimension(),n=e.options.get("MobileDisplayType")===Fi.MobileDisplayTypes.Hidden;return r&&n&&(t.set("ChatBoxEnabled",!1),e.trigger("widget:ready")),t.browserIsUnsupported()||!t.get("ChatBoxEnabled")&&!t.get("isDemo")?t.get("VisitorTrackingEnabled")&&(e.setupPageActivityTest(),e.startVisitorTracking()):(e.setupDataController().done(e.controllerReady.bind(gc(e))).fail((function(){return e.trigger("widget:fail")})),e.on("all",function(){this.state&&this.state.triggerMethod.apply(this.state,arguments)}.bind(gc(e))),e.on("chat:start",(function(){return e.disableVisitorTrackingInactivity()})),e.on("chat:end",(function(){return e.enableVisitorTrackingInactivity()}))),e}return e=s,(i=[{key:"setChatModel",value:function(t){this.chatModel=t}},{key:"getChatModel",value:function(){return this.chatModel}},{key:"setDataController",value:function(t){this.dc=t}},{key:"getDataController",value:function(){return this.dc}},{key:"setupDataController",value:function(){var t=this.options.get("dataController").loadWidgetSettings();return this.setDataController(this.options.get("dataController")),t}},{key:"controllerReady",value:function(){var t=this,e=this.options.get("dataController").widgetSettings.widgetConfig,i=p().extend({},e,this.options.toJSON());if(this.options.set(i),this.isExcludedPath())return this.options.set("ChatBoxEnabled",!1),this.startVisitorTracking(),this.trigger("widget:ready"),!1;this.setupPageActivityTest(),this.rm=this.options;var r=this.getDataController().widgetSettings,n=p().extend({},r,this.options.toJSON());this.options.set(n);var a=this.getDataController(),o=this.options.isMobileRequest()&&this.options.isAllowedOnMobile()&&!this.options.isDesktopDimension();a.checkChatAvailable().done((function(e){t.chatModel.set("operatorsAvailable",e.available);var i=o?e.available?"mobile_title_initial":"mobile_title_unavailable_initial":e.available?"title_initial":"title_unavailable_initial";p()(".purechat-button-expand").find(".purechat-button-text").text(t.options.getResource(i),i),t.chatModel.on("change:operatorsAvailable",t.operatorsAvailableChanged.bind(t)),p()(".purechat-button-expand").filter(":not(.purechat)").click((function(e){p()(e.target).hasClass("pc-icon-caret-down")||p()(e.target).hasClass("purechat-super-minimize-link-button")||!(a.options.ForcePopout&&!t.chatModel.get("isPoppedOut")||a.options.usePrototypeFallback)?t.widgetLayout.triggerMethod("expand",e,{collapse:p()(e.target).hasClass("purechat-btn-collapse")||p()(e.target).hasClass("pc-icon-minus"),superMinimize:p()(e.target).hasClass("pc-icon-caret-down")||p()(e.target).hasClass("pc-icon-caret-up")||p()(e.target).hasClass("purechat-super-minimize-link-button")}):t.popoutChatOnExpand(a,a.options,t.chatModel,t.state)})),a.connectionInfo.isInChat()||a.connectionInfo.loadFromLocalStorage(),t.chatModel.set("userId",a.connectionInfo.get("userId")),t.widgetLayout=new Yr({viewController:t,rm:t.rm,model:t.chatModel,widgetSettings:t.options,cssModules:lc}),t.widgetLayout.render(),!a.connectionInfo.get("chatActiveInOtherWindow")&&a.connectionInfo.get("disabled")&&a.connectionInfo.get("roomId")?t.widgetLayout.$el.purechatDisplay("none"):!a.connectionInfo.get("chatActiveInOtherWindow")||t.chatModel.get("expanded")||t.options.get("isDemo")||t.widgetLayout.triggerMethod("collapse");var r=t.getStyleType(),n=r===Fi.StyleTypes.Minimal||r===Fi.StyleTypes.Mobile;t.widgetLayout.$el.addClass(Fi.StyleTypesMappings[r]),V.setCssVars("pcwidget-styles",t.options.get("Color"),n),setTimeout((function(){return t.stylesLoaded()}),0)}))}},{key:"stylesLoaded",value:function(){var t=this,e=n().isString(this.options.get("renderInto"))?p()(this.options.get("renderInto")):this.options.get("renderInto");e.append(this.widgetLayout.$el),e.on("selectionShow",(function(){return t.onSelectionShow()})),this.bindGobalCommand(this.widgetLayout.$el),this.options.get("dataController").options.chatModel=this.getChatModel(),this.listenTo(this.chatModel,"change:state",this.stateChange),this.chatModel.set("state",this.options.get("initialState")||Fi.WidgetStates.Initializing),this.listenTo(this.widgetLayout.$el,"change:state",this.stateChange),this.widgetLayout.$el.purechatDisplay(),this.widgetLayout.triggerMethod("afterInsertion"),this.trigger("widget:ready"),this.triggerWidgetAvailableChange(this.chatModel.get("operatorsAvailable")),this.chatModel.get("expanded")||!this.options.useMobile()||this.options.isDesktopDimension()||setTimeout((function(){return t.widgetLayout.collapseMobile()}),1e3),this.timeBasedTrigger=new Sn(this),this.urlBaseTrigger=new Wn(this),this.startVisitorTracking()}},{key:"triggerWidgetAvailableChange",value:function(t){this.chatModel.trigger(t?"widget:available":"widget:unavailable")}},{key:"operatorsAvailableChanged",value:function(t,e){var i=this,r=this.options.get("AccountId"),n=window.rubyApi||r===Fi.RubyAccountId||!1;if(!this.options.get("isDemo")&&!e&&n){var a=this.options.get("Id");ue.log(ue.LEVELS.INFO,"[Ruby] Widget Legacy (".concat(a,") went unavailable"))}var o=p()(".purechat-button-expand");e?(o.addClass("purechat-button-available"),o.removeClass("purechat-button-unavailable"),o.removeClass("purechat-button-hidden"),o.removeAttr("disabled")):(this.options.get("UnavailableBehavior")!==Fi.UnavailableBehaviors.HideWidget||this.options.anyButtonEnabled()||(o.removeClass("purechat-button-available"),o.addClass("purechat-button-unavailable"),o.attr("disabled","disabled")),o.each((function(t,e){var r=p()(e),n=r.attr("HideUnavailable");(n?"true"===n:i.options.get("UnavailableBehavior")===Fi.UnavailableBehaviors.HideWidget&&!i.options.anyButtonEnabled())&&r.addClass("purechat-button-hidden")}))),this.triggerWidgetAvailableChange(e)}},{key:"popoutChatOnExpand",value:function(t,e,i,r,n){i.set("poppedOut",!0),r.disable(),t.connectionInfo.persistLocalStorage();var a,o=(a={widgetId:e.widgetId,userId:t.connectionInfo.get("userId"),displayName:t.connectionInfo.get("visitorName"),authToken:t.connectionInfo.get("authToken"),roomId:t.connectionInfo.get("roomId"),chatId:t.connectionInfo.get("chatId"),roomType:t.connectionInfo.get("roomType"),origin:encodeURIComponent(i?i.get("origin"):""),contactId:window.localStorage.getItem("i")},Object.keys(a).map((function(t){return[t,null==a[t]?"":a[t]].join("=")})).join("&")),s="".concat(Z().dashboardRootUrl,"/visitorwidget/chatwindow?").concat(o);window.openedWindow=n?window.open(s,"_blank"):window.open(s,"purechatwindow","menubar=no, location=no, resizable=yes, scrollbars=no, status=no, width=480, height=640"),this.trigger("widget:poppedOut")}},{key:"resetVisitorQuestion",value:function(){this.getChatModel().set("visitorQuestion",null)}},{key:"triggerResizedEvent",value:function(){var t=this;this.resizeTrigger&&clearTimeout(this.resizeTrigger),this.resizeTrigger=setTimeout((function(){if(t.resizeTrigger=null,t.widgetLayout&&t.widgetLayout.$el){var e=t.widgetLayout.$el.height(),i=t.widgetLayout.$el.width();t.widgetLayout.trigger("resized",{height:e,width:i}),t.widgetLayout.trigger("widget:resized",{height:e,width:i}),t.resizeTrigger2&&clearTimeout(t.resizeTrigger2),t.resizeTrigger2=setTimeout((function(){t.resizeTrigger2=null,t.widgetLayout.trigger("resized",{height:e,width:i}),t.widgetLayout.trigger("widget:resized",{height:e,width:i})}),1e3)}}),0)}},{key:"unbindAppLevelCommands",value:function(){H.events.off("roomHostChanged")}},{key:"bindAppLevelCommands",value:function(){var t=this;try{this.unbindAppLevelCommands()}catch(t){}H.events.on("roomHostChanged",(function(e){(t.options.get("MobileDisplayType")===Fi.MobileDisplayTypes.MobileOptimized&&t.options.get("RequestFromMobileDevice")||!t.options.get("RequestFromMobileDevice"))&&t.getPublicApi().trigger("room:hostChanged",e)}))}},{key:"getStyleType",value:function(){var t=this.options.isDesktopDimension(),e=this.options.isMobileRequest(),i=this.options.isAllowedOnMobile();return e&&i&&!t?Fi.StyleTypes.Mobile:"classic"===this.options.get("StyleName").toLowerCase()?Fi.StyleTypes.Classic:Fi.StyleTypes.Minimal}},{key:"getStyleURL",value:function(){var t=this.getStyleType(),e="".concat(this.options.get("cdnServerUrl"),"/assets"),i=Fi.StyleTypesMappings[t];return"".concat(e,"/").concat(i,".").concat(13836,".js")}},{key:"bindVisitorTrackingEvents",value:function(){var t=this;this.vtftw&&this.vtftw.on("purechat:startChat",(function(e){t.onFormSubmitted({operatorJoinIds:e.eventArgs.operatorJoinIds||[],initiator:1,startedByOperator:!0})}))}},{key:"unbindVisitorTrackingEvents",value:function(){this.vtftw&&this.vtftw.off("purechat:startChat")}},{key:"isBanned",value:function(){var t=this.options.get("IPIsBanned");if(!t)return!1;try{return JSON.parse(t.toString().toLowerCase())}catch(t){return!1}}},{key:"startVisitorTracking",value:function(){if(this.options.get("VisitorTrackingEnabled")&&!this.options.get("isDemo")&&n().find(this.options.get("Features"),(function(t){return t.Status!==Fi.FeatureStatus.Off&&t.Feature===Fi.Features.VisitorTracking}))&&(!this.vtftw||!this.vtftw.initialized)){var t={widgetId:this.options.get("overrideWidgetId")||this.options.get("Id"),widgetName:this.options.get("Name")};this.isBanned()&&(t.isBanned=!0),!Z().widgetElement&&this.options.get("ChatBoxEnabled")&&(Z().widgetElement=this.widgetLayout.el),this.vtftw=new Ys(Z(),this.options.get("AccountId")),this.vtftw.setAdditionalInfo(t),this.vtftw.init(),this.bindVisitorTrackingEvents()}}},{key:"disableVisitorTrackingInactivity",value:function(){this.vtftw&&this.vtftw.setUserAlwaysActive()}},{key:"enableVisitorTrackingInactivity",value:function(){this.vtftw&&this.vtftw.unsetUserAlwaysActive()}},{key:"coalesceStartChatData",value:function(t){var e=this.getChatModel();return(!e.get("visitorFirstName")||t.visitorFirstName&&e.get("visitorFirstName")!==t.visitorFirstName)&&e.set("visitorFirstName",t.visitorFirstName),(!e.get("visitorLastName")||t.visitorLastName&&e.get("visitorLastName")!==t.visitorLastName)&&e.set("visitorLastName",t.visitorLastName),(!e.get("visitorName")||t.visitorName&&e.get("visitorName")!==t.visitorName)&&e.set("visitorName",t.visitorName),(!e.get("visitorEmail")||t.visitorEmail&&e.get("visitorEmail")!==t.visitorEmail)&&e.set("visitorEmail",t.visitorEmail),(!e.get("visitorQuestion")||t.visitorQuestion&&e.get("visitorQuestion")!==t.visitorQuestion)&&e.set("visitorQuestion",t.visitorQuestion),(!e.get("visitorCompany")||t.visitorCompany&&e.get("visitorCompany")!==t.visitorCompany)&&e.set("visitorCompany",t.visitorCompany),(!e.get("visitorPhoneNumber")||t.visitorPhoneNumber&&e.get("visitorPhoneNumber")!==t.visitorPhoneNumber)&&e.set("visitorPhoneNumber",t.visitorPhoneNumber),p().extend(t,e.attributes)}},{key:"onFormSubmitted",value:function(t){var e=this,i=this.getDataController(),r=i.checkInRoom(),n=this.widgetLayout.$el.find(".purechat-form.purechat-init-form"),a=this.getChatModel();if(n&&n.length>0&&H.events.trigger("widget:spinner:show"),!this.submittingChat){if(r)return H.events.trigger("widget:spinner:hide"),void a.set("state",Fi.WidgetStates.Activating);var o=i.getContactId(),s=i.getOption("Id"),c="legacy-widget-start-chat::".concat(s,"::").concat(o);ne.start({id:c,message:"Legacy widget start chat took too long",warnThreshold:5e3,timeout:15e3}),this.submittingChat=!0,t.origin=a.get("origin"),i.startChat(this.coalesceStartChatData(t)).done((function(r){if(!r)return H.events.trigger("widget:spinner:hide"),void a.set("state",Fi.WidgetStates.Unavailable);V.GaEvent(e.options,"GaTrackingChat","GAChatEvent"),e.widgetLayout.$(".purechat-init-form .general-error").text("").purechatDisplay("none"),e.state.status.chatInfo=r,e.state.status.initialData=t,a.set({visitorFirstName:t.visitorFirstName,visitorLastName:t.visitorLastName,visitorName:t.visitorName,visitorEmail:t.visitorEmail,visitorQuestion:t.visitorQuestion,visitorPhoneNumber:t.visitorPhoneNumber,visitorCompany:t.visitorCompany,roomId:r.get("roomId"),userId:r.get("userId"),authToken:r.get("authToken"),chatId:r.get("chatId"),state:Fi.WidgetStates.Chatting}),i.connectionInfo.persistLocalStorage()})).fail((function(t){e.widgetLayout.$el.find(".purechat-init-form .general-error").text("Unable to start chat. Please try again").purechatDisplay("block");var i=new Error;ue.log(ue.LEVELS.ERROR,"Error starting chat: ".concat(t),i.stack,!1,"","")})).always((function(){e.submittingChat=!1,H.events.trigger("widget:spinner:hide"),ne.clear(c)}))}}},{key:"setupPageActivityTest",value:function(){var t=this,e=null,i=-9999,r=-9999;this.pageActivity=!1,p()(document).on("mousemove.setupPageActivityTest",n().throttle((function(n){e&&clearTimeout(e);var a=Math.abs(i-n.clientX),o=Math.abs(r-n.clientY);a<=2&&o<=2||(i=n.clientX,r=n.clientY,t.pageActivity=!0,e=setTimeout((function(){t.pageActivity=!1}),45e3))}),1e4))}},{key:"onSelectionShow",value:function(){this.state&&this.state.onSelectionShow&&this.state.onSelectionShow()}},{key:"stateChange",value:function(t,e){var i=new Ds[e](this.options);this.setState(i)}},{key:"setState",value:function(t){var e=this.state,i={};this.state&&(i=this.state.status,this.state.onExit&&this.state.onExit(),this.state.destroy()),this.state=t,this.state.status=i,this.state.setChatModel(this.getChatModel()),this.state.setWidgetView(this.widgetLayout),this.state.setWidgetSettings(this.options),this.state.setResources(this.rm),this.state.setDataController(this.getDataController()),this.state.setViewController(this),this.trigger("state:changed",{oldState:e,newState:t}),this.state.onEnter&&this.state.onEnter(),this.triggerResizedEvent()}},{key:"bindGobalCommand",value:function(t){var e=this;t.on("click.delegateEvents","[data-command]",(function(t){t.preventDefault();var i=p()(t.currentTarget),r=i.data("command"),n=i.data("command-params");e.trigger(r,n)}))}},{key:"undelegateEvents",value:function(){return this.$el.off(".delegateEvents"+this.cid),this}},{key:"onClose",value:function(){}},{key:"roomHostChanged",value:function(t){var e=this.getChatModel();n().keys(t).forEach((function(i){return e.set(i,t[i],{silent:!0})})),e.trigger("roomHostChanged")}},{key:"isExcludedPath",value:function(){var t=window.location.href;return(this.options.get("ExcludedPaths")||[]).some((function(e){return new RegExp(e,"gi").test(t)}))}}])&&uc(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),s}(sn),bc=fc;let yc={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const vc=/[&<>"']/,wc=/[&<>"']/g,_c=/[<>"']|&(?!#?\w+;)/,Cc=/[<>"']|&(?!#?\w+;)/g,xc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},kc=t=>xc[t];function jc(t,e){if(e){if(vc.test(t))return t.replace(wc,kc)}else if(_c.test(t))return t.replace(Cc,kc);return t}const Ic=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function Sc(t){return t.replace(Ic,((t,e)=>"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""))}const Pc=/(^|[^\[])\^/g;function Tc(t,e){t="string"==typeof t?t:t.source,e=e||"";const i={replace:(e,r)=>(r=(r=r.source||r).replace(Pc,"$1"),t=t.replace(e,r),i),getRegex:()=>new RegExp(t,e)};return i}const Rc=/[^\w:]/g,Mc=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Ac(t,e,i){if(t){let t;try{t=decodeURIComponent(Sc(i)).replace(Rc,"").toLowerCase()}catch(t){return null}if(0===t.indexOf("javascript:")||0===t.indexOf("vbscript:")||0===t.indexOf("data:"))return null}e&&!Mc.test(i)&&(i=function(t,e){Ec[" "+t]||(Oc.test(t)?Ec[" "+t]=t+"/":Ec[" "+t]=zc(t,"/",!0));const i=-1===(t=Ec[" "+t]).indexOf(":");return"//"===e.substring(0,2)?i?e:t.replace(Wc,"$1")+e:"/"===e.charAt(0)?i?e:t.replace(Dc,"$1")+e:t+e}(e,i));try{i=encodeURI(i).replace(/%25/g,"%")}catch(t){return null}return i}const Ec={},Oc=/^[^:]+:\/*[^/]*$/,Wc=/^([^:]+:)[\s\S]*$/,Dc=/^([^:]+:\/*[^/]*)[\s\S]*$/,Nc={exec:function(){}};function Uc(t){let e,i,r=1;for(;r<arguments.length;r++)for(i in e=arguments[r],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}function Bc(t,e){const i=t.replace(/\|/g,((t,e,i)=>{let r=!1,n=e;for(;--n>=0&&"\\"===i[n];)r=!r;return r?"|":" |"})).split(/ \|/);let r=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;r<i.length;r++)i[r]=i[r].trim().replace(/\\\|/g,"|");return i}function zc(t,e,i){const r=t.length;if(0===r)return"";let n=0;for(;n<r;){const a=t.charAt(r-n-1);if(a!==e||i){if(a===e||!i)break;n++}else n++}return t.slice(0,r-n)}function Vc(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Lc(t,e){if(e<1)return"";let i="";for(;e>1;)1&e&&(i+=t),e>>=1,t+=t;return i+t}function Fc(t,e,i,r){const n=e.href,a=e.title?jc(e.title):null,o=t[1].replace(/\\([\[\]])/g,"$1");if("!"!==t[0].charAt(0)){r.state.inLink=!0;const t={type:"link",raw:i,href:n,title:a,text:o,tokens:r.inlineTokens(o,[])};return r.state.inLink=!1,t}return{type:"image",raw:i,href:n,title:a,text:jc(o)}}class Hc{constructor(t){this.options=t||yc}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const t=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:zc(t,"\n")}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const t=e[0],i=function(t,e){const i=t.match(/^(\s+)(?:```)/);if(null===i)return e;const r=i[1];return e.split("\n").map((t=>{const e=t.match(/^\s+/);if(null===e)return t;const[i]=e;return i.length>=r.length?t.slice(r.length):t})).join("\n")}(t,e[3]||"");return{type:"code",raw:t,lang:e[2]?e[2].trim():e[2],text:i}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let t=e[2].trim();if(/#$/.test(t)){const e=zc(t,"#");this.options.pedantic?t=e.trim():e&&!/ $/.test(e)||(t=e.trim())}const i={type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:e[0]}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){const t=e[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:e[0],tokens:this.lexer.blockTokens(t,[]),text:t}}}list(t){let e=this.rules.block.list.exec(t);if(e){let i,r,n,a,o,s,c,l,p,u,h,d,g=e[1].trim();const m=g.length>1,f={type:"list",raw:"",ordered:m,start:m?+g.slice(0,-1):"",loose:!1,items:[]};g=m?`\\d{1,9}\\${g.slice(-1)}`:`\\${g}`,this.options.pedantic&&(g=m?g:"[*+-]");const b=new RegExp(`^( {0,3}${g})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;t&&(d=!1,e=b.exec(t))&&!this.rules.block.hr.test(t);){if(i=e[0],t=t.substring(i.length),l=e[2].split("\n",1)[0],p=t.split("\n",1)[0],this.options.pedantic?(a=2,h=l.trimLeft()):(a=e[2].search(/[^ ]/),a=a>4?1:a,h=l.slice(a),a+=e[1].length),s=!1,!l&&/^ *$/.test(p)&&(i+=p+"\n",t=t.substring(p.length+1),d=!0),!d){const e=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),r=new RegExp(`^ {0,${Math.min(3,a-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),n=new RegExp(`^ {0,${Math.min(3,a-1)}}(?:\`\`\`|~~~)`),o=new RegExp(`^ {0,${Math.min(3,a-1)}}#`);for(;t&&(u=t.split("\n",1)[0],l=u,this.options.pedantic&&(l=l.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!n.test(l))&&!o.test(l)&&!e.test(l)&&!r.test(t);){if(l.search(/[^ ]/)>=a||!l.trim())h+="\n"+l.slice(a);else{if(s)break;h+="\n"+l}s||l.trim()||(s=!0),i+=u+"\n",t=t.substring(u.length+1)}}f.loose||(c?f.loose=!0:/\n *\n *$/.test(i)&&(c=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(h),r&&(n="[ ] "!==r[0],h=h.replace(/^\[[ xX]\] +/,""))),f.items.push({type:"list_item",raw:i,task:!!r,checked:n,loose:!1,text:h}),f.raw+=i}f.items[f.items.length-1].raw=i.trimRight(),f.items[f.items.length-1].text=h.trimRight(),f.raw=f.raw.trimRight();const y=f.items.length;for(o=0;o<y;o++){this.lexer.state.top=!1,f.items[o].tokens=this.lexer.blockTokens(f.items[o].text,[]);const t=f.items[o].tokens.filter((t=>"space"===t.type)),e=t.every((t=>{const e=t.raw.split("");let i=0;for(const t of e)if("\n"===t&&(i+=1),i>1)return!0;return!1}));!f.loose&&t.length&&e&&(f.loose=!0,f.items[o].loose=!0)}return f}}html(t){const e=this.rules.block.html.exec(t);if(e){const t={type:"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:e[0]};return this.options.sanitize&&(t.type="paragraph",t.text=this.options.sanitizer?this.options.sanitizer(e[0]):jc(e[0]),t.tokens=[],this.lexer.inline(t.text,t.tokens)),t}}def(t){const e=this.rules.block.def.exec(t);if(e)return e[3]&&(e[3]=e[3].substring(1,e[3].length-1)),{type:"def",tag:e[1].toLowerCase().replace(/\s+/g," "),raw:e[0],href:e[2],title:e[3]}}table(t){const e=this.rules.block.table.exec(t);if(e){const t={type:"table",header:Bc(e[1]).map((t=>({text:t}))),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(t.header.length===t.align.length){t.raw=e[0];let i,r,n,a,o=t.align.length;for(i=0;i<o;i++)/^ *-+: *$/.test(t.align[i])?t.align[i]="right":/^ *:-+: *$/.test(t.align[i])?t.align[i]="center":/^ *:-+ *$/.test(t.align[i])?t.align[i]="left":t.align[i]=null;for(o=t.rows.length,i=0;i<o;i++)t.rows[i]=Bc(t.rows[i],t.header.length).map((t=>({text:t})));for(o=t.header.length,r=0;r<o;r++)t.header[r].tokens=[],this.lexer.inline(t.header[r].text,t.header[r].tokens);for(o=t.rows.length,r=0;r<o;r++)for(a=t.rows[r],n=0;n<a.length;n++)a[n].tokens=[],this.lexer.inline(a[n].text,a[n].tokens);return t}}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e){const t={type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:[]};return this.lexer.inline(t.text,t.tokens),t}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const t={type:"paragraph",raw:e[0],text:"\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1],tokens:[]};return this.lexer.inline(t.text,t.tokens),t}}text(t){const e=this.rules.block.text.exec(t);if(e){const t={type:"text",raw:e[0],text:e[0],tokens:[]};return this.lexer.inline(t.text,t.tokens),t}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:jc(e[1])}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):jc(e[0]):e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const t=e[2].trim();if(!this.options.pedantic&&/^</.test(t)){if(!/>$/.test(t))return;const e=zc(t.slice(0,-1),"\\");if((t.length-e.length)%2==0)return}else{const t=function(t,e){if(-1===t.indexOf(e[1]))return-1;const i=t.length;let r=0,n=0;for(;n<i;n++)if("\\"===t[n])n++;else if(t[n]===e[0])r++;else if(t[n]===e[1]&&(r--,r<0))return n;return-1}(e[2],"()");if(t>-1){const i=(0===e[0].indexOf("!")?5:4)+e[1].length+t;e[2]=e[2].substring(0,t),e[0]=e[0].substring(0,i).trim(),e[3]=""}}let i=e[2],r="";if(this.options.pedantic){const t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);t&&(i=t[1],r=t[3])}else r=e[3]?e[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(i=this.options.pedantic&&!/>$/.test(t)?i.slice(1):i.slice(1,-1)),Fc(e,{href:i?i.replace(this.rules.inline._escapes,"$1"):i,title:r?r.replace(this.rules.inline._escapes,"$1"):r},e[0],this.lexer)}}reflink(t,e){let i;if((i=this.rules.inline.reflink.exec(t))||(i=this.rules.inline.nolink.exec(t))){let t=(i[2]||i[1]).replace(/\s+/g," ");if(t=e[t.toLowerCase()],!t||!t.href){const t=i[0].charAt(0);return{type:"text",raw:t,text:t}}return Fc(i,t,i[0],this.lexer)}}emStrong(t,e,i=""){let r=this.rules.inline.emStrong.lDelim.exec(t);if(!r)return;if(r[3]&&i.match(/[\p{L}\p{N}]/u))return;const n=r[1]||r[2]||"";if(!n||n&&(""===i||this.rules.inline.punctuation.exec(i))){const i=r[0].length-1;let n,a,o=i,s=0;const c="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(c.lastIndex=0,e=e.slice(-1*t.length+i);null!=(r=c.exec(e));){if(n=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!n)continue;if(a=n.length,r[3]||r[4]){o+=a;continue}if((r[5]||r[6])&&i%3&&!((i+a)%3)){s+=a;continue}if(o-=a,o>0)continue;if(a=Math.min(a,a+o+s),Math.min(i,a)%2){const e=t.slice(1,i+r.index+a);return{type:"em",raw:t.slice(0,i+r.index+a+1),text:e,tokens:this.lexer.inlineTokens(e,[])}}const e=t.slice(2,i+r.index+a-1);return{type:"strong",raw:t.slice(0,i+r.index+a+1),text:e,tokens:this.lexer.inlineTokens(e,[])}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let t=e[2].replace(/\n/g," ");const i=/[^ ]/.test(t),r=/^ /.test(t)&&/ $/.test(t);return i&&r&&(t=t.substring(1,t.length-1)),t=jc(t,!0),{type:"codespan",raw:e[0],text:t}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2],[])}}autolink(t,e){const i=this.rules.inline.autolink.exec(t);if(i){let t,r;return"@"===i[2]?(t=jc(this.options.mangle?e(i[1]):i[1]),r="mailto:"+t):(t=jc(i[1]),r=t),{type:"link",raw:i[0],text:t,href:r,tokens:[{type:"text",raw:t,text:t}]}}}url(t,e){let i;if(i=this.rules.inline.url.exec(t)){let t,r;if("@"===i[2])t=jc(this.options.mangle?e(i[0]):i[0]),r="mailto:"+t;else{let e;do{e=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])[0]}while(e!==i[0]);t=jc(i[0]),r="www."===i[1]?"http://"+t:t}return{type:"link",raw:i[0],text:t,href:r,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(t,e){const i=this.rules.inline.text.exec(t);if(i){let t;return t=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):jc(i[0]):i[0]:jc(this.options.smartypants?e(i[0]):i[0]),{type:"text",raw:i[0],text:t}}}}const qc={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Nc,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};qc.def=Tc(qc.def).replace("label",qc._label).replace("title",qc._title).getRegex(),qc.bullet=/(?:[*+-]|\d{1,9}[.)])/,qc.listItemStart=Tc(/^( *)(bull) */).replace("bull",qc.bullet).getRegex(),qc.list=Tc(qc.list).replace(/bull/g,qc.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+qc.def.source+")").getRegex(),qc._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",qc._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,qc.html=Tc(qc.html,"i").replace("comment",qc._comment).replace("tag",qc._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),qc.paragraph=Tc(qc._paragraph).replace("hr",qc.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",qc._tag).getRegex(),qc.blockquote=Tc(qc.blockquote).replace("paragraph",qc.paragraph).getRegex(),qc.normal=Uc({},qc),qc.gfm=Uc({},qc.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),qc.gfm.table=Tc(qc.gfm.table).replace("hr",qc.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",qc._tag).getRegex(),qc.gfm.paragraph=Tc(qc._paragraph).replace("hr",qc.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",qc.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",qc._tag).getRegex(),qc.pedantic=Uc({},qc.normal,{html:Tc("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",qc._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Nc,paragraph:Tc(qc.normal._paragraph).replace("hr",qc.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",qc.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Zc={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Nc,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Nc,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function $c(t){return t.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function Yc(t){let e,i,r="";const n=t.length;for(e=0;e<n;e++)i=t.charCodeAt(e),Math.random()>.5&&(i="x"+i.toString(16)),r+="&#"+i+";";return r}Zc._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Zc.punctuation=Tc(Zc.punctuation).replace(/punctuation/g,Zc._punctuation).getRegex(),Zc.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Zc.escapedEmSt=/\\\*|\\_/g,Zc._comment=Tc(qc._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Zc.emStrong.lDelim=Tc(Zc.emStrong.lDelim).replace(/punct/g,Zc._punctuation).getRegex(),Zc.emStrong.rDelimAst=Tc(Zc.emStrong.rDelimAst,"g").replace(/punct/g,Zc._punctuation).getRegex(),Zc.emStrong.rDelimUnd=Tc(Zc.emStrong.rDelimUnd,"g").replace(/punct/g,Zc._punctuation).getRegex(),Zc._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Zc._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Zc._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Zc.autolink=Tc(Zc.autolink).replace("scheme",Zc._scheme).replace("email",Zc._email).getRegex(),Zc._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Zc.tag=Tc(Zc.tag).replace("comment",Zc._comment).replace("attribute",Zc._attribute).getRegex(),Zc._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Zc._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Zc._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Zc.link=Tc(Zc.link).replace("label",Zc._label).replace("href",Zc._href).replace("title",Zc._title).getRegex(),Zc.reflink=Tc(Zc.reflink).replace("label",Zc._label).replace("ref",qc._label).getRegex(),Zc.nolink=Tc(Zc.nolink).replace("ref",qc._label).getRegex(),Zc.reflinkSearch=Tc(Zc.reflinkSearch,"g").replace("reflink",Zc.reflink).replace("nolink",Zc.nolink).getRegex(),Zc.normal=Uc({},Zc),Zc.pedantic=Uc({},Zc.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Tc(/^!?\[(label)\]\((.*?)\)/).replace("label",Zc._label).getRegex(),reflink:Tc(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Zc._label).getRegex()}),Zc.gfm=Uc({},Zc.normal,{escape:Tc(Zc.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Zc.gfm.url=Tc(Zc.gfm.url,"i").replace("email",Zc.gfm._extended_email).getRegex(),Zc.breaks=Uc({},Zc.gfm,{br:Tc(Zc.br).replace("{2,}","*").getRegex(),text:Tc(Zc.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class Xc{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||yc,this.options.tokenizer=this.options.tokenizer||new Hc,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={block:qc.normal,inline:Zc.normal};this.options.pedantic?(e.block=qc.pedantic,e.inline=Zc.pedantic):this.options.gfm&&(e.block=qc.gfm,this.options.breaks?e.inline=Zc.breaks:e.inline=Zc.gfm),this.tokenizer.rules=e}static get rules(){return{block:qc,inline:Zc}}static lex(t,e){return new Xc(e).lex(t)}static lexInline(t,e){return new Xc(e).inlineTokens(t)}lex(t){let e;for(t=t.replace(/\r\n|\r/g,"\n"),this.blockTokens(t,this.tokens);e=this.inlineQueue.shift();)this.inlineTokens(e.src,e.tokens);return this.tokens}blockTokens(t,e=[]){let i,r,n,a;for(t=this.options.pedantic?t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t.replace(/^( *)(\t+)/gm,((t,e,i)=>e+"    ".repeat(i.length)));t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((r=>!!(i=r.call({lexer:this},t,e))&&(t=t.substring(i.raw.length),e.push(i),!0)))))if(i=this.tokenizer.space(t))t=t.substring(i.raw.length),1===i.raw.length&&e.length>0?e[e.length-1].raw+="\n":e.push(i);else if(i=this.tokenizer.code(t))t=t.substring(i.raw.length),r=e[e.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?e.push(i):(r.raw+="\n"+i.raw,r.text+="\n"+i.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(i=this.tokenizer.fences(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.heading(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.hr(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.blockquote(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.list(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.html(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.def(t))t=t.substring(i.raw.length),r=e[e.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title}):(r.raw+="\n"+i.raw,r.text+="\n"+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(i=this.tokenizer.table(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.lheading(t))t=t.substring(i.raw.length),e.push(i);else{if(n=t,this.options.extensions&&this.options.extensions.startBlock){let e=1/0;const i=t.slice(1);let r;this.options.extensions.startBlock.forEach((function(t){r=t.call({lexer:this},i),"number"==typeof r&&r>=0&&(e=Math.min(e,r))})),e<1/0&&e>=0&&(n=t.substring(0,e+1))}if(this.state.top&&(i=this.tokenizer.paragraph(n)))r=e[e.length-1],a&&"paragraph"===r.type?(r.raw+="\n"+i.raw,r.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):e.push(i),a=n.length!==t.length,t=t.substring(i.raw.length);else if(i=this.tokenizer.text(t))t=t.substring(i.raw.length),r=e[e.length-1],r&&"text"===r.type?(r.raw+="\n"+i.raw,r.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):e.push(i);else if(t){const e="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(e);break}throw new Error(e)}}return this.state.top=!0,e}inline(t,e){this.inlineQueue.push({src:t,tokens:e})}inlineTokens(t,e=[]){let i,r,n,a,o,s,c=t;if(this.tokens.links){const t=Object.keys(this.tokens.links);if(t.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(c));)t.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,a.index)+"["+Lc("a",a[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,a.index)+"["+Lc("a",a[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,a.index)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;t;)if(o||(s=""),o=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((r=>!!(i=r.call({lexer:this},t,e))&&(t=t.substring(i.raw.length),e.push(i),!0)))))if(i=this.tokenizer.escape(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.tag(t))t=t.substring(i.raw.length),r=e[e.length-1],r&&"text"===i.type&&"text"===r.type?(r.raw+=i.raw,r.text+=i.text):e.push(i);else if(i=this.tokenizer.link(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.reflink(t,this.tokens.links))t=t.substring(i.raw.length),r=e[e.length-1],r&&"text"===i.type&&"text"===r.type?(r.raw+=i.raw,r.text+=i.text):e.push(i);else if(i=this.tokenizer.emStrong(t,c,s))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.codespan(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.br(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.del(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.autolink(t,Yc))t=t.substring(i.raw.length),e.push(i);else if(this.state.inLink||!(i=this.tokenizer.url(t,Yc))){if(n=t,this.options.extensions&&this.options.extensions.startInline){let e=1/0;const i=t.slice(1);let r;this.options.extensions.startInline.forEach((function(t){r=t.call({lexer:this},i),"number"==typeof r&&r>=0&&(e=Math.min(e,r))})),e<1/0&&e>=0&&(n=t.substring(0,e+1))}if(i=this.tokenizer.inlineText(n,$c))t=t.substring(i.raw.length),"_"!==i.raw.slice(-1)&&(s=i.raw.slice(-1)),o=!0,r=e[e.length-1],r&&"text"===r.type?(r.raw+=i.raw,r.text+=i.text):e.push(i);else if(t){const e="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(e);break}throw new Error(e)}}else t=t.substring(i.raw.length),e.push(i);return e}}class Gc{constructor(t){this.options=t||yc}code(t,e,i){const r=(e||"").match(/\S*/)[0];if(this.options.highlight){const e=this.options.highlight(t,r);null!=e&&e!==t&&(i=!0,t=e)}return t=t.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+jc(r,!0)+'">'+(i?t:jc(t,!0))+"</code></pre>\n":"<pre><code>"+(i?t:jc(t,!0))+"</code></pre>\n"}blockquote(t){return`<blockquote>\n${t}</blockquote>\n`}html(t){return t}heading(t,e,i,r){return this.options.headerIds?`<h${e} id="${this.options.headerPrefix+r.slug(i)}">${t}</h${e}>\n`:`<h${e}>${t}</h${e}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(t,e,i){const r=e?"ol":"ul";return"<"+r+(e&&1!==i?' start="'+i+'"':"")+">\n"+t+"</"+r+">\n"}listitem(t){return`<li>${t}</li>\n`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(t){return`<p>${t}</p>\n`}table(t,e){return e&&(e=`<tbody>${e}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+e+"</table>\n"}tablerow(t){return`<tr>\n${t}</tr>\n`}tablecell(t,e){const i=e.header?"th":"td";return(e.align?`<${i} align="${e.align}">`:`<${i}>`)+t+`</${i}>\n`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(t){return`<del>${t}</del>`}link(t,e,i){if(null===(t=Ac(this.options.sanitize,this.options.baseUrl,t)))return i;let r='<a href="'+jc(t)+'"';return e&&(r+=' title="'+e+'"'),r+=">"+i+"</a>",r}image(t,e,i){if(null===(t=Ac(this.options.sanitize,this.options.baseUrl,t)))return i;let r=`<img src="${t}" alt="${i}"`;return e&&(r+=` title="${e}"`),r+=this.options.xhtml?"/>":">",r}text(t){return t}}class Jc{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,e,i){return""+i}image(t,e,i){return""+i}br(){return""}}class Kc{constructor(){this.seen={}}serialize(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(t,e){let i=t,r=0;if(this.seen.hasOwnProperty(i)){r=this.seen[t];do{r++,i=t+"-"+r}while(this.seen.hasOwnProperty(i))}return e||(this.seen[t]=r,this.seen[i]=0),i}slug(t,e={}){const i=this.serialize(t);return this.getNextSafeSlug(i,e.dryrun)}}class Qc{constructor(t){this.options=t||yc,this.options.renderer=this.options.renderer||new Gc,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Jc,this.slugger=new Kc}static parse(t,e){return new Qc(e).parse(t)}static parseInline(t,e){return new Qc(e).parseInline(t)}parse(t,e=!0){let i,r,n,a,o,s,c,l,p,u,h,d,g,m,f,b,y,v,w,_="";const C=t.length;for(i=0;i<C;i++)if(u=t[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type]&&(w=this.options.extensions.renderers[u.type].call({parser:this},u),!1!==w||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(u.type)))_+=w||"";else switch(u.type){case"space":continue;case"hr":_+=this.renderer.hr();continue;case"heading":_+=this.renderer.heading(this.parseInline(u.tokens),u.depth,Sc(this.parseInline(u.tokens,this.textRenderer)),this.slugger);continue;case"code":_+=this.renderer.code(u.text,u.lang,u.escaped);continue;case"table":for(l="",c="",a=u.header.length,r=0;r<a;r++)c+=this.renderer.tablecell(this.parseInline(u.header[r].tokens),{header:!0,align:u.align[r]});for(l+=this.renderer.tablerow(c),p="",a=u.rows.length,r=0;r<a;r++){for(s=u.rows[r],c="",o=s.length,n=0;n<o;n++)c+=this.renderer.tablecell(this.parseInline(s[n].tokens),{header:!1,align:u.align[n]});p+=this.renderer.tablerow(c)}_+=this.renderer.table(l,p);continue;case"blockquote":p=this.parse(u.tokens),_+=this.renderer.blockquote(p);continue;case"list":for(h=u.ordered,d=u.start,g=u.loose,a=u.items.length,p="",r=0;r<a;r++)f=u.items[r],b=f.checked,y=f.task,m="",f.task&&(v=this.renderer.checkbox(b),g?f.tokens.length>0&&"paragraph"===f.tokens[0].type?(f.tokens[0].text=v+" "+f.tokens[0].text,f.tokens[0].tokens&&f.tokens[0].tokens.length>0&&"text"===f.tokens[0].tokens[0].type&&(f.tokens[0].tokens[0].text=v+" "+f.tokens[0].tokens[0].text)):f.tokens.unshift({type:"text",text:v}):m+=v),m+=this.parse(f.tokens,g),p+=this.renderer.listitem(m,y,b);_+=this.renderer.list(p,h,d);continue;case"html":_+=this.renderer.html(u.text);continue;case"paragraph":_+=this.renderer.paragraph(this.parseInline(u.tokens));continue;case"text":for(p=u.tokens?this.parseInline(u.tokens):u.text;i+1<C&&"text"===t[i+1].type;)u=t[++i],p+="\n"+(u.tokens?this.parseInline(u.tokens):u.text);_+=e?this.renderer.paragraph(p):p;continue;default:{const t='Token with "'+u.type+'" type was not found.';if(this.options.silent)return void console.error(t);throw new Error(t)}}return _}parseInline(t,e){e=e||this.renderer;let i,r,n,a="";const o=t.length;for(i=0;i<o;i++)if(r=t[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]&&(n=this.options.extensions.renderers[r.type].call({parser:this},r),!1!==n||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type)))a+=n||"";else switch(r.type){case"escape":case"text":a+=e.text(r.text);break;case"html":a+=e.html(r.text);break;case"link":a+=e.link(r.href,r.title,this.parseInline(r.tokens,e));break;case"image":a+=e.image(r.href,r.title,r.text);break;case"strong":a+=e.strong(this.parseInline(r.tokens,e));break;case"em":a+=e.em(this.parseInline(r.tokens,e));break;case"codespan":a+=e.codespan(r.text);break;case"br":a+=e.br();break;case"del":a+=e.del(this.parseInline(r.tokens,e));break;default:{const t='Token with "'+r.type+'" type was not found.';if(this.options.silent)return void console.error(t);throw new Error(t)}}return a}}function tl(t,e,i){if(null==t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if("function"==typeof e&&(i=e,e=null),Vc(e=Uc({},tl.defaults,e||{})),i){const r=e.highlight;let n;try{n=Xc.lex(t,e)}catch(t){return i(t)}const a=function(t){let a;if(!t)try{e.walkTokens&&tl.walkTokens(n,e.walkTokens),a=Qc.parse(n,e)}catch(e){t=e}return e.highlight=r,t?i(t):i(null,a)};if(!r||r.length<3)return a();if(delete e.highlight,!n.length)return a();let o=0;return tl.walkTokens(n,(function(t){"code"===t.type&&(o++,setTimeout((()=>{r(t.text,t.lang,(function(e,i){if(e)return a(e);null!=i&&i!==t.text&&(t.text=i,t.escaped=!0),o--,0===o&&a()}))}),0))})),void(0===o&&a())}try{const i=Xc.lex(t,e);return e.walkTokens&&tl.walkTokens(i,e.walkTokens),Qc.parse(i,e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+jc(t.message+"",!0)+"</pre>";throw t}}tl.options=tl.setOptions=function(t){var e;return Uc(tl.defaults,t),e=tl.defaults,yc=e,tl},tl.getDefaults=function(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},tl.defaults=yc,tl.use=function(...t){const e=Uc({},...t),i=tl.defaults.extensions||{renderers:{},childTokens:{}};let r;t.forEach((t=>{if(t.extensions&&(r=!0,t.extensions.forEach((t=>{if(!t.name)throw new Error("extension name required");if(t.renderer){const e=i.renderers?i.renderers[t.name]:null;i.renderers[t.name]=e?function(...i){let r=t.renderer.apply(this,i);return!1===r&&(r=e.apply(this,i)),r}:t.renderer}if(t.tokenizer){if(!t.level||"block"!==t.level&&"inline"!==t.level)throw new Error("extension level must be 'block' or 'inline'");i[t.level]?i[t.level].unshift(t.tokenizer):i[t.level]=[t.tokenizer],t.start&&("block"===t.level?i.startBlock?i.startBlock.push(t.start):i.startBlock=[t.start]:"inline"===t.level&&(i.startInline?i.startInline.push(t.start):i.startInline=[t.start]))}t.childTokens&&(i.childTokens[t.name]=t.childTokens)}))),t.renderer){const i=tl.defaults.renderer||new Gc;for(const e in t.renderer){const r=i[e];i[e]=(...n)=>{let a=t.renderer[e].apply(i,n);return!1===a&&(a=r.apply(i,n)),a}}e.renderer=i}if(t.tokenizer){const i=tl.defaults.tokenizer||new Hc;for(const e in t.tokenizer){const r=i[e];i[e]=(...n)=>{let a=t.tokenizer[e].apply(i,n);return!1===a&&(a=r.apply(i,n)),a}}e.tokenizer=i}if(t.walkTokens){const i=tl.defaults.walkTokens;e.walkTokens=function(e){t.walkTokens.call(this,e),i&&i.call(this,e)}}r&&(e.extensions=i),tl.setOptions(e)}))},tl.walkTokens=function(t,e){for(const i of t)switch(e.call(tl,i),i.type){case"table":for(const t of i.header)tl.walkTokens(t.tokens,e);for(const t of i.rows)for(const i of t)tl.walkTokens(i.tokens,e);break;case"list":tl.walkTokens(i.items,e);break;default:tl.defaults.extensions&&tl.defaults.extensions.childTokens&&tl.defaults.extensions.childTokens[i.type]?tl.defaults.extensions.childTokens[i.type].forEach((function(t){tl.walkTokens(i[t],e)})):i.tokens&&tl.walkTokens(i.tokens,e)}},tl.parseInline=function(t,e){if(null==t)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");Vc(e=Uc({},tl.defaults,e||{}));try{const i=Xc.lexInline(t,e);return e.walkTokens&&tl.walkTokens(i,e.walkTokens),Qc.parseInline(i,e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+jc(t.message+"",!0)+"</pre>";throw t}},tl.Parser=Qc,tl.parser=Qc.parse,tl.Renderer=Gc,tl.TextRenderer=Jc,tl.Lexer=Xc,tl.lexer=Xc.lex,tl.Tokenizer=Hc,tl.Slugger=Kc,tl.parse=tl,tl.options,tl.setOptions,tl.use,tl.walkTokens,tl.parseInline,Qc.parse,Xc.lex,i.p,i.p;var el={"animals/baby-chicks.webp":i.p+"Baby-Chicks.638202c92b7c79d1a99a.webp","animals/baby-otter.webp":i.p+"Baby-Otter.34608ff7d95fd3dfce2c.webp","animals/baby-panda.webp":i.p+"Baby-Panda.5267e2aeabf66e977862.webp","animals/bunny.webp":i.p+"Bunny.433d1267aa3e99beacfc.webp","animals/kitten.webp":i.p+"Kitten.974e736efaa1ecc3c3f3.webp","animals/puppy.webp":i.p+"Puppy.a5e49de0191fa598b7b4.webp","clipart/black-livechat-bubble.webp":i.p+"Black-LiveChat-Bubble.63aa8b8a8793f0eccc84.webp","clipart/blue-livechat-bubble.webp":i.p+"Blue-LiveChat-Bubble.69b0c9d82bef4c415861.webp","clipart/chat-01.webp":i.p+"chat-01.0e52ce44314c9e438e9b.webp","clipart/chinese.webp":i.p+"chinese.88e90350870b736d431e.webp","clipart/contact-01.webp":i.p+"Contact-01.af3e10e62000dc39eb80.webp","clipart/email.webp":i.p+"email.7f8cff1458e539c76710.webp","clipart/female-hello.webp":i.p+"Female-Hello.d67ed303ddbee224769b.webp","clipart/female-support2.webp":i.p+"Female-Support2.cae2cf6ab0e8924b583c.webp","clipart/female-support.webp":i.p+"Female-Support.42e7e6e37aa5e284a684.webp","clipart/female-thumbsup.webp":i.p+"Female-ThumbsUp.a6476e9e5fa8bee6de2c.webp","clipart/french.webp":i.p+"french.c64e4b062665837b8b76.webp","clipart/german.webp":i.p+"german.8f959cda58e8da1a2c06.webp","clipart/global-01.webp":i.p+"Global-01.5f9e7c901ed636caca72.webp","clipart/hello.webp":i.p+"hello.3a1ee98ec566c394cfff.webp","clipart/info-01.webp":i.p+"Info-01.0c88f6d3daa76de6abe8.webp","clipart/italian.webp":i.p+"italian.4b649f93bc0f75c37486.webp","clipart/japanese.webp":i.p+"japanese.ca6cf4ee3164e5e20016.webp","clipart/male-hello.webp":i.p+"Male-Hello.5349b6414ee80501f482.webp","clipart/male-support2.webp":i.p+"Male-Support2.40ce7105cf2469bfb3b4.webp","clipart/male-support.webp":i.p+"Male-Support.75bb1ee595896b66215e.webp","clipart/male-thumbsup.webp":i.p+"Male-ThumbsUp.0b3fe014c7a7e8745c56.webp","clipart/pc-bubble.webp":i.p+"PC-Bubble.3f8110575c51b57d9531.webp","clipart/portugese.webp":i.p+"portugese.9ff65d73e1b34a35793d.webp","clipart/red-livechat-bubble.webp":i.p+"Red-LiveChat-Bubble.412c6c131da8be32bfd1.webp","clipart/romanian.webp":i.p+"romanian.9de6ac08d922e6f5560d.webp","clipart/russian.webp":i.p+"russian.f0ac17618dae8caeec20.webp","clipart/snowman.webp":i.p+"snowman.157c6305384f6dc69ee0.webp","clipart/spanish.webp":i.p+"spanish.0cf3ce347fd0e2579610.webp","clipart/white-livechat-bubble.webp":i.p+"White-LiveChat-Bubble.d2fa99cbd7408be062ce.webp","flat/bubbles/black-chat-bubble.webp":i.p+"black-chat-bubble.09f9a88f0239bd641946.webp","flat/bubbles/black-circle-hi.webp":i.p+"black-circle-hi.bfa6c2e557d0690d4bbf.webp","flat/bubbles/black-decorative-pointer.webp":i.p+"black-decorative-pointer.93c126328e44f24a9225.webp","flat/bubbles/black-pointer.webp":i.p+"black-pointer.b2cba7984ec04ed82c98.webp","flat/bubbles/blue-chat.webp":i.p+"blue-chat.d77bdcc4f36bd8efddec.webp","flat/bubbles/blue-circle-hi.webp":i.p+"blue-circle-hi.f27228aae548c5022a52.webp","flat/bubbles/blue-decorative-pointer.webp":i.p+"blue-decorative-pointer.ad8f858ed7555099463c.webp","flat/bubbles/blue-pin.webp":i.p+"blue-pin.d6c4b29a8bc33794bb73.webp","flat/bubbles/bubbles-black.webp":i.p+"bubbles-black.ed64e3dbbfd4e0633e1a.webp","flat/bubbles/bubbles-blue.webp":i.p+"bubbles-blue.d137e78a1e2a62abade3.webp","flat/bubbles/bubbles-teal.webp":i.p+"bubbles-teal.f2f9cafad2f0e7d556ad.webp","flat/bubbles/bubbles-white.webp":i.p+"bubbles-white.43c4fa0b572880a6ad52.webp","flat/bubbles/bubble-white.webp":i.p+"bubble-white.c4448b0b58c657cc03f8.webp","flat/bubbles/chat-with-us-tab.webp":i.p+"chat-with-us-tab.153f3f7d36ca947686d6.webp","flat/bubbles/green-pin.webp":i.p+"green-pin.f25502305fa2af32331a.webp","flat/bubbles/green-tab.webp":i.p+"green-tab.5ab9b1eeeab3efddaa94.webp","flat/bubbles/navy-chat.webp":i.p+"navy-chat.b05577df923dd26336df.webp","flat/bubbles/red-chat-bubble.webp":i.p+"red-chat-bubble.d25f358a3c50438bebbf.webp","flat/bubbles/red-circle-hi.webp":i.p+"red-circle-hi.b39161642777bc8867e7.webp","flat/bubbles/red-decorative-pointer.webp":i.p+"red-decorative-pointer.41a62f15759aa1136255.webp","flat/bubbles/red-pin.webp":i.p+"red-pin.edbe7f81b8ae4b378c2b.webp","flat/bubbles/teal-chat-bubble.webp":i.p+"teal-chat-bubble.b15d3abfd9183958736e.webp","flat/bubbles/white-pointer.webp":i.p+"white-pointer.21f0c47a13419694b473.webp","flat/bubbles/yellow-tab.webp":i.p+"yellow-tab.cd679e2dadec0b5e941e.webp","flat/people/operator-person-1.webp":i.p+"operator-person-1.cef60133e1a938186259.webp","flat/people/operator-person-2.webp":i.p+"operator-person-2.7a60808d420c8ec0842b.webp","flat/people/operator-tab.webp":i.p+"operator-tab.7bed49e98ab31d0926fd.webp","flat/people/support-circle-grey.webp":i.p+"support-circle-grey.af22ee980580a1689ad4.webp","flat/people/support-circle-white.webp":i.p+"support-circle-white.b1eccdfd38a4f6743585.webp","people/cs-f-01.webp":i.p+"CS-F-01.8d1098b69d0576b0df50.webp","people/cs-g-01.webp":i.p+"CS-G-01.1d12da544b3b8a0ec6d4.webp","people/cs-m-01.webp":i.p+"CS-M-01.527b561644a8b91edf0f.webp","animals/baby-chicks.png":i.p+"Baby-Chicks.da23a1a96b650374ee2d.png","animals/baby-otter.png":i.p+"Baby-Otter.d172e4343784472fb173.png","animals/baby-panda.png":i.p+"Baby-Panda.a4039b7328f5998ee9fb.png","animals/bunny.png":i.p+"Bunny.c455602a4575df02e1e9.png","animals/kitten.png":i.p+"Kitten.19d668e60cb1f0cb5bc7.png","animals/puppy.png":i.p+"Puppy.a12d70c099e34c38d1ec.png","clipart/black-livechat-bubble.png":i.p+"Black-LiveChat-Bubble.81266a92eab31a6f19f5.png","clipart/blue-livechat-bubble.png":i.p+"Blue-LiveChat-Bubble.b3473ba8615fa59bada9.png","clipart/chat-01.png":i.p+"chat-01.3083a87162d3091b7e6d.png","clipart/chinese.png":i.p+"chinese.0097c0f1ed1a9000e529.png","clipart/contact-01.png":i.p+"Contact-01.d77b2929a34d49fea232.png","clipart/email.png":i.p+"email.e6b8b14939ce13b77999.png","clipart/female-hello.png":i.p+"Female-Hello.06b0c9de29482caafea2.png","clipart/female-support2.png":i.p+"Female-Support2.9005428d12e9da767148.png","clipart/female-support.png":i.p+"Female-Support.94aa4d8247277448109b.png","clipart/female-thumbsup.png":i.p+"Female-ThumbsUp.c5c86526bb4fc298f723.png","clipart/french.png":i.p+"french.ff0b749168d8830b4beb.png","clipart/german.png":i.p+"german.9744dc5d43a42074907e.png","clipart/global-01.png":i.p+"Global-01.c8e0573d3dd2db252522.png","clipart/hello.png":i.p+"hello.029889161caa4c526ffb.png","clipart/info-01.png":i.p+"Info-01.c36a82c785db5b44e9ec.png","clipart/italian.png":i.p+"italian.83242cae69f9160ca18c.png","clipart/japanese.png":i.p+"japanese.58f50cce38f7e52ec5cb.png","clipart/male-hello.png":i.p+"Male-Hello.750a30d870b501813750.png","clipart/male-support2.png":i.p+"Male-Support2.a2e93184c91c8b9cb1ae.png","clipart/male-support.png":i.p+"Male-Support.e9295b3e0a97ce3ee0be.png","clipart/male-thumbsup.png":i.p+"Male-ThumbsUp.a3c8d4b72205ee7d1251.png","clipart/pc-bubble.png":i.p+"PC-Bubble.aace3701b9b8cf7c96bf.png","clipart/portugese.png":i.p+"portugese.900eefc3c9365b168be0.png","clipart/red-livechat-bubble.png":i.p+"Red-LiveChat-Bubble.f25bf0bfcb6fe0211f22.png","clipart/romanian.png":i.p+"romanian.f02d29a2bf2d457b6965.png","clipart/russian.png":i.p+"russian.43c7df7af3f0dc124f76.png","clipart/snowman.png":i.p+"snowman.5fd6980ae94b700bb230.png","clipart/spanish.png":i.p+"spanish.bfadab3d351b933abb6d.png","clipart/white-livechat-bubble.png":i.p+"White-LiveChat-Bubble.e7d5465aef3478afb10e.png","flat/bubbles/black-chat-bubble.png":i.p+"black-chat-bubble.f5b7f7e02d4bb65938da.png","flat/bubbles/black-circle-hi.png":i.p+"black-circle-hi.d03c0ef7b760bb9ec592.png","flat/bubbles/black-decorative-pointer.png":i.p+"black-decorative-pointer.2203de8b8b1930604e6e.png","flat/bubbles/black-pointer.png":i.p+"black-pointer.1c19db10c8667689281a.png","flat/bubbles/blue-chat.png":i.p+"blue-chat.e152f3c6d51aacea437f.png","flat/bubbles/blue-circle-hi.png":i.p+"blue-circle-hi.566d27e590d9ee7239df.png","flat/bubbles/blue-decorative-pointer.png":i.p+"blue-decorative-pointer.83f7dc7ffc9282a2927a.png","flat/bubbles/blue-pin.png":i.p+"blue-pin.5ccfb7ac502be14777a4.png","flat/bubbles/bubbles-black.png":i.p+"bubbles-black.fc07ee29bb4bb9eb45ad.png","flat/bubbles/bubbles-blue.png":i.p+"bubbles-blue.47b6a3c20fcc49939487.png","flat/bubbles/bubbles-teal.png":i.p+"bubbles-teal.2071070cffd38944992e.png","flat/bubbles/bubbles-white.png":i.p+"bubbles-white.f3d80c625c7bb0c8c937.png","flat/bubbles/bubble-white.png":i.p+"bubble-white.d3fdf63a66b23c06eef7.png","flat/bubbles/chat-with-us-tab.png":i.p+"chat-with-us-tab.2f9e9bb681355b1e2f9d.png","flat/bubbles/green-pin.png":i.p+"green-pin.1a9ef800a044a5a0ebfe.png","flat/bubbles/green-tab.png":i.p+"green-tab.4e88e6d25f511269ee0a.png","flat/bubbles/navy-chat.png":i.p+"navy-chat.c163167235180c60e611.png","flat/bubbles/red-chat-bubble.png":i.p+"red-chat-bubble.0980ca3dd43727d22e85.png","flat/bubbles/red-circle-hi.png":i.p+"red-circle-hi.f47fbd7712a1809191ba.png","flat/bubbles/red-decorative-pointer.png":i.p+"red-decorative-pointer.7b4d0f8fc2ad2403f83b.png","flat/bubbles/red-pin.png":i.p+"red-pin.e3d3ef9d4543a2c7a7ae.png","flat/bubbles/teal-chat-bubble.png":i.p+"teal-chat-bubble.1b62d10fc1421bf57b57.png","flat/bubbles/white-pointer.png":i.p+"white-pointer.e01f68873ef80a03979a.png","flat/bubbles/yellow-tab.png":i.p+"yellow-tab.e521384a4e673d9ca7ee.png","flat/people/operator-person-1.png":i.p+"operator-person-1.2303a7b9d8245721ebd2.png","flat/people/operator-person-2.png":i.p+"operator-person-2.657fd3257c38a5e37689.png","flat/people/operator-tab.png":i.p+"operator-tab.21fcc9855f69b77c72bb.png","flat/people/support-circle-grey.png":i.p+"support-circle-grey.ccace20cccde2fed2818.png","flat/people/support-circle-white.png":i.p+"support-circle-white.253787108c803ddd69b5.png","people/cs-f-01.png":i.p+"CS-F-01.74937898fb07776eae6c.png","people/cs-g-01.png":i.p+"CS-G-01.ec0ff031ccd08d97702e.png","people/cs-m-01.png":i.p+"CS-M-01.a8be1aafc8f1cb5b1846.png"},il=0===document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp"),rl=function(t,e){var i=t.toLowerCase().replace("/Content/images/stockwidgetimages/","");return il||(i=i.replace(".webp",".png")),el[i]||"".concat(e).concat(il?t:t.replace(".webp",".png"))},nl=/{([^}]+)}/g,al=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch(t.toLowerCase()){case"windows":return 1;case"mac os":return 2;case"ubuntu":return 3;case"android":return 4;case"ios":return 5;default:return 0}},ol=w.RelationalModel.extend({initialize:function(){var t=new(x()),e=t.getBrowser(),i=t.getOS(),r=t.getDevice();this.set("BrowserDetails",{Browser:e.name,Version:parseInt(e.major,10),OS:i.name,OsType:al(i.name)}),this.get("isDemo")||this.set("RequestFromMobileDevice","mobile"===r.type)},getResource:function(t,e){var i,r=this.get("StringResources");if(!r)return t;tl.setOptions({renderer:(i=new tl.Renderer,i.link=function(t,e,i){var r=/^https?:\/\/.+$/.test(t)||"newWindow"===e,n='<a href="'.concat(t,'"');return r&&(n+=' target="_blank"'),e&&"newWindow"!==e&&(n+=' title="'.concat(e,'"')),"".concat(n,">").concat(i,"</a>")},i)});var a=Fi.MarkdownFields.indexOf(t)>-1;if(!e)return a?tl.parse(r[t]):r[t];var o="".concat(r[t]||"");e.displayName||(o=o.replace("{displayName}","")),e.chatUserNames||(o=o.replace("{chatUserNames}",""));for(var s=null;s=nl.exec(o);)e[s[1]]||(e[s[1]]="");if(this.compiledResources||(this.compiledResources={}),!this.compiledResources[o]){var c=a?n().template(tl.parse(n().escape(o)),null,{interpolate:/\{(.+?)\}/g}):n().template(o,null,{interpolate:/\{(.+?)\}/g});this.compiledResources[o]=c}return this.compiledResources[o](e)},_isDesktopDimension:null,isDesktopDimension:function(){if(!this._isDesktopDimension){var t=p()(window).height(),e=p()(window).width();this._isDesktopDimension=this.get("isDemo")?!this.isMobileRequest():t>=625&&e>=625}return this._isDesktopDimension},isMobileRequest:function(){return this.get("RequestFromMobileDevice")},isAllowedOnMobile:function(){return this.get("MobileDisplayType")!==Fi.MobileDisplayTypes.SameAsDesktop||!!this.get("Demo")},useMobile:function(){return this.isMobileRequest()&&this.isAllowedOnMobile()},showImage:function(){return this.get("CollapsedStyle")===Fi.WidgetType.Image||this.get("CollapsedStyle")===Fi.WidgetType.ImageTab},anyButtonEnabled:function(){return this.get("ShowEmailButton")||this.get("ShowPhoneButton")||this.get("ShowTwitterButton")||this.get("ShowAddressButton")},poweredByUrl:function(){var t={c:this.get("Company")||"",utm_source:window.location.hostname,utm_medium:"widget",utm_campaign:"poweredby"},e=Object.keys(t).map((function(e){return"".concat(e,"=").concat(encodeURIComponent(t[e]))})).join("&");return"https://purechat.com/powered-by-purechat?".concat(e)},absoluteCollapsedImageUrl:function(t){return this.get("CollapsedStyle")===Fi.WidgetType.Button?"":t?this.absoluteUrl(this.get("AvailableCollapsedWidgetImageUrl")):this.absoluteUrl(this.get("UnavailableCollapsedWidgetImageUrl"))},mobileAbsoluteCollapsedImageUrl:function(t){return this.get("CollapsedStyle")===Fi.WidgetType.Button?"":t?this.absoluteUrl(this.get("MobileAvailableCollapsedWidgetImageUrl")):this.absoluteUrl(this.get("MobileUnavailableCollapsedWidgetImageUrl"))},absoluteUrl:function(t){var e=(t||"").toLowerCase().trim(),i=0===e.indexOf("~"),r=0===e.indexOf("/");return 1===e.length&&i?null:i||e.indexOf("files/download")>-1?this.get("apiCdnServerUrl")+(i?e.substring(1):e):r?rl(e,this.get("cdnServerUrl")):e},formatDateTime:function(t){var e=new Date(t);return e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear()+" "+(e.getHours()%12==0?"12":e.getHours()%12)+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+(e.getHours()>=12?"PM":"AM")},browserIsUnsupported:function(){var t=!1,e=this.get("BrowserDetails");if(!e)return t;switch(e.Version=parseFloat(e.Version),e.Browser.toLowerCase().replace(/s+/g,"")){case"internetexplorer":case"ie":e.Version<=10&&(t=!0);break;case"safari":e.Version<5&&(t=!0);break;case"opera":e.Version<12&&(t=!0)}return t},isFileTransferEnabled:function(){var t=this.get("room");return(!t||t.roomType===Fi.RoomType.Visitor)&&this.get("FileTransferEnabled")}}),sl=ol;function cl(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ll="_purechatVisitorWidgetPlaySound",pl=function(){function t(e){var i=this,r=e.settings;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.notificationSoundTimeout=null,this.soundIsPlaying=!1,this.settings=r;var n=window.localStorage.getItem(ll);window.localStorage._purechatVisitorWidgetPlaySound=null==n||"true"===n.toString().toLowerCase(),H.events.on("notifications:newMessage",(function(){return i.newMessage()}))}var e,i;return e=t,(i=[{key:"newMessage",value:function(){if(!this.settings.get("RequestFromMobileDevice")&&!this.settings.get("isInEditorMode")){var t=this.settings.get("VisitorNewMessageSoundUrl"),e="true"===window.localStorage.getItem(ll).toString().toLowerCase();if(t&&e&&"undefined"!=typeof Audio&&!this.soundIsPlaying){var i=new Audio;i.canPlayType("audio/wav")||i.canPlayType("audio/wave")?this.playSound(t.replace(".mp3",".wav")):this.playSound(t.replace(".wav",".mp3"))}}}},{key:"playSound",value:function(t){var e=this,i=new Audio("".concat(Z().cdnServerUrl).concat(t));i.onended=function(){e.soundIsPlaying=!1,i=null},this.soundIsPlaying=!0,i.play()}}])&&cl(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ul(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function hl(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ul(Object(i),!0).forEach((function(e){dl(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ul(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function dl(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function gl(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ml={accountId:"",chatServerUrl:"",checkWidgetAvailableInterval:2e4,config:{},connectionSettings:{},dataController:null,insertElement:null,isWidget:!1,apiServerUrl:Z().apiRootUrl,pureServerUrl:Z().dashboardRootUrl,cdnServerUrl:Z().cdnUrl,apiCdnServerUrl:Z().apiCdnServerUrl,renderInto:"body",userProperties:{userId:null,displayName:null,authToken:null,roomId:null,chatId:null},widgetId:""},fl=function(t){window.updateRubyRenderInternalCheckpoint&&window.updateRubyRenderInternalCheckpoint(t,!0)},bl=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.settings={}}var e,i;return e=t,i=[{key:"disableAvailabilityPings",get:function(){return this.settings.DisableAvailabilityPings||this.settings.IPIsBanned}},{key:"start",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p().noop;fl("legacy widget initializer start"),ne.init({logger:ue}),this.settings=hl(hl({hasAllSettings:!0},ml),t),fl("legacy widget controller setup start");var i=this.createServiceOptions();fl("legacy widget creating service instance");var r=i.test?new mr(i):new cr(hl(hl({},this.settings),i));fl("legacy widget setting data service"),de(r),fl("legacy widget setting view options");var n=this.createViewOptions();this.purechat=new bc(new sl(n)),fl("legacy widget setting notifications controller"),this.notificationsController=new pl({settings:this.purechat.options}),fl("legacy widget calling start callback"),e(this.purechat)}},{key:"createServiceOptions",value:function(){return{test:!1,widgetId:this.settings.widgetId||this.settings.c,connectionSettings:hl({},this.settings),isWidget:this.settings.isWidget||this.settings.f,pureServerUrl:this.settings.pureServerUrl,apiServerUrl:this.settings.apiServerUrl,renderInto:p()("body")}}},{key:"createViewOptions",value:function(){var t=!1;if(void 0!==window.Prototype)try{var e=window.Prototype.Version.split(/\./g);e.length>0&&(t=!(parseInt(e[0],10)>=2||parseInt(e[1],10)>=7)),t&&console.log("PureChat widgets are not compatible with Prototype.js versions < 1.7. Default widget behavior will popout into a new window")}catch(t){console.log(t)}return hl(hl({},this.settings),{test:!1,pureServerUrl:this.settings.pureServerUrl,widgetId:this.settings.widgetId||this.settings.c,isWidget:this.settings.isWidget||this.settings.f,renderInto:p()("body"),dataController:ge(),usePrototypeFallback:t})}},{key:"loadWidgetSettings",value:function(t){var e=this.settings.overrideWidgetId||this.settings.widgetId,i="".concat(Z().apiCdnServerUrl,"/api/visitorwidget/widget/").concat(e,"/").concat(t);return p().ajax({url:i,jsonpCallback:"_WidgetJPCB_WidgetSettings",dataType:"jsonp",cache:!0})}}],i&&gl(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}(),yl=function(t){window.updateRubyRenderInternalCheckpoint&&window.updateRubyRenderInternalCheckpoint(t,!0)};yl("creating initializer");var vl=new bl;yl("putting initializer on window"),window._pcWidgetInitializer=vl},7894:function(t,e,i){var r,n,a;n=[e,i(6083),i(7410)],r=function(t,e,i){"use strict";e.Relational={showWarnings:!0},e.Semaphore={_permitsAvailable:null,_permitsUsed:0,acquire:function(){if(this._permitsAvailable&&this._permitsUsed>=this._permitsAvailable)throw new Error("Max permits acquired");this._permitsUsed++},release:function(){if(0===this._permitsUsed)throw new Error("All permits released");this._permitsUsed--},isLocked:function(){return this._permitsUsed>0},setAvailablePermits:function(t){if(this._permitsUsed>t)throw new Error("Available permits cannot be less than used permits");this._permitsAvailable=t}},e.BlockingQueue=function(){this._queue=[]},i.extend(e.BlockingQueue.prototype,e.Semaphore,{_queue:null,add:function(t){this.isBlocked()?this._queue.push(t):t()},process:function(){var t=this._queue;for(this._queue=[];t&&t.length;)t.shift()()},block:function(){this.acquire()},unblock:function(){this.release(),this.isBlocked()||this.process()},isBlocked:function(){return this.isLocked()}}),e.Relational.eventQueue=new e.BlockingQueue,e.Store=function(){this._collections=[],this._reverseRelations=[],this._orphanRelations=[],this._subModels=[],this._modelScopes=[t]},i.extend(e.Store.prototype,e.Events,{initializeRelation:function(t,r,n){var a=i.isString(r.type)?e[r.type]||this.getObjectByName(r.type):r.type;a&&a.prototype instanceof e.Relation?new a(t,r,n):e.Relational.showWarnings&&"undefined"!=typeof console&&console.warn("Relation=%o; missing or invalid relation type!",r)},addModelScope:function(t){this._modelScopes.push(t)},removeModelScope:function(t){this._modelScopes=i.without(this._modelScopes,t)},addSubModels:function(t,e){this._subModels.push({superModelType:e,subModels:t})},setupSuperModel:function(t){i.find(this._subModels,(function(e){return i.filter(e.subModels||[],(function(i,r){var n=this.getObjectByName(i);if(t===n)return e.superModelType._subModels[r]=t,t._superModel=e.superModelType,t._subModelTypeValue=r,t._subModelTypeAttribute=e.superModelType.prototype.subModelTypeAttribute,!0}),this).length}),this)},addReverseRelation:function(t){!i.any(this._reverseRelations,(function(e){return i.all(t||[],(function(t,i){return t===e[i]}))}))&&t.model&&t.type&&(this._reverseRelations.push(t),this._addRelation(t.model,t),this.retroFitRelation(t))},addOrphanRelation:function(t){!i.any(this._orphanRelations,(function(e){return i.all(t||[],(function(t,i){return t===e[i]}))}))&&t.model&&t.type&&this._orphanRelations.push(t)},processOrphanRelations:function(){i.each(this._orphanRelations.slice(0),(function(t){e.Relational.store.getObjectByName(t.relatedModel)&&(this.initializeRelation(null,t),this._orphanRelations=i.without(this._orphanRelations,t))}),this)},_addRelation:function(t,e){t.prototype.relations||(t.prototype.relations=[]),t.prototype.relations.push(e),i.each(t._subModels||[],(function(t){this._addRelation(t,e)}),this)},retroFitRelation:function(t){var e=this.getCollection(t.model,!1);e&&e.each((function(e){e instanceof t.model&&new t.type(e,t)}),this)},getCollection:function(t,r){t instanceof e.RelationalModel&&(t=t.constructor);for(var n=t;n._superModel;)n=n._superModel;var a=i.find(this._collections,(function(t){return t.model===n}));return a||!1===r||(a=this._createCollection(n)),a},getObjectByName:function(t){var e=t.split("."),r=null;return i.find(this._modelScopes,(function(t){if((r=i.reduce(e||[],(function(t,e){return t?t[e]:void 0}),t))&&r!==t)return!0}),this),r},_createCollection:function(t){var i;return t instanceof e.RelationalModel&&(t=t.constructor),t.prototype instanceof e.RelationalModel&&((i=new e.Collection).model=t,this._collections.push(i)),i},resolveIdForItem:function(t,r){var n=i.isString(r)||i.isNumber(r)?r:null;return null===n&&(r instanceof e.RelationalModel?n=r.id:i.isObject(r)&&(n=r[t.prototype.idAttribute])),n||0===n||(n=null),n},find:function(t,e){var i=this.resolveIdForItem(t,e),r=this.getCollection(t);if(r){var n=r.get(i);if(n instanceof t)return n}return null},register:function(t){var e=this.getCollection(t);if(e){var i=t.collection;e.add(t),t.collection=i}},checkId:function(t,i){var r=this.getCollection(t),n=r&&r.get(i);if(n&&t!==n)throw e.Relational.showWarnings&&"undefined"!=typeof console&&console.warn("Duplicate id! Old RelationalModel=%o, new RelationalModel=%o",n,t),new Error("Cannot instantiate more than one Backbone.RelationalModel with the same id per type!")},update:function(t){var e=this.getCollection(t);e.contains(t)||this.register(t),e._onModelEvent("change:"+t.idAttribute,t,e),t.trigger("relational:change:id",t,e)},unregister:function(t){var r,n;t instanceof e.Model?(r=this.getCollection(t),n=[t]):t instanceof e.Collection?(r=this.getCollection(t.model),n=i.clone(t.models)):(r=this.getCollection(t),n=i.clone(r.models)),i.each(n,(function(t){this.stopListening(t),i.invoke(t.getRelations(),"stopListening")}),this),i.contains(this._collections,t)?r.reset([]):i.each(n,(function(t){r.get(t)?r.remove(t):r.trigger("relational:remove",t,r)}),this)},reset:function(){this.stopListening(),i.each(this._collections,(function(t){this.unregister(t)}),this),this._collections=[],this._subModels=[],this._modelScopes=[t]}}),e.Relational.store=new e.Store,e.Relation=function(t,r,n){if(this.instance=t,r=i.isObject(r)?r:{},this.reverseRelation=i.defaults(r.reverseRelation||{},this.options.reverseRelation),this.options=i.defaults(r,this.options,e.Relation.prototype.options),this.reverseRelation.type=i.isString(this.reverseRelation.type)?e[this.reverseRelation.type]||e.Relational.store.getObjectByName(this.reverseRelation.type):this.reverseRelation.type,this.key=this.options.key,this.keySource=this.options.keySource||this.key,this.keyDestination=this.options.keyDestination||this.keySource||this.key,this.model=this.options.model||this.instance.constructor,this.relatedModel=this.options.relatedModel,i.isUndefined(this.relatedModel)&&(this.relatedModel=this.model),!i.isFunction(this.relatedModel)||this.relatedModel.prototype instanceof e.RelationalModel||(this.relatedModel=i.result(this,"relatedModel")),i.isString(this.relatedModel)&&(this.relatedModel=e.Relational.store.getObjectByName(this.relatedModel)),this.checkPreconditions()&&(!this.options.isAutoRelation&&this.reverseRelation.type&&this.reverseRelation.key&&e.Relational.store.addReverseRelation(i.defaults({isAutoRelation:!0,model:this.relatedModel,relatedModel:this.model,reverseRelation:this.options},this.reverseRelation)),t)){var a=this.keySource;a!==this.key&&i.isObject(this.instance.get(this.key))&&(a=this.key),this.setKeyContents(this.instance.get(a)),this.relatedCollection=e.Relational.store.getCollection(this.relatedModel),this.keySource!==this.key&&delete this.instance.attributes[this.keySource],this.instance._relations[this.key]=this,this.initialize(n),this.options.autoFetch&&this.instance.getAsync(this.key,i.isObject(this.options.autoFetch)?this.options.autoFetch:{}),this.listenTo(this.instance,"destroy",this.destroy).listenTo(this.relatedCollection,"relational:add relational:change:id",this.tryAddRelated).listenTo(this.relatedCollection,"relational:remove",this.removeRelated)}},e.Relation.extend=e.Model.extend,i.extend(e.Relation.prototype,e.Events,e.Semaphore,{options:{createModels:!0,includeInJSON:!0,isAutoRelation:!1,autoFetch:!1,parse:!1},instance:null,key:null,keyContents:null,relatedModel:null,relatedCollection:null,reverseRelation:null,related:null,checkPreconditions:function(){var t=this.instance,r=this.key,n=this.model,a=this.relatedModel,o=e.Relational.showWarnings&&"undefined"!=typeof console;if(!n||!r||!a)return o&&console.warn("Relation=%o: missing model, key or relatedModel (%o, %o, %o).",this,n,r,a),!1;if(!(n.prototype instanceof e.RelationalModel))return o&&console.warn("Relation=%o: model does not inherit from Backbone.RelationalModel (%o).",this,t),!1;if(!(a.prototype instanceof e.RelationalModel))return o&&console.warn("Relation=%o: relatedModel does not inherit from Backbone.RelationalModel (%o).",this,a),!1;if(this instanceof e.HasMany&&this.reverseRelation.type===e.HasMany)return o&&console.warn("Relation=%o: relation is a HasMany, and the reverseRelation is HasMany as well.",this),!1;if(t&&i.keys(t._relations).length){var s=i.find(t._relations,(function(t){return t.key===r}),this);if(s)return o&&console.warn("Cannot create relation=%o on %o for model=%o: already taken by relation=%o.",this,r,t,s),!1}return!0},setRelated:function(t){this.related=t,this.instance.attributes[this.key]=t},_isReverseRelation:function(t){return t.instance instanceof this.relatedModel&&this.reverseRelation.key===t.key&&this.key===t.reverseRelation.key},getReverseRelations:function(t){for(var e=[],r=i.isUndefined(t)?this.related&&(this.related.models||[this.related]):[t],n=null,a=null,o=0;o<(r||[]).length;o++){n=r[o].getRelations()||[];for(var s=0;s<n.length;s++)a=n[s],this._isReverseRelation(a)&&e.push(a)}return e},destroy:function(){this.stopListening(),this instanceof e.HasOne?this.setRelated(null):this instanceof e.HasMany&&this.setRelated(this._prepareCollection()),i.each(this.getReverseRelations(),(function(t){t.removeRelated(this.instance)}),this)}}),e.HasOne=e.Relation.extend({options:{reverseRelation:{type:"HasMany"}},initialize:function(t){this.listenTo(this.instance,"relational:change:"+this.key,this.onChange);var e=this.findRelated(t);this.setRelated(e),i.each(this.getReverseRelations(),(function(e){e.addRelated(this.instance,t)}),this)},findRelated:function(t){var e=null;if(t=i.defaults({parse:this.options.parse},t),this.keyContents instanceof this.relatedModel)e=this.keyContents;else if(this.keyContents||0===this.keyContents){var r=i.defaults({create:this.options.createModels},t);e=this.relatedModel.findOrCreate(this.keyContents,r)}return e&&(this.keyId=null),e},setKeyContents:function(t){this.keyContents=t,this.keyId=e.Relational.store.resolveIdForItem(this.relatedModel,this.keyContents)},onChange:function(t,r,n){if(!this.isLocked()){this.acquire(),n=n?i.clone(n):{};var a=i.isUndefined(n.__related),o=a?this.related:n.__related;if(a){this.setKeyContents(r);var s=this.findRelated(n);this.setRelated(s)}if(o&&this.related!==o&&i.each(this.getReverseRelations(o),(function(t){t.removeRelated(this.instance,null,n)}),this),i.each(this.getReverseRelations(),(function(t){t.addRelated(this.instance,n)}),this),!n.silent&&this.related!==o){var c=this;this.changed=!0,e.Relational.eventQueue.add((function(){c.instance.trigger("change:"+c.key,c.instance,c.related,n,!0),c.changed=!1}))}this.release()}},tryAddRelated:function(t,e,i){!this.keyId&&0!==this.keyId||t.id!==this.keyId||(this.addRelated(t,i),this.keyId=null)},addRelated:function(t,e){var r=this;t.queue((function(){if(t!==r.related){var n=r.related||null;r.setRelated(t),r.onChange(r.instance,t,i.defaults({__related:n},e))}}))},removeRelated:function(t,e,r){if(this.related&&t===this.related){var n=this.related||null;this.setRelated(null),this.onChange(this.instance,t,i.defaults({__related:n},r))}}}),e.HasMany=e.Relation.extend({collectionType:null,options:{reverseRelation:{type:"HasOne"},collectionType:e.Collection,collectionKey:!0,collectionOptions:{}},initialize:function(t){if(this.listenTo(this.instance,"relational:change:"+this.key,this.onChange),this.collectionType=this.options.collectionType,!i.isFunction(this.collectionType)||this.collectionType===e.Collection||this.collectionType.prototype instanceof e.Collection||(this.collectionType=i.result(this,"collectionType")),i.isString(this.collectionType)&&(this.collectionType=e.Relational.store.getObjectByName(this.collectionType)),this.collectionType!==e.Collection&&!(this.collectionType.prototype instanceof e.Collection))throw new Error("`collectionType` must inherit from Backbone.Collection");var r=this.findRelated(t);this.setRelated(r)},_prepareCollection:function(t){if(this.related&&this.stopListening(this.related),!(t&&t instanceof e.Collection)){var r=i.isFunction(this.options.collectionOptions)?this.options.collectionOptions(this.instance):this.options.collectionOptions;t=new this.collectionType(null,r)}if(t.model=this.relatedModel,this.options.collectionKey){var n=!0===this.options.collectionKey?this.options.reverseRelation.key:this.options.collectionKey;t[n]&&t[n]!==this.instance?e.Relational.showWarnings&&"undefined"!=typeof console&&console.warn("Relation=%o; collectionKey=%s already exists on collection=%o",this,n,this.options.collectionKey):n&&(t[n]=this.instance)}return this.listenTo(t,"relational:add",this.handleAddition).listenTo(t,"relational:remove",this.handleRemoval).listenTo(t,"relational:reset",this.handleReset),t},findRelated:function(t){var r=null;if(t=i.defaults({parse:this.options.parse},t),this.keyContents instanceof e.Collection)this._prepareCollection(this.keyContents),r=this.keyContents;else{var n=[];i.each(this.keyContents,(function(e){var r;(r=e instanceof this.relatedModel?e:i.isObject(e)&&t.parse&&this.relatedModel.prototype.parse?this.relatedModel.prototype.parse(i.clone(e),t):e)&&n.push(r)}),this),(r=this.related instanceof e.Collection?this.related:this._prepareCollection()).set(n,i.defaults({parse:!1},t))}return this.keyIds=i.difference(this.keyIds,i.pluck(r.models,"id")),r},setKeyContents:function(t){this.keyContents=t instanceof e.Collection?t:null,this.keyIds=[],this.keyContents||!t&&0!==t||(this.keyContents=i.isArray(t)?t:[t],i.each(this.keyContents,(function(t){var i=e.Relational.store.resolveIdForItem(this.relatedModel,t);(i||0===i)&&this.keyIds.push(i)}),this))},onChange:function(t,r,n){n=n?i.clone(n):{},this.setKeyContents(r),this.changed=!1;var a=this.findRelated(n);if(this.setRelated(a),!n.silent){var o=this;e.Relational.eventQueue.add((function(){o.changed&&(o.instance.trigger("change:"+o.key,o.instance,o.related,n,!0),o.changed=!1)}))}},handleAddition:function(t,r,n){n=n?i.clone(n):{},this.changed=!0,i.each(this.getReverseRelations(t),(function(t){t.addRelated(this.instance,n)}),this);var a=this;!n.silent&&e.Relational.eventQueue.add((function(){a.instance.trigger("add:"+a.key,t,a.related,n)}))},handleRemoval:function(t,r,n){n=n?i.clone(n):{},this.changed=!0,i.each(this.getReverseRelations(t),(function(t){t.removeRelated(this.instance,null,n)}),this);var a=this;!n.silent&&e.Relational.eventQueue.add((function(){a.instance.trigger("remove:"+a.key,t,a.related,n)}))},handleReset:function(t,r){var n=this;!(r=r?i.clone(r):{}).silent&&e.Relational.eventQueue.add((function(){n.instance.trigger("reset:"+n.key,n.related,r)}))},tryAddRelated:function(t,e,r){i.contains(this.keyIds,t.id)&&(this.addRelated(t,r),this.keyIds=i.without(this.keyIds,t.id))},addRelated:function(t,e){var r=this;t.queue((function(){r.related&&!r.related.get(t)&&r.related.add(t,i.defaults({parse:!1},e))}))},removeRelated:function(t,e,i){this.related.get(t)&&this.related.remove(t,i)}}),e.RelationalModel=e.Model.extend({relations:null,_relations:null,_isInitialized:!1,_deferProcessing:!1,_queue:null,_attributeChangeFired:!1,subModelTypeAttribute:"type",subModelTypes:null,constructor:function(t,r){if(r&&r.collection){var n=this,a=this.collection=r.collection;delete r.collection,this._deferProcessing=!0;var o=function(t){t===n&&(n._deferProcessing=!1,n.processQueue(),a.off("relational:add",o))};a.on("relational:add",o),i.defer((function(){o(n)}))}e.Relational.store.processOrphanRelations(),e.Relational.store.listenTo(this,"relational:unregister",e.Relational.store.unregister),this._queue=new e.BlockingQueue,this._queue.block(),e.Relational.eventQueue.block();try{e.Model.apply(this,arguments)}finally{e.Relational.eventQueue.unblock()}},trigger:function(t){if(t.length>5&&0===t.indexOf("change")){var i=this,r=arguments;e.Relational.eventQueue.isBlocked()?e.Relational.eventQueue.add((function(){var n=!0;if("change"===t)n=i.hasChanged()||i._attributeChangeFired,i._attributeChangeFired=!1;else{var a=t.slice(7),o=i.getRelation(a);o?(n=!0===r[4])?i.changed[a]=r[2]:o.changed||delete i.changed[a]:n&&(i._attributeChangeFired=!0)}n&&e.Model.prototype.trigger.apply(i,r)})):e.Model.prototype.trigger.apply(i,r)}else"destroy"===t?(e.Model.prototype.trigger.apply(this,arguments),e.Relational.store.unregister(this)):e.Model.prototype.trigger.apply(this,arguments);return this},initializeRelations:function(t){this.acquire(),this._relations={},i.each(this.relations||[],(function(i){e.Relational.store.initializeRelation(this,i,t)}),this),this._isInitialized=!0,this.release(),this.processQueue()},updateRelations:function(t,e){this._isInitialized&&!this.isLocked()&&i.each(this._relations,(function(i){if(!t||i.keySource in t||i.key in t){var r=this.attributes[i.keySource]||this.attributes[i.key],n=t&&(t[i.keySource]||t[i.key]);(i.related!==r||null===r&&null===n)&&this.trigger("relational:change:"+i.key,this,r,e||{})}i.keySource!==i.key&&delete this.attributes[i.keySource]}),this)},queue:function(t){this._queue.add(t)},processQueue:function(){this._isInitialized&&!this._deferProcessing&&this._queue.isBlocked()&&this._queue.unblock()},getRelation:function(t){return this._relations[t]},getRelations:function(){return i.values(this._relations)},getIdsToFetch:function(t,r){var n=t instanceof e.Relation?t:this.getRelation(t),a=n?n.keyIds&&n.keyIds.slice(0)||(n.keyId||0===n.keyId?[n.keyId]:[]):[];if(r){var o=n.related&&(n.related.models||[n.related]);i.each(o,(function(t){(t.id||0===t.id)&&a.push(t.id)}))}return a},getAsync:function(t,r){r=i.extend({add:!0,remove:!1,refresh:!1},r);var n=this,a=[],o=this.getRelation(t),s=o&&this.getIdsToFetch(o,r.refresh),c=o.related instanceof e.Collection?o.related:o.relatedCollection;if(s&&s.length){var l,p=[],u=[],h=function(){p=i.map(s,(function(t){var e=o.relatedModel.findModel(t);if(!e){var i={};i[o.relatedModel.prototype.idAttribute]=t,e=o.relatedModel.findOrCreate(i,r),u.push(e)}return e}),this)};if(c instanceof e.Collection&&i.isFunction(c.url)){var d=c.url();(l=c.url(s))===d&&(h(),(l=c.url(p))===d&&(l=null))}if(l){var g=i.defaults({error:function(){i.each(u,(function(t){t.trigger("destroy",t,t.collection,r)})),r.error&&r.error.apply(p,arguments)},url:l},r);a=[c.fetch(g)]}else p.length||h(),a=i.map(p,(function(t){var e=i.defaults({error:function(){i.contains(u,t)&&t.trigger("destroy",t,t.collection,r),r.error&&r.error.apply(p,arguments)}},r);return t.fetch(e)}),this)}return this.deferArray(a).then((function(){return e.Model.prototype.get.call(n,t)}))},deferArray:function(t){return e.$.when.apply(null,t)},set:function(t,r,n){var a,o;e.Relational.eventQueue.block(),i.isObject(t)||null==t?(a=t,n=r):(a={})[t]=r;try{var s=this.id,c=a&&this.idAttribute in a&&a[this.idAttribute];e.Relational.store.checkId(this,c),o=e.Model.prototype.set.apply(this,arguments),this._isInitialized||this.isLocked()?c&&c!==s&&e.Relational.store.update(this):(this.constructor.initializeModelHierarchy(),(c||0===c)&&e.Relational.store.register(this),this.initializeRelations(n)),a&&this.updateRelations(a,n)}finally{e.Relational.eventQueue.unblock()}return o},clone:function(){var t=i.clone(this.attributes);return i.isUndefined(t[this.idAttribute])||(t[this.idAttribute]=null),i.each(this.getRelations(),(function(e){delete t[e.key]})),new this.constructor(t)},toJSON:function(t){if(this.isLocked())return this.id;this.acquire();var r=e.Model.prototype.toJSON.call(this,t);return this.constructor._superModel&&!(this.constructor._subModelTypeAttribute in r)&&(r[this.constructor._subModelTypeAttribute]=this.constructor._subModelTypeValue),i.each(this._relations,(function(n){var a=r[n.key],o=n.options.includeInJSON,s=null;!0===o?a&&i.isFunction(a.toJSON)&&(s=a.toJSON(t)):i.isString(o)?(a instanceof e.Collection?s=a.pluck(o):a instanceof e.Model&&(s=a.get(o)),o===n.relatedModel.prototype.idAttribute&&(n instanceof e.HasMany?s=s.concat(n.keyIds):n instanceof e.HasOne&&((s=s||n.keyId)||i.isObject(n.keyContents)||(s=n.keyContents||null)))):i.isArray(o)?a instanceof e.Collection?(s=[],a.each((function(t){var e={};i.each(o,(function(i){e[i]=t.get(i)})),s.push(e)}))):a instanceof e.Model&&(s={},i.each(o,(function(t){s[t]=a.get(t)}))):delete r[n.key],null===s&&t&&t.wait&&(s=a),o&&(r[n.keyDestination]=s),n.keyDestination!==n.key&&delete r[n.key]})),this.release(),r}},{setup:function(t){return this.prototype.relations=(this.prototype.relations||[]).slice(0),this._subModels={},this._superModel=null,this.prototype.hasOwnProperty("subModelTypes")?e.Relational.store.addSubModels(this.prototype.subModelTypes,this):this.prototype.subModelTypes=null,i.each(this.prototype.relations||[],(function(t){if(t.model||(t.model=this),t.reverseRelation&&t.model===this){var r=!0;if(i.isString(t.relatedModel)){var n=e.Relational.store.getObjectByName(t.relatedModel);r=n&&n.prototype instanceof e.RelationalModel}r?e.Relational.store.initializeRelation(null,t):i.isString(t.relatedModel)&&e.Relational.store.addOrphanRelation(t)}}),this),this},build:function(t,e){return this.initializeModelHierarchy(),new(this._findSubModelType(this,t)||this)(t,e)},_findSubModelType:function(t,e){if(t._subModels&&t.prototype.subModelTypeAttribute in e){var i=e[t.prototype.subModelTypeAttribute],r=t._subModels[i];if(r)return r;for(i in t._subModels)if(r=this._findSubModelType(t._subModels[i],e))return r}return null},initializeModelHierarchy:function(){if(this.inheritRelations(),this.prototype.subModelTypes){var t=i.keys(this._subModels),r=i.omit(this.prototype.subModelTypes,t);i.each(r,(function(t){var i=e.Relational.store.getObjectByName(t);i&&i.initializeModelHierarchy()}))}},inheritRelations:function(){if(i.isUndefined(this._superModel)||i.isNull(this._superModel))if(e.Relational.store.setupSuperModel(this),this._superModel){if(this._superModel.inheritRelations(),this._superModel.prototype.relations){var t=i.filter(this._superModel.prototype.relations||[],(function(t){return!i.any(this.prototype.relations||[],(function(e){return t.relatedModel===e.relatedModel&&t.key===e.key}),this)}),this);this.prototype.relations=t.concat(this.prototype.relations)}}else this._superModel=!1},findOrCreate:function(t,e){e||(e={});var r=i.isObject(t)&&e.parse&&this.prototype.parse?this.prototype.parse(i.clone(t),e):t,n=this.findModel(r);return i.isObject(t)&&(n&&!1!==e.merge?(delete e.collection,delete e.url,n.set(r,e)):n||!1===e.create||(n=this.build(r,i.defaults({parse:!1},e)))),n},find:function(t,e){return e||(e={}),e.create=!1,this.findOrCreate(t,e)},findModel:function(t){return e.Relational.store.find(this,t)}}),i.extend(e.RelationalModel.prototype,e.Semaphore),e.Collection.prototype.__prepareModel=e.Collection.prototype._prepareModel,e.Collection.prototype._prepareModel=function(t,r){var n;return t instanceof e.Model?(t.collection||(t.collection=this),n=t):((r=r?i.clone(r):{}).collection=this,(n=void 0!==this.model.findOrCreate?this.model.findOrCreate(t,r):new this.model(t,r))&&n.validationError&&(this.trigger("invalid",this,t,r),n=!1)),n};var r=e.Collection.prototype.__set=e.Collection.prototype.set;e.Collection.prototype.set=function(t,n){if(!(this.model.prototype instanceof e.RelationalModel))return r.call(this,t,n);n&&n.parse&&(t=this.parse(t,n));var a=!i.isArray(t),o=[],s=[],c=null;t=a?t?[t]:[]:i.clone(t);for(var l=0;l<t.length;l++)(c=t[l])instanceof e.Model||(c=e.Collection.prototype._prepareModel.call(this,c,n)),c&&(s.push(c),this.get(c)||this.get(c.cid)?null!==c.id&&void 0!==c.id&&(this._byId[c.id]=c):o.push(c));s=a?s.length?s[0]:null:s;var p=r.call(this,s,i.defaults({merge:!1,parse:!1},n));for(l=0;l<o.length;l++)c=o[l],(this.get(c)||this.get(c.cid))&&this.trigger("relational:add",c,this,n);return p};var n=e.Collection.prototype.___removeModels=e.Collection.prototype._removeModels;e.Collection.prototype._removeModels=function(t,r){if(!(this.model.prototype instanceof e.RelationalModel))return n.call(this,t,r);var a=[];i.each(t,(function(t){(t=this.get(t)||t&&this.get(t.cid))&&a.push(t)}),this);var o=n.call(this,a,r);return i.each(a,(function(t){this.trigger("relational:remove",t,this,r)}),this),o};var a=e.Collection.prototype.__reset=e.Collection.prototype.reset;e.Collection.prototype.reset=function(t,r){r=i.extend({merge:!0},r);var n=a.call(this,t,r);return this.model.prototype instanceof e.RelationalModel&&this.trigger("relational:reset",this,r),n};var o=e.Collection.prototype.__sort=e.Collection.prototype.sort;e.Collection.prototype.sort=function(t){var i=o.call(this,t);return this.model.prototype instanceof e.RelationalModel&&this.trigger("relational:reset",this,t),i};var s=e.Collection.prototype.__trigger=e.Collection.prototype.trigger;e.Collection.prototype.trigger=function(t){if(!(this.model.prototype instanceof e.RelationalModel))return s.apply(this,arguments);if("add"===t||"remove"===t||"reset"===t||"sort"===t){var r=this,n=arguments;i.isObject(n[3])&&((n=i.toArray(n))[3]=i.clone(n[3])),e.Relational.eventQueue.add((function(){s.apply(r,n)}))}else s.apply(this,arguments);return this},e.RelationalModel.extend=function(t,i){var r=e.Model.extend.call(this,t,i);return r.setup(this),r}},void 0===(a=r.apply(e,n))||(t.exports=a)},4411:function(t,e,i){var r,n,a;a=this,r=[i(6083),i(7410)],n=function(t,e){return a.Marionette=a.Mn=function(t,e,i){"use strict";(function(t,e){var i=t.ChildViewContainer;t.ChildViewContainer=function(t,e){var i=function(t){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),e.each(t,this.add,this)};e.extend(i.prototype,{add:function(t,e){var i=t.cid;return this._views[i]=t,t.model&&(this._indexByModel[t.model.cid]=i),e&&(this._indexByCustom[e]=i),this._updateLength(),this},findByModel:function(t){return this.findByModelCid(t.cid)},findByModelCid:function(t){var e=this._indexByModel[t];return this.findByCid(e)},findByCustom:function(t){var e=this._indexByCustom[t];return this.findByCid(e)},findByIndex:function(t){return e.values(this._views)[t]},findByCid:function(t){return this._views[t]},remove:function(t){var i=t.cid;return t.model&&delete this._indexByModel[t.model.cid],e.any(this._indexByCustom,(function(t,e){if(t===i)return delete this._indexByCustom[e],!0}),this),delete this._views[i],this._updateLength(),this},call:function(t){this.apply(t,e.tail(arguments))},apply:function(t,i){e.each(this._views,(function(r){e.isFunction(r[t])&&r[t].apply(r,i||[])}))},_updateLength:function(){this.length=e.size(this._views)}});return e.each(["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck","reduce"],(function(t){i.prototype[t]=function(){var i=[e.values(this._views)].concat(e.toArray(arguments));return e[t].apply(e,i)}})),i}(0,e),t.ChildViewContainer.VERSION="0.1.11",t.ChildViewContainer.noConflict=function(){return t.ChildViewContainer=i,this},t.ChildViewContainer})(e,i),function(t,e){var i,r,n=t.Wreqr,a=t.Wreqr={};t.Wreqr.VERSION="1.3.6",t.Wreqr.noConflict=function(){return t.Wreqr=n,this},a.Handlers=function(t,e){var i=function(t){this.options=t,this._wreqrHandlers={},e.isFunction(this.initialize)&&this.initialize(t)};return i.extend=t.Model.extend,e.extend(i.prototype,t.Events,{setHandlers:function(t){e.each(t,(function(t,i){var r=null;e.isObject(t)&&!e.isFunction(t)&&(r=t.context,t=t.callback),this.setHandler(i,t,r)}),this)},setHandler:function(t,e,i){var r={callback:e,context:i};this._wreqrHandlers[t]=r,this.trigger("handler:add",t,e,i)},hasHandler:function(t){return!!this._wreqrHandlers[t]},getHandler:function(t){var e=this._wreqrHandlers[t];if(e)return function(){return e.callback.apply(e.context,arguments)}},removeHandler:function(t){delete this._wreqrHandlers[t]},removeAllHandlers:function(){this._wreqrHandlers={}}}),i}(t,e),a.CommandStorage=(i=function(t){this.options=t,this._commands={},e.isFunction(this.initialize)&&this.initialize(t)},e.extend(i.prototype,t.Events,{getCommands:function(t){var e=this._commands[t];return e||(e={command:t,instances:[]},this._commands[t]=e),e},addCommand:function(t,e){this.getCommands(t).instances.push(e)},clearCommands:function(t){this.getCommands(t).instances=[]}}),i),a.Commands=function(t,e){return t.Handlers.extend({storageType:t.CommandStorage,constructor:function(e){this.options=e||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this),t.Handlers.prototype.constructor.apply(this,arguments)},execute:function(t){t=arguments[0];var i=e.rest(arguments);this.hasHandler(t)?this.getHandler(t).apply(this,i):this.storage.addCommand(t,i)},_executeCommands:function(t,i,r){var n=this.storage.getCommands(t);e.each(n.instances,(function(t){i.apply(r,t)})),this.storage.clearCommands(t)},_initializeStorage:function(t){var i,r=t.storageType||this.storageType;i=e.isFunction(r)?new r:r,this.storage=i}})}(a,e),a.RequestResponse=function(t,e){return t.Handlers.extend({request:function(t){if(this.hasHandler(t))return this.getHandler(t).apply(this,e.rest(arguments))}})}(a,e),a.EventAggregator=function(t,e){var i=function(){};return i.extend=t.Model.extend,e.extend(i.prototype,t.Events),i}(t,e),a.Channel=(r=function(e){this.vent=new t.Wreqr.EventAggregator,this.reqres=new t.Wreqr.RequestResponse,this.commands=new t.Wreqr.Commands,this.channelName=e},e.extend(r.prototype,{reset:function(){return this.vent.off(),this.vent.stopListening(),this.reqres.removeAllHandlers(),this.commands.removeAllHandlers(),this},connectEvents:function(t,e){return this._connect("vent",t,e),this},connectCommands:function(t,e){return this._connect("commands",t,e),this},connectRequests:function(t,e){return this._connect("reqres",t,e),this},_connect:function(t,i,r){if(i){r=r||this;var n="vent"===t?"on":"setHandler";e.each(i,(function(i,a){this[t][n](a,e.bind(i,r))}),this)}}}),r),a.radio=function(t,e){var i=function(){this._channels={},this.vent={},this.commands={},this.reqres={},this._proxyMethods()};e.extend(i.prototype,{channel:function(t){if(!t)throw new Error("Channel must receive a name");return this._getChannel(t)},_getChannel:function(e){var i=this._channels[e];return i||(i=new t.Channel(e),this._channels[e]=i),i},_proxyMethods:function(){e.each(["vent","commands","reqres"],(function(t){e.each(r[t],(function(e){this[t][e]=n(this,t,e)}),this)}),this)}});var r={vent:["on","off","trigger","once","stopListening","listenTo","listenToOnce"],commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},n=function(t,i,r){return function(n){var a=t._getChannel(n)[i];return a[r].apply(a,e.rest(arguments))}};return new i}(a,e),t.Wreqr}(e,i);var r=t.Marionette,n=t.Mn,a=e.Marionette={};a.VERSION="2.4.7",a.noConflict=function(){return t.Marionette=r,t.Mn=n,this},e.Marionette=a,a.Deferred=e.$.Deferred,a.extend=e.Model.extend,a.isNodeAttached=function(t){return e.$.contains(document.documentElement,t)},a.mergeOptions=function(t,e){t&&i.extend(this,i.pick(t,e))},a.getOption=function(t,e){if(t&&e)return t.options&&void 0!==t.options[e]?t.options[e]:t[e]},a.proxyGetOption=function(t){return a.getOption(this,t)},a._getValue=function(t,e,r){return i.isFunction(t)&&(t=r?t.apply(e,r):t.call(e)),t},a.normalizeMethods=function(t){return i.reduce(t,(function(t,e,r){return i.isFunction(e)||(e=this[e]),e&&(t[r]=e),t}),{},this)},a.normalizeUIString=function(t,e){return t.replace(/@ui\.[a-zA-Z-_$0-9]*/g,(function(t){return e[t.slice(4)]}))},a.normalizeUIKeys=function(t,e){return i.reduce(t,(function(t,i,r){return t[a.normalizeUIString(r,e)]=i,t}),{})},a.normalizeUIValues=function(t,e,r){return i.each(t,(function(n,o){i.isString(n)?t[o]=a.normalizeUIString(n,e):i.isObject(n)&&i.isArray(r)&&(i.extend(n,a.normalizeUIValues(i.pick(n,r),e)),i.each(r,(function(t){var r=n[t];i.isString(r)&&(n[t]=a.normalizeUIString(r,e))})))})),t},a.actAsCollection=function(t,e){i.each(["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"],(function(r){t[r]=function(){var t=[i.values(i.result(this,e))].concat(i.toArray(arguments));return i[r].apply(i,t)}}))};var o=a.deprecate=function(t,e){i.isObject(t)&&(t=t.prev+" is going to be removed in the future. Please use "+t.next+" instead."+(t.url?" See: "+t.url:"")),void 0!==e&&e||o._cache[t]||(o._warn("Deprecation warning: "+t),o._cache[t]=!0)};o._console="undefined"!=typeof console?console:{},o._warn=function(){return(o._console.warn||o._console.log||function(){}).apply(o._console,arguments)},o._cache={},a._triggerMethod=function(){var t=/(^|:)(\w)/gi;function e(t,e,i){return i.toUpperCase()}return function(r,n,a){var o=arguments.length<3;o&&(n=(a=n)[0]);var s,c=r["on"+n.replace(t,e)];return i.isFunction(c)&&(s=c.apply(r,o?i.rest(a):a)),i.isFunction(r.trigger)&&(o+a.length>1?r.trigger.apply(r,o?a:[n].concat(i.drop(a,0))):r.trigger(n)),s}}(),a.triggerMethod=function(t){return a._triggerMethod(this,arguments)},a.triggerMethodOn=function(t){return(i.isFunction(t.triggerMethod)?t.triggerMethod:a.triggerMethod).apply(t,i.rest(arguments))},a.MonitorDOMRefresh=function(t){function e(){t._isShown&&t._isRendered&&a.isNodeAttached(t.el)&&a.triggerMethodOn(t,"dom:refresh",t)}t._isDomRefreshMonitored||(t._isDomRefreshMonitored=!0,t.on({show:function(){t._isShown=!0,e()},render:function(){t._isRendered=!0,e()}}))},function(t){function e(e,r,n,a){var o=a.split(/\s+/);i.each(o,(function(i){var a=e[i];if(!a)throw new t.Error('Method "'+i+'" was configured as an event handler, but does not exist.');e.listenTo(r,n,a)}))}function r(t,e,i,r){t.listenTo(e,i,r)}function n(t,e,r,n){var a=n.split(/\s+/);i.each(a,(function(i){var n=t[i];t.stopListening(e,r,n)}))}function a(t,e,i,r){t.stopListening(e,i,r)}function o(e,r,n,a,o){if(r&&n){if(!i.isObject(n))throw new t.Error({message:"Bindings must be an object or function.",url:"marionette.functions.html#marionettebindentityevents"});n=t._getValue(n,e),i.each(n,(function(t,n){i.isFunction(t)?a(e,r,n,t):o(e,r,n,t)}))}}t.bindEntityEvents=function(t,i,n){o(t,i,n,r,e)},t.unbindEntityEvents=function(t,e,i){o(t,e,i,a,n)},t.proxyBindEntityEvents=function(e,i){return t.bindEntityEvents(this,e,i)},t.proxyUnbindEntityEvents=function(e,i){return t.unbindEntityEvents(this,e,i)}}(a);var s=["description","fileName","lineNumber","name","message","number"];return a.Error=a.extend.call(Error,{urlRoot:"http://marionettejs.com/docs/v"+a.VERSION+"/",constructor:function(t,e){i.isObject(t)?t=(e=t).message:e||(e={});var r=Error.call(this,t);i.extend(this,i.pick(r,s),i.pick(e,s)),this.captureStackTrace(),e.url&&(this.url=this.urlRoot+e.url)},captureStackTrace:function(){Error.captureStackTrace&&Error.captureStackTrace(this,a.Error)},toString:function(){return this.name+": "+this.message+(this.url?" See: "+this.url:"")}}),a.Error.extend=a.extend,a.Callbacks=function(){this._deferred=a.Deferred(),this._callbacks=[]},i.extend(a.Callbacks.prototype,{add:function(t,e){var r=i.result(this._deferred,"promise");this._callbacks.push({cb:t,ctx:e}),r.then((function(i){e&&(i.context=e),t.call(i.context,i.options)}))},run:function(t,e){this._deferred.resolve({options:t,context:e})},reset:function(){var t=this._callbacks;this._deferred=a.Deferred(),this._callbacks=[],i.each(t,(function(t){this.add(t.cb,t.ctx)}),this)}}),a.Controller=function(t){this.options=t||{},i.isFunction(this.initialize)&&this.initialize(this.options)},a.Controller.extend=a.extend,i.extend(a.Controller.prototype,e.Events,{destroy:function(){return a._triggerMethod(this,"before:destroy",arguments),a._triggerMethod(this,"destroy",arguments),this.stopListening(),this.off(),this},triggerMethod:a.triggerMethod,mergeOptions:a.mergeOptions,getOption:a.proxyGetOption}),a.Object=function(t){this.options=i.extend({},i.result(this,"options"),t),this.initialize.apply(this,arguments)},a.Object.extend=a.extend,i.extend(a.Object.prototype,e.Events,{initialize:function(){},destroy:function(t){return t=t||{},this.triggerMethod("before:destroy",t),this.triggerMethod("destroy",t),this.stopListening(),this},triggerMethod:a.triggerMethod,mergeOptions:a.mergeOptions,getOption:a.proxyGetOption,bindEntityEvents:a.proxyBindEntityEvents,unbindEntityEvents:a.proxyUnbindEntityEvents}),a.Region=a.Object.extend({constructor:function(t){if(this.options=t||{},this.el=this.getOption("el"),this.el=this.el instanceof e.$?this.el[0]:this.el,!this.el)throw new a.Error({name:"NoElError",message:'An "el" must be specified for a region.'});this.$el=this.getEl(this.el),a.Object.call(this,t)},show:function(t,e){if(this._ensureElement()){this._ensureViewIsIntact(t),a.MonitorDOMRefresh(t);var r=e||{},n=t!==this.currentView,o=!!r.preventDestroy,s=!!r.forceShow,c=!!this.currentView,l=n&&!o,p=n||s;if(c&&this.triggerMethod("before:swapOut",this.currentView,this,e),this.currentView&&n&&delete this.currentView._parent,l?this.empty():c&&p&&this.currentView.off("destroy",this.empty,this),p){t.once("destroy",this.empty,this),t._parent=this,this._renderView(t),c&&this.triggerMethod("before:swap",t,this,e),this.triggerMethod("before:show",t,this,e),a.triggerMethodOn(t,"before:show",t,this,e),c&&this.triggerMethod("swapOut",this.currentView,this,e);var u=a.isNodeAttached(this.el),h=[],d=i.extend({triggerBeforeAttach:this.triggerBeforeAttach,triggerAttach:this.triggerAttach},r);return u&&d.triggerBeforeAttach&&(h=this._displayedViews(t),this._triggerAttach(h,"before:")),this.attachHtml(t),this.currentView=t,u&&d.triggerAttach&&(h=this._displayedViews(t),this._triggerAttach(h)),c&&this.triggerMethod("swap",t,this,e),this.triggerMethod("show",t,this,e),a.triggerMethodOn(t,"show",t,this,e),this}return this}},triggerBeforeAttach:!0,triggerAttach:!0,_triggerAttach:function(t,e){var r=(e||"")+"attach";i.each(t,(function(t){a.triggerMethodOn(t,r,t,this)}),this)},_displayedViews:function(t){return i.union([t],i.result(t,"_getNestedViews")||[])},_renderView:function(t){t.supportsRenderLifecycle||a.triggerMethodOn(t,"before:render",t),t.render(),t.supportsRenderLifecycle||a.triggerMethodOn(t,"render",t)},_ensureElement:function(){if(i.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]),!this.$el||0===this.$el.length){if(this.getOption("allowMissingEl"))return!1;throw new a.Error('An "el" '+this.$el.selector+" must exist in DOM")}return!0},_ensureViewIsIntact:function(t){if(!t)throw new a.Error({name:"ViewNotValid",message:"The view passed is undefined and therefore invalid. You must pass a view instance to show."});if(t.isDestroyed)throw new a.Error({name:"ViewDestroyedError",message:'View (cid: "'+t.cid+'") has already been destroyed and cannot be used.'})},getEl:function(t){return e.$(t,a._getValue(this.options.parentEl,this))},attachHtml:function(t){this.$el.contents().detach(),this.el.appendChild(t.el)},empty:function(t){var e=this.currentView,i=!!(t||{}).preventDestroy;return e?(e.off("destroy",this.empty,this),this.triggerMethod("before:empty",e),i||this._destroyView(),this.triggerMethod("empty",e),delete this.currentView,i&&this.$el.contents().detach(),this):this},_destroyView:function(){var t=this.currentView;t.isDestroyed||(t.supportsDestroyLifecycle||a.triggerMethodOn(t,"before:destroy",t),t.destroy?t.destroy():(t.remove(),t.isDestroyed=!0),t.supportsDestroyLifecycle||a.triggerMethodOn(t,"destroy",t))},attachView:function(t){return this.currentView&&delete this.currentView._parent,t._parent=this,this.currentView=t,this},hasView:function(){return!!this.currentView},reset:function(){return this.empty(),this.$el&&(this.el=this.$el.selector),delete this.$el,this}},{buildRegion:function(t,e){if(i.isString(t))return this._buildRegionFromSelector(t,e);if(t.selector||t.el||t.regionClass)return this._buildRegionFromObject(t,e);if(i.isFunction(t))return this._buildRegionFromRegionClass(t);throw new a.Error({message:"Improper region configuration type.",url:"marionette.region.html#region-configuration-types"})},_buildRegionFromSelector:function(t,e){return new e({el:t})},_buildRegionFromObject:function(t,e){var r=t.regionClass||e,n=i.omit(t,"selector","regionClass");return t.selector&&!n.el&&(n.el=t.selector),new r(n)},_buildRegionFromRegionClass:function(t){return new t}}),a.RegionManager=a.Controller.extend({constructor:function(t){this._regions={},this.length=0,a.Controller.call(this,t),this.addRegions(this.getOption("regions"))},addRegions:function(t,e){return t=a._getValue(t,this,arguments),i.reduce(t,(function(t,r,n){return i.isString(r)&&(r={selector:r}),r.selector&&(r=i.defaults({},r,e)),t[n]=this.addRegion(n,r),t}),{},this)},addRegion:function(t,e){var i;return i=e instanceof a.Region?e:a.Region.buildRegion(e,a.Region),this.triggerMethod("before:add:region",t,i),i._parent=this,this._store(t,i),this.triggerMethod("add:region",t,i),i},get:function(t){return this._regions[t]},getRegions:function(){return i.clone(this._regions)},removeRegion:function(t){var e=this._regions[t];return this._remove(t,e),e},removeRegions:function(){var t=this.getRegions();return i.each(this._regions,(function(t,e){this._remove(e,t)}),this),t},emptyRegions:function(){var t=this.getRegions();return i.invoke(t,"empty"),t},destroy:function(){return this.removeRegions(),a.Controller.prototype.destroy.apply(this,arguments)},_store:function(t,e){this._regions[t]||this.length++,this._regions[t]=e},_remove:function(t,e){this.triggerMethod("before:remove:region",t,e),e.empty(),e.stopListening(),delete e._parent,delete this._regions[t],this.length--,this.triggerMethod("remove:region",t,e)}}),a.actAsCollection(a.RegionManager.prototype,"_regions"),a.TemplateCache=function(t){this.templateId=t},i.extend(a.TemplateCache,{templateCaches:{},get:function(t,e){var i=this.templateCaches[t];return i||(i=new a.TemplateCache(t),this.templateCaches[t]=i),i.load(e)},clear:function(){var t,e=i.toArray(arguments),r=e.length;if(r>0)for(t=0;t<r;t++)delete this.templateCaches[e[t]];else this.templateCaches={}}}),i.extend(a.TemplateCache.prototype,{load:function(t){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId,t);return this.compiledTemplate=this.compileTemplate(e,t),this.compiledTemplate},loadTemplate:function(t,i){var r=e.$(t);if(!r.length)throw new a.Error({name:"NoTemplateError",message:'Could not find template: "'+t+'"'});return r.html()},compileTemplate:function(t,e){return i.template(t,e)}}),a.Renderer={render:function(t,e){if(!t)throw new a.Error({name:"TemplateNotFoundError",message:"Cannot render the template since its false, null or undefined."});return(i.isFunction(t)?t:a.TemplateCache.get(t))(e)}},a.View=e.View.extend({isDestroyed:!1,supportsRenderLifecycle:!0,supportsDestroyLifecycle:!0,constructor:function(t){this.render=i.bind(this.render,this),t=a._getValue(t,this),this.options=i.extend({},i.result(this,"options"),t),this._behaviors=a.Behaviors(this),e.View.call(this,this.options),a.MonitorDOMRefresh(this)},getTemplate:function(){return this.getOption("template")},serializeModel:function(t){return t.toJSON.apply(t,i.rest(arguments))},mixinTemplateHelpers:function(t){t=t||{};var e=this.getOption("templateHelpers");return e=a._getValue(e,this),i.extend(t,e)},normalizeUIKeys:function(t){var e=i.result(this,"_uiBindings");return a.normalizeUIKeys(t,e||i.result(this,"ui"))},normalizeUIValues:function(t,e){var r=i.result(this,"ui"),n=i.result(this,"_uiBindings");return a.normalizeUIValues(t,n||r,e)},configureTriggers:function(){if(this.triggers){var t=this.normalizeUIKeys(i.result(this,"triggers"));return i.reduce(t,(function(t,e,i){return t[i]=this._buildViewTrigger(e),t}),{},this)}},delegateEvents:function(t){return this._delegateDOMEvents(t),this.bindEntityEvents(this.model,this.getOption("modelEvents")),this.bindEntityEvents(this.collection,this.getOption("collectionEvents")),i.each(this._behaviors,(function(t){t.bindEntityEvents(this.model,t.getOption("modelEvents")),t.bindEntityEvents(this.collection,t.getOption("collectionEvents"))}),this),this},_delegateDOMEvents:function(t){var r=a._getValue(t||this.events,this);r=this.normalizeUIKeys(r),i.isUndefined(t)&&(this.events=r);var n={},o=i.result(this,"behaviorEvents")||{},s=this.configureTriggers(),c=i.result(this,"behaviorTriggers")||{};i.extend(n,o,r,s,c),e.View.prototype.delegateEvents.call(this,n)},undelegateEvents:function(){return e.View.prototype.undelegateEvents.apply(this,arguments),this.unbindEntityEvents(this.model,this.getOption("modelEvents")),this.unbindEntityEvents(this.collection,this.getOption("collectionEvents")),i.each(this._behaviors,(function(t){t.unbindEntityEvents(this.model,t.getOption("modelEvents")),t.unbindEntityEvents(this.collection,t.getOption("collectionEvents"))}),this),this},_ensureViewIsIntact:function(){if(this.isDestroyed)throw new a.Error({name:"ViewDestroyedError",message:'View (cid: "'+this.cid+'") has already been destroyed and cannot be used.'})},destroy:function(){if(this.isDestroyed)return this;var t=i.toArray(arguments);return this.triggerMethod.apply(this,["before:destroy"].concat(t)),this.isDestroyed=!0,this.triggerMethod.apply(this,["destroy"].concat(t)),this.unbindUIElements(),this.isRendered=!1,this.remove(),i.invoke(this._behaviors,"destroy",t),this},bindUIElements:function(){this._bindUIElements(),i.invoke(this._behaviors,this._bindUIElements)},_bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var t=i.result(this,"_uiBindings");this.ui={},i.each(t,(function(t,e){this.ui[e]=this.$(t)}),this)}},unbindUIElements:function(){this._unbindUIElements(),i.invoke(this._behaviors,this._unbindUIElements)},_unbindUIElements:function(){this.ui&&this._uiBindings&&(i.each(this.ui,(function(t,e){delete this.ui[e]}),this),this.ui=this._uiBindings,delete this._uiBindings)},_buildViewTrigger:function(t){var e=i.defaults({},t,{preventDefault:!0,stopPropagation:!0}),r=i.isObject(t)?e.event:t;return function(t){t&&(t.preventDefault&&e.preventDefault&&t.preventDefault(),t.stopPropagation&&e.stopPropagation&&t.stopPropagation());var i={view:this,model:this.model,collection:this.collection};this.triggerMethod(r,i)}},setElement:function(){var t=e.View.prototype.setElement.apply(this,arguments);return i.invoke(this._behaviors,"proxyViewProperties",this),t},triggerMethod:function(){var t=a._triggerMethod(this,arguments);return this._triggerEventOnBehaviors(arguments),this._triggerEventOnParentLayout(arguments[0],i.rest(arguments)),t},_triggerEventOnBehaviors:function(t){for(var e=a._triggerMethod,i=this._behaviors,r=0,n=i&&i.length;r<n;r++)e(i[r],t)},_triggerEventOnParentLayout:function(t,e){var r=this._parentLayoutView();if(r){var n=a.getOption(r,"childViewEventPrefix")+":"+t,o=[this].concat(e);a._triggerMethod(r,n,o);var s=a.getOption(r,"childEvents");s=a._getValue(s,r);var c=r.normalizeMethods(s);c&&i.isFunction(c[t])&&c[t].apply(r,o)}},_getImmediateChildren:function(){return[]},_getNestedViews:function(){var t=this._getImmediateChildren();return t.length?i.reduce(t,(function(t,e){return e._getNestedViews?t.concat(e._getNestedViews()):t}),t):t},_parentLayoutView:function(){for(var t=this._parent;t;){if(t instanceof a.LayoutView)return t;t=t._parent}},normalizeMethods:a.normalizeMethods,mergeOptions:a.mergeOptions,getOption:a.proxyGetOption,bindEntityEvents:a.proxyBindEntityEvents,unbindEntityEvents:a.proxyUnbindEntityEvents}),a.ItemView=a.View.extend({constructor:function(){a.View.apply(this,arguments)},serializeData:function(){if(!this.model&&!this.collection)return{};var t=[this.model||this.collection];return arguments.length&&t.push.apply(t,arguments),this.model?this.serializeModel.apply(this,t):{items:this.serializeCollection.apply(this,t)}},serializeCollection:function(t){return t.toJSON.apply(t,i.rest(arguments))},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderTemplate(),this.isRendered=!0,this.bindUIElements(),this.triggerMethod("render",this),this},_renderTemplate:function(){var t=this.getTemplate();if(!1!==t){if(!t)throw new a.Error({name:"UndefinedTemplateError",message:"Cannot render the template since it is null or undefined."});var e=this.mixinTemplateHelpers(this.serializeData()),i=a.Renderer.render(t,e,this);return this.attachElContent(i),this}},attachElContent:function(t){return this.$el.html(t),this}}),a.CollectionView=a.View.extend({childViewEventPrefix:"childview",sort:!0,constructor:function(t){this.once("render",this._initialEvents),this._initChildViewStorage(),a.View.apply(this,arguments),this.on({"before:show":this._onBeforeShowCalled,show:this._onShowCalled,"before:attach":this._onBeforeAttachCalled,attach:this._onAttachCalled}),this.initRenderBuffer()},initRenderBuffer:function(){this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){var t,e=this._isShown&&a.isNodeAttached(this.el);this.isBuffering=!1,this._isShown&&this._triggerMethodMany(this._bufferedChildren,this,"before:show"),e&&this._triggerBeforeAttach&&(t=this._getNestedViews(),this._triggerMethodMany(t,this,"before:attach")),this.attachBuffer(this,this._createBuffer()),e&&this._triggerAttach&&(t=this._getNestedViews(),this._triggerMethodMany(t,this,"attach")),this._isShown&&this._triggerMethodMany(this._bufferedChildren,this,"show"),this.initRenderBuffer()},_triggerMethodMany:function(t,e,r){var n=i.drop(arguments,3);i.each(t,(function(t){a.triggerMethodOn.apply(t,[t,r,t,e].concat(n))}))},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this.render),this.getOption("sort")&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(t,e,r){var n=void 0!==r.at&&(r.index||e.indexOf(t));if((this.getOption("filter")||!1===n)&&(n=i.indexOf(this._filteredSortedModels(n),t)),this._shouldAddChild(t,n)){this.destroyEmptyView();var a=this.getChildView(t);this.addChild(t,a,n)}},_onCollectionRemove:function(t){var e=this.children.findByModel(t);this.removeChildView(e),this.checkEmpty()},_onBeforeShowCalled:function(){this._triggerBeforeAttach=this._triggerAttach=!1,this.children.each((function(t){a.triggerMethodOn(t,"before:show",t)}))},_onShowCalled:function(){this.children.each((function(t){a.triggerMethodOn(t,"show",t)}))},_onBeforeAttachCalled:function(){this._triggerBeforeAttach=!0},_onAttachCalled:function(){this._triggerAttach=!0},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderChildren(),this.isRendered=!0,this.triggerMethod("render",this),this},reorder:function(){var t=this.children,e=this._filteredSortedModels();if(!e.length&&this._showingEmptyView)return this;if(i.some(e,(function(e){return!t.findByModel(e)})))this.render();else{var r=i.map(e,(function(e,i){var r=t.findByModel(e);return r._index=i,r.el})),n=t.filter((function(t){return!i.contains(r,t.el)}));this.triggerMethod("before:reorder"),this._appendReorderedChildren(r),i.each(n,this.removeChildView,this),this.checkEmpty(),this.triggerMethod("reorder")}},resortView:function(){a.getOption(this,"reorderOnSort")?this.reorder():this.render()},_sortViews:function(){var t=this._filteredSortedModels();i.find(t,(function(t,e){var i=this.children.findByModel(t);return!i||i._index!==e}),this)&&this.resortView()},_emptyViewIndex:-1,_appendReorderedChildren:function(t){this.$el.append(t)},_renderChildren:function(){this.destroyEmptyView(),this.destroyChildren({checkEmpty:!1}),this.isEmpty(this.collection)?this.showEmptyView():(this.triggerMethod("before:render:collection",this),this.startBuffering(),this.showCollection(),this.endBuffering(),this.triggerMethod("render:collection",this),this.children.isEmpty()&&this.getOption("filter")&&this.showEmptyView())},showCollection:function(){var t,e=this._filteredSortedModels();i.each(e,(function(e,i){t=this.getChildView(e),this.addChild(e,t,i)}),this)},_filteredSortedModels:function(t){var e,r=this.getViewComparator(),n=this.collection.models;return t=Math.min(Math.max(t,0),n.length-1),r&&(t&&(e=n[t],n=n.slice(0,t).concat(n.slice(t+1))),n=this._sortModelsBy(n,r),e&&n.splice(t,0,e)),this.getOption("filter")&&(n=i.filter(n,(function(t,e){return this._shouldAddChild(t,e)}),this)),n},_sortModelsBy:function(t,e){return"string"==typeof e?i.sortBy(t,(function(t){return t.get(e)}),this):1===e.length?i.sortBy(t,e,this):t.sort(i.bind(e,this))},showEmptyView:function(){var t=this.getEmptyView();if(t&&!this._showingEmptyView){this.triggerMethod("before:render:empty"),this._showingEmptyView=!0;var i=new e.Model;this.addEmptyView(i,t),this.triggerMethod("render:empty")}},destroyEmptyView:function(){this._showingEmptyView&&(this.triggerMethod("before:remove:empty"),this.destroyChildren(),delete this._showingEmptyView,this.triggerMethod("remove:empty"))},getEmptyView:function(){return this.getOption("emptyView")},addEmptyView:function(t,e){var r,n=this._isShown&&!this.isBuffering&&a.isNodeAttached(this.el),o=this.getOption("emptyViewOptions")||this.getOption("childViewOptions");i.isFunction(o)&&(o=o.call(this,t,this._emptyViewIndex));var s=this.buildChildView(t,e,o);s._parent=this,this.proxyChildEvents(s),s.once("render",(function(){this._isShown&&a.triggerMethodOn(s,"before:show",s),n&&this._triggerBeforeAttach&&(r=this._getViewAndNested(s),this._triggerMethodMany(r,this,"before:attach"))}),this),this.children.add(s),this.renderChildView(s,this._emptyViewIndex),n&&this._triggerAttach&&(r=this._getViewAndNested(s),this._triggerMethodMany(r,this,"attach")),this._isShown&&a.triggerMethodOn(s,"show",s)},getChildView:function(t){var e=this.getOption("childView");if(!e)throw new a.Error({name:"NoChildViewError",message:'A "childView" must be specified'});return e},addChild:function(t,e,i){var r=this.getOption("childViewOptions");r=a._getValue(r,this,[t,i]);var n=this.buildChildView(t,e,r);return this._updateIndices(n,!0,i),this.triggerMethod("before:add:child",n),this._addChildView(n,i),this.triggerMethod("add:child",n),n._parent=this,n},_updateIndices:function(t,e,i){this.getOption("sort")&&(e&&(t._index=i),this.children.each((function(i){i._index>=t._index&&(i._index+=e?1:-1)})))},_addChildView:function(t,e){var i,r=this._isShown&&!this.isBuffering&&a.isNodeAttached(this.el);this.proxyChildEvents(t),t.once("render",(function(){this._isShown&&!this.isBuffering&&a.triggerMethodOn(t,"before:show",t),r&&this._triggerBeforeAttach&&(i=this._getViewAndNested(t),this._triggerMethodMany(i,this,"before:attach"))}),this),this.children.add(t),this.renderChildView(t,e),r&&this._triggerAttach&&(i=this._getViewAndNested(t),this._triggerMethodMany(i,this,"attach")),this._isShown&&!this.isBuffering&&a.triggerMethodOn(t,"show",t)},renderChildView:function(t,e){return t.supportsRenderLifecycle||a.triggerMethodOn(t,"before:render",t),t.render(),t.supportsRenderLifecycle||a.triggerMethodOn(t,"render",t),this.attachHtml(this,t,e),t},buildChildView:function(t,e,r){var n=new e(i.extend({model:t},r));return a.MonitorDOMRefresh(n),n},removeChildView:function(t){return t?(this.triggerMethod("before:remove:child",t),t.supportsDestroyLifecycle||a.triggerMethodOn(t,"before:destroy",t),t.destroy?t.destroy():t.remove(),t.supportsDestroyLifecycle||a.triggerMethodOn(t,"destroy",t),delete t._parent,this.stopListening(t),this.children.remove(t),this.triggerMethod("remove:child",t),this._updateIndices(t,!1),t):t},isEmpty:function(){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},attachBuffer:function(t,e){t.$el.append(e)},_createBuffer:function(){var t=document.createDocumentFragment();return i.each(this._bufferedChildren,(function(e){t.appendChild(e.el)})),t},attachHtml:function(t,e,i){t.isBuffering?t._bufferedChildren.splice(i,0,e):t._insertBefore(e,i)||t._insertAfter(e)},_insertBefore:function(t,e){var i;return this.getOption("sort")&&e<this.children.length-1&&(i=this.children.find((function(t){return t._index===e+1}))),!!i&&(i.$el.before(t.el),!0)},_insertAfter:function(t){this.$el.append(t.el)},_initChildViewStorage:function(){this.children=new e.ChildViewContainer},destroy:function(){return this.isDestroyed?this:(this.triggerMethod("before:destroy:collection"),this.destroyChildren({checkEmpty:!1}),this.triggerMethod("destroy:collection"),a.View.prototype.destroy.apply(this,arguments))},destroyChildren:function(t){var e=t||{},r=!0,n=this.children.map(i.identity);return i.isUndefined(e.checkEmpty)||(r=e.checkEmpty),this.children.each(this.removeChildView,this),r&&this.checkEmpty(),n},_shouldAddChild:function(t,e){var r=this.getOption("filter");return!i.isFunction(r)||r.call(this,t,e,this.collection)},proxyChildEvents:function(t){var e=this.getOption("childViewEventPrefix");this.listenTo(t,"all",(function(){var r=i.toArray(arguments),n=r[0],a=this.normalizeMethods(i.result(this,"childEvents"));r[0]=e+":"+n,r.splice(1,0,t),void 0!==a&&i.isFunction(a[n])&&a[n].apply(this,r.slice(1)),this.triggerMethod.apply(this,r)}))},_getImmediateChildren:function(){return i.values(this.children._views)},_getViewAndNested:function(t){return[t].concat(i.result(t,"_getNestedViews")||[])},getViewComparator:function(){return this.getOption("viewComparator")}}),a.CompositeView=a.CollectionView.extend({constructor:function(){a.CollectionView.apply(this,arguments)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this._renderChildren),this.getOption("sort")&&this.listenTo(this.collection,"sort",this._sortViews))},getChildView:function(t){return this.getOption("childView")||this.constructor},serializeData:function(){var t={};return this.model&&(t=i.partial(this.serializeModel,this.model).apply(this,arguments)),t},render:function(){return this._ensureViewIsIntact(),this._isRendering=!0,this.resetChildViewContainer(),this.triggerMethod("before:render",this),this._renderTemplate(),this._renderChildren(),this._isRendering=!1,this.isRendered=!0,this.triggerMethod("render",this),this},_renderChildren:function(){(this.isRendered||this._isRendering)&&a.CollectionView.prototype._renderChildren.call(this)},_renderTemplate:function(){var t={};t=this.serializeData(),t=this.mixinTemplateHelpers(t),this.triggerMethod("before:render:template");var e=this.getTemplate(),i=a.Renderer.render(e,t,this);this.attachElContent(i),this.bindUIElements(),this.triggerMethod("render:template")},attachElContent:function(t){return this.$el.html(t),this},attachBuffer:function(t,e){this.getChildViewContainer(t).append(e)},_insertAfter:function(t){this.getChildViewContainer(this,t).append(t.el)},_appendReorderedChildren:function(t){this.getChildViewContainer(this).append(t)},getChildViewContainer:function(t,e){if(t.$childViewContainer)return t.$childViewContainer;var i,r=a.getOption(t,"childViewContainer");if(r){var n=a._getValue(r,t);if((i="@"===n.charAt(0)&&t.ui?t.ui[n.substr(4)]:t.$(n)).length<=0)throw new a.Error({name:"ChildViewContainerMissingError",message:'The specified "childViewContainer" was not found: '+t.childViewContainer})}else i=t.$el;return t.$childViewContainer=i,i},resetChildViewContainer:function(){this.$childViewContainer&&(this.$childViewContainer=void 0)}}),a.LayoutView=a.ItemView.extend({regionClass:a.Region,options:{destroyImmediate:!1},childViewEventPrefix:"childview",constructor:function(t){t=t||{},this._firstRender=!0,this._initializeRegions(t),a.ItemView.call(this,t)},render:function(){return this._ensureViewIsIntact(),this._firstRender?this._firstRender=!1:this._reInitializeRegions(),a.ItemView.prototype.render.apply(this,arguments)},destroy:function(){return this.isDestroyed?this:(!0===this.getOption("destroyImmediate")&&this.$el.remove(),this.regionManager.destroy(),a.ItemView.prototype.destroy.apply(this,arguments))},showChildView:function(t,e,r){var n=this.getRegion(t);return n.show.apply(n,i.rest(arguments))},getChildView:function(t){return this.getRegion(t).currentView},addRegion:function(t,e){var i={};return i[t]=e,this._buildRegions(i)[t]},addRegions:function(t){return this.regions=i.extend({},this.regions,t),this._buildRegions(t)},removeRegion:function(t){return delete this.regions[t],this.regionManager.removeRegion(t)},getRegion:function(t){return this.regionManager.get(t)},getRegions:function(){return this.regionManager.getRegions()},_buildRegions:function(t){var e={regionClass:this.getOption("regionClass"),parentEl:i.partial(i.result,this,"el")};return this.regionManager.addRegions(t,e)},_initializeRegions:function(t){var e;this._initRegionManager(),e=a._getValue(this.regions,this,[t])||{};var r=this.getOption.call(t,"regions");r=a._getValue(r,this,[t]),i.extend(e,r),e=this.normalizeUIValues(e,["selector","el"]),this.addRegions(e)},_reInitializeRegions:function(){this.regionManager.invoke("reset")},getRegionManager:function(){return new a.RegionManager},_initRegionManager:function(){this.regionManager=this.getRegionManager(),this.regionManager._parent=this,this.listenTo(this.regionManager,"before:add:region",(function(t){this.triggerMethod("before:add:region",t)})),this.listenTo(this.regionManager,"add:region",(function(t,e){this[t]=e,this.triggerMethod("add:region",t,e)})),this.listenTo(this.regionManager,"before:remove:region",(function(t){this.triggerMethod("before:remove:region",t)})),this.listenTo(this.regionManager,"remove:region",(function(t,e){delete this[t],this.triggerMethod("remove:region",t,e)}))},_getImmediateChildren:function(){return i.chain(this.regionManager.getRegions()).pluck("currentView").compact().value()}}),a.Behavior=a.Object.extend({constructor:function(t,e){this.view=e,this.defaults=i.result(this,"defaults")||{},this.options=i.extend({},this.defaults,t),this.ui=i.extend({},i.result(e,"ui"),i.result(this,"ui")),a.Object.apply(this,arguments)},$:function(){return this.view.$.apply(this.view,arguments)},destroy:function(){return this.stopListening(),this},proxyViewProperties:function(t){this.$el=t.$el,this.el=t.el}}),a.Behaviors=function(t,e){var i=/^(\S+)\s*(.*)$/;function r(t,i){return e.isObject(t.behaviors)?(i=r.parseBehaviors(t,i||e.result(t,"behaviors")),r.wrap(t,i,e.keys(n)),i):{}}var n={behaviorTriggers:function(t,e){return new a(this,e).buildBehaviorTriggers()},behaviorEvents:function(r,n){var a={};return e.each(n,(function(r,n){var s={},c=e.clone(e.result(r,"events"))||{};c=t.normalizeUIKeys(c,o(r));var l=0;e.each(c,(function(t,a){var o=a.match(i),c=o[1]+"."+[this.cid,n,l++," "].join("")+o[2],p=e.isFunction(t)?t:r[t];p&&(s[c]=e.bind(p,r))}),this),a=e.extend(a,s)}),this),a}};function a(t,e){this._view=t,this._behaviors=e,this._triggers={}}function o(t){return t._uiBindings||t.ui}return e.extend(r,{behaviorsLookup:function(){throw new t.Error({message:"You must define where your behaviors are stored.",url:"marionette.behaviors.html#behaviorslookup"})},getBehaviorClass:function(e,i){return e.behaviorClass?e.behaviorClass:t._getValue(r.behaviorsLookup,this,[e,i])[i]},parseBehaviors:function(t,i){return e.chain(i).map((function(i,n){var a=new(r.getBehaviorClass(i,n))(i,t),o=r.parseBehaviors(t,e.result(a,"behaviors"));return[a].concat(o)})).flatten().value()},wrap:function(t,i,r){e.each(r,(function(r){t[r]=e.partial(n[r],t[r],i)}))}}),e.extend(a.prototype,{buildBehaviorTriggers:function(){return e.each(this._behaviors,this._buildTriggerHandlersForBehavior,this),this._triggers},_buildTriggerHandlersForBehavior:function(i,r){var n=e.clone(e.result(i,"triggers"))||{};n=t.normalizeUIKeys(n,o(i)),e.each(n,e.bind(this._setHandlerForBehavior,this,i,r))},_setHandlerForBehavior:function(t,e,i,r){var n=r.replace(/^\S+/,(function(t){return t+".behaviortriggers"+e}));this._triggers[n]=this._view._buildViewTrigger(i)}}),r}(a,i),a.AppRouter=e.Router.extend({constructor:function(t){this.options=t||{},e.Router.apply(this,arguments);var i=this.getOption("appRoutes"),r=this._getController();this.processAppRoutes(r,i),this.on("route",this._processOnRoute,this)},appRoute:function(t,e){var i=this._getController();this._addAppRoute(i,t,e)},_processOnRoute:function(t,e){if(i.isFunction(this.onRoute)){var r=i.invert(this.getOption("appRoutes"))[t];this.onRoute(t,r,e)}},processAppRoutes:function(t,e){if(e){var r=i.keys(e).reverse();i.each(r,(function(i){this._addAppRoute(t,i,e[i])}),this)}},_getController:function(){return this.getOption("controller")},_addAppRoute:function(t,e,r){var n=t[r];if(!n)throw new a.Error('Method "'+r+'" was not found on the controller');this.route(e,r,i.bind(n,t))},mergeOptions:a.mergeOptions,getOption:a.proxyGetOption,triggerMethod:a.triggerMethod,bindEntityEvents:a.proxyBindEntityEvents,unbindEntityEvents:a.proxyUnbindEntityEvents}),a.Application=a.Object.extend({constructor:function(t){this._initializeRegions(t),this._initCallbacks=new a.Callbacks,this.submodules={},i.extend(this,t),this._initChannel(),a.Object.apply(this,arguments)},execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(t){this._initCallbacks.add(t)},start:function(t){this.triggerMethod("before:start",t),this._initCallbacks.run(t,this),this.triggerMethod("start",t)},addRegions:function(t){return this._regionManager.addRegions(t)},emptyRegions:function(){return this._regionManager.emptyRegions()},removeRegion:function(t){return this._regionManager.removeRegion(t)},getRegion:function(t){return this._regionManager.get(t)},getRegions:function(){return this._regionManager.getRegions()},module:function(t,e){var r=a.Module.getClass(e),n=i.toArray(arguments);return n.unshift(this),r.create.apply(r,n)},getRegionManager:function(){return new a.RegionManager},_initializeRegions:function(t){var e=i.isFunction(this.regions)?this.regions(t):this.regions||{};this._initRegionManager();var r=a.getOption(t,"regions");return i.isFunction(r)&&(r=r.call(this,t)),i.extend(e,r),this.addRegions(e),this},_initRegionManager:function(){this._regionManager=this.getRegionManager(),this._regionManager._parent=this,this.listenTo(this._regionManager,"before:add:region",(function(){a._triggerMethod(this,"before:add:region",arguments)})),this.listenTo(this._regionManager,"add:region",(function(t,e){this[t]=e,a._triggerMethod(this,"add:region",arguments)})),this.listenTo(this._regionManager,"before:remove:region",(function(){a._triggerMethod(this,"before:remove:region",arguments)})),this.listenTo(this._regionManager,"remove:region",(function(t){delete this[t],a._triggerMethod(this,"remove:region",arguments)}))},_initChannel:function(){this.channelName=i.result(this,"channelName")||"global",this.channel=i.result(this,"channel")||e.Wreqr.radio.channel(this.channelName),this.vent=i.result(this,"vent")||this.channel.vent,this.commands=i.result(this,"commands")||this.channel.commands,this.reqres=i.result(this,"reqres")||this.channel.reqres}}),a.Module=function(t,e,r){this.moduleName=t,this.options=i.extend({},this.options,r),this.initialize=r.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=e,i.isFunction(this.initialize)&&this.initialize(t,e,this.options)},a.Module.extend=a.extend,i.extend(a.Module.prototype,e.Events,{startWithParent:!0,initialize:function(){},addInitializer:function(t){this._initializerCallbacks.add(t)},addFinalizer:function(t){this._finalizerCallbacks.add(t)},start:function(t){this._isInitialized||(i.each(this.submodules,(function(e){e.startWithParent&&e.start(t)})),this.triggerMethod("before:start",t),this._initializerCallbacks.run(t,this),this._isInitialized=!0,this.triggerMethod("start",t))},stop:function(){this._isInitialized&&(this._isInitialized=!1,this.triggerMethod("before:stop"),i.invoke(this.submodules,"stop"),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),this.triggerMethod("stop"))},addDefinition:function(t,e){this._runModuleDefinition(t,e)},_runModuleDefinition:function(t,r){if(t){var n=i.flatten([this,this.app,e,a,e.$,i,r]);t.apply(this,n)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new a.Callbacks,this._finalizerCallbacks=new a.Callbacks},triggerMethod:a.triggerMethod}),i.extend(a.Module,{create:function(t,e,r){var n=t,a=i.drop(arguments,3),o=(e=e.split(".")).length,s=[];return s[o-1]=r,i.each(e,(function(e,i){var o=n;n=this._getModule(o,e,t,r),this._addModuleDefinition(o,n,s[i],a)}),this),n},_getModule:function(t,e,r,n,a){var o=i.extend({},n),s=this.getClass(n),c=t[e];return c||(c=new s(e,r,o),t[e]=c,t.submodules[e]=c),c},getClass:function(t){var e=a.Module;return t?t.prototype instanceof e?t:t.moduleClass||e:e},_addModuleDefinition:function(t,e,i,r){var n=this._getDefine(i),a=this._getStartWithParent(i,e);n&&e.addDefinition(n,r),this._addStartWithParent(t,e,a)},_getStartWithParent:function(t,e){var r;return i.isFunction(t)&&t.prototype instanceof a.Module?(r=e.constructor.prototype.startWithParent,!!i.isUndefined(r)||r):!i.isObject(t)||(r=t.startWithParent,!!i.isUndefined(r)||r)},_getDefine:function(t){return!i.isFunction(t)||t.prototype instanceof a.Module?i.isObject(t)?t.define:null:t},_addStartWithParent:function(t,e,i){e.startWithParent=e.startWithParent&&i,e.startWithParent&&!e.startWithParentIsConfigured&&(e.startWithParentIsConfigured=!0,t.addInitializer((function(t){e.startWithParent&&e.start(t)})))}}),a}(a,t,e)}.apply(e,r),void 0===n||(t.exports=n)},6083:function(t,e,i){var r,n,a;a="object"==typeof self&&self.self===self&&self||"object"==typeof i.g&&i.g.global===i.g&&i.g,r=[i(7410),i(4379),e],n=function(t,e,i){a.Backbone=function(t,e,i,r){var n=t.Backbone,a=Array.prototype.slice;e.VERSION="1.4.1",e.$=r,e.noConflict=function(){return t.Backbone=n,this},e.emulateHTTP=!1,e.emulateJSON=!1;var o,s=e.Events={},c=/\s+/,l=function(t,e,r,n,a){var o,s=0;if(r&&"object"==typeof r){void 0!==n&&"context"in a&&void 0===a.context&&(a.context=n);for(o=i.keys(r);s<o.length;s++)e=l(t,e,o[s],r[o[s]],a)}else if(r&&c.test(r))for(o=r.split(c);s<o.length;s++)e=t(e,o[s],n,a);else e=t(e,r,n,a);return e};s.on=function(t,e,i){return this._events=l(p,this._events||{},t,e,{context:i,ctx:this,listening:o}),o&&((this._listeners||(this._listeners={}))[o.id]=o,o.interop=!1),this},s.listenTo=function(t,e,r){if(!t)return this;var n=t._listenId||(t._listenId=i.uniqueId("l")),a=this._listeningTo||(this._listeningTo={}),s=o=a[n];s||(this._listenId||(this._listenId=i.uniqueId("l")),s=o=a[n]=new f(this,t));var c=u(t,e,r,this);if(o=void 0,c)throw c;return s.interop&&s.on(e,r),this};var p=function(t,e,i,r){if(i){var n=t[e]||(t[e]=[]),a=r.context,o=r.ctx,s=r.listening;s&&s.count++,n.push({callback:i,context:a,ctx:a||o,listening:s})}return t},u=function(t,e,i,r){try{t.on(e,i,r)}catch(t){return t}};s.off=function(t,e,i){return this._events?(this._events=l(h,this._events,t,e,{context:i,listeners:this._listeners}),this):this},s.stopListening=function(t,e,r){var n=this._listeningTo;if(!n)return this;for(var a=t?[t._listenId]:i.keys(n),o=0;o<a.length;o++){var s=n[a[o]];if(!s)break;s.obj.off(e,r,this),s.interop&&s.off(e,r)}return i.isEmpty(n)&&(this._listeningTo=void 0),this};var h=function(t,e,r,n){if(t){var a,o=n.context,s=n.listeners,c=0;if(e||o||r){for(a=e?[e]:i.keys(t);c<a.length;c++){var l=t[e=a[c]];if(!l)break;for(var p=[],u=0;u<l.length;u++){var h=l[u];if(r&&r!==h.callback&&r!==h.callback._callback||o&&o!==h.context)p.push(h);else{var d=h.listening;d&&d.off(e,r)}}p.length?t[e]=p:delete t[e]}return t}for(a=i.keys(s);c<a.length;c++)s[a[c]].cleanup()}};s.once=function(t,e,i){var r=l(d,{},t,e,this.off.bind(this));return"string"==typeof t&&null==i&&(e=void 0),this.on(r,e,i)},s.listenToOnce=function(t,e,i){var r=l(d,{},e,i,this.stopListening.bind(this,t));return this.listenTo(t,r)};var d=function(t,e,r,n){if(r){var a=t[e]=i.once((function(){n(e,a),r.apply(this,arguments)}));a._callback=r}return t};s.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),i=Array(e),r=0;r<e;r++)i[r]=arguments[r+1];return l(g,this._events,t,void 0,i),this};var g=function(t,e,i,r){if(t){var n=t[e],a=t.all;n&&a&&(a=a.slice()),n&&m(n,r),a&&m(a,[e].concat(r))}return t},m=function(t,e){var i,r=-1,n=t.length,a=e[0],o=e[1],s=e[2];switch(e.length){case 0:for(;++r<n;)(i=t[r]).callback.call(i.ctx);return;case 1:for(;++r<n;)(i=t[r]).callback.call(i.ctx,a);return;case 2:for(;++r<n;)(i=t[r]).callback.call(i.ctx,a,o);return;case 3:for(;++r<n;)(i=t[r]).callback.call(i.ctx,a,o,s);return;default:for(;++r<n;)(i=t[r]).callback.apply(i.ctx,e);return}},f=function(t,e){this.id=t._listenId,this.listener=t,this.obj=e,this.interop=!0,this.count=0,this._events=void 0};f.prototype.on=s.on,f.prototype.off=function(t,e){var i;this.interop?(this._events=l(h,this._events,t,e,{context:void 0,listeners:void 0}),i=!this._events):(this.count--,i=0===this.count),i&&this.cleanup()},f.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},s.bind=s.on,s.unbind=s.off,i.extend(e,s);var b=e.Model=function(t,e){var r=t||{};e||(e={}),this.preinitialize.apply(this,arguments),this.cid=i.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{});var n=i.result(this,"defaults");r=i.defaults(i.extend({},n,r),n),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};i.extend(b.prototype,s,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!i.iteratee(t,this)(this.attributes)},set:function(t,e,r){if(null==t)return this;var n;if("object"==typeof t?(n=t,r=e):(n={})[t]=e,r||(r={}),!this._validate(n,r))return!1;var a=r.unset,o=r.silent,s=[],c=this._changing;this._changing=!0,c||(this._previousAttributes=i.clone(this.attributes),this.changed={});var l=this.attributes,p=this.changed,u=this._previousAttributes;for(var h in n)e=n[h],i.isEqual(l[h],e)||s.push(h),i.isEqual(u[h],e)?delete p[h]:p[h]=e,a?delete l[h]:l[h]=e;if(this.idAttribute in n){var d=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,d,r)}if(!o){s.length&&(this._pending=r);for(var g=0;g<s.length;g++)this.trigger("change:"+s[g],this,l[s[g]],r)}if(c)return this;if(!o)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!i.isEmpty(this.changed):i.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&i.clone(this.changed);var e,r=this._changing?this._previousAttributes:this.attributes,n={};for(var a in t){var o=t[a];i.isEqual(r[a],o)||(n[a]=o,e=!0)}return!!e&&n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){t=i.extend({parse:!0},t);var e=this,r=t.success;return t.success=function(i){var n=t.parse?e.parse(i,t):i;if(!e.set(n,t))return!1;r&&r.call(t.context,e,i,t),e.trigger("sync",e,i,t)},H(this,t),this.sync("read",this,t)},save:function(t,e,r){var n;null==t||"object"==typeof t?(n=t,r=e):(n={})[t]=e;var a=(r=i.extend({validate:!0,parse:!0},r)).wait;if(n&&!a){if(!this.set(n,r))return!1}else if(!this._validate(n,r))return!1;var o=this,s=r.success,c=this.attributes;r.success=function(t){o.attributes=c;var e=r.parse?o.parse(t,r):t;if(a&&(e=i.extend({},n,e)),e&&!o.set(e,r))return!1;s&&s.call(r.context,o,t,r),o.trigger("sync",o,t,r)},H(this,r),n&&a&&(this.attributes=i.extend({},c,n));var l=this.isNew()?"create":r.patch?"patch":"update";"patch"!==l||r.attrs||(r.attrs=n);var p=this.sync(l,this,r);return this.attributes=c,p},destroy:function(t){t=t?i.clone(t):{};var e=this,r=t.success,n=t.wait,a=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(i){n&&a(),r&&r.call(t.context,e,i,t),e.isNew()||e.trigger("sync",e,i,t)};var o=!1;return this.isNew()?i.defer(t.success):(H(this,t),o=this.sync("delete",this,t)),n||a(),o},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||F();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return!r||(this.trigger("invalid",this,r,i.extend(e,{validationError:r})),!1)}});var y=e.Collection=function(t,e){e||(e={}),this.preinitialize.apply(this,arguments),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,i.extend({silent:!0},e))},v={add:!0,remove:!0,merge:!0},w={add:!0,remove:!1},_=function(t,e,i){i=Math.min(Math.max(i,0),t.length);var r,n=Array(t.length-i),a=e.length;for(r=0;r<n.length;r++)n[r]=t[r+i];for(r=0;r<a;r++)t[r+i]=e[r];for(r=0;r<n.length;r++)t[r+a+i]=n[r]};i.extend(y.prototype,s,{model:b,preinitialize:function(){},initialize:function(){},toJSON:function(t){return this.map((function(e){return e.toJSON(t)}))},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:!1},e,w))},remove:function(t,e){e=i.extend({},e);var r=!i.isArray(t);t=r?[t]:t.slice();var n=this._removeModels(t,e);return!e.silent&&n.length&&(e.changes={added:[],merged:[],removed:n},this.trigger("update",this,e)),r?n[0]:n},set:function(t,e){if(null!=t){(e=i.extend({},v,e)).parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var r=!i.isArray(t);t=r?[t]:t.slice();var n=e.at;null!=n&&(n=+n),n>this.length&&(n=this.length),n<0&&(n+=this.length+1);var a,o,s=[],c=[],l=[],p=[],u={},h=e.add,d=e.merge,g=e.remove,m=!1,f=this.comparator&&null==n&&!1!==e.sort,b=i.isString(this.comparator)?this.comparator:null;for(o=0;o<t.length;o++){a=t[o];var y=this.get(a);if(y){if(d&&a!==y){var w=this._isModel(a)?a.attributes:a;e.parse&&(w=y.parse(w,e)),y.set(w,e),l.push(y),f&&!m&&(m=y.hasChanged(b))}u[y.cid]||(u[y.cid]=!0,s.push(y)),t[o]=y}else h&&(a=t[o]=this._prepareModel(a,e))&&(c.push(a),this._addReference(a,e),u[a.cid]=!0,s.push(a))}if(g){for(o=0;o<this.length;o++)u[(a=this.models[o]).cid]||p.push(a);p.length&&this._removeModels(p,e)}var C=!1,x=!f&&h&&g;if(s.length&&x?(C=this.length!==s.length||i.some(this.models,(function(t,e){return t!==s[e]})),this.models.length=0,_(this.models,s,0),this.length=this.models.length):c.length&&(f&&(m=!0),_(this.models,c,null==n?this.length:n),this.length=this.models.length),m&&this.sort({silent:!0}),!e.silent){for(o=0;o<c.length;o++)null!=n&&(e.index=n+o),(a=c[o]).trigger("add",a,this,e);(m||C)&&this.trigger("sort",this,e),(c.length||p.length||l.length)&&(e.changes={added:c,removed:p,merged:l},this.trigger("update",this,e))}return r?t[0]:t}},reset:function(t,e){e=e?i.clone(e):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,i.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return a.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(this._isModel(t)?t.attributes:t,t.idAttribute)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var r=e.length;return i.isFunction(e)&&(e=e.bind(this)),1===r||i.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){var e=(t=i.extend({parse:!0},t)).success,r=this;return t.success=function(i){var n=t.reset?"reset":"set";r[n](i,t),e&&e.call(t.context,r,i,t),r.trigger("sync",r,i,t)},H(this,t),this.sync("read",this,t)},create:function(t,e){var r=(e=e?i.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;r||this.add(t,e);var n=this,a=e.success;return e.success=function(t,e,i){r&&n.add(t,i),a&&a.call(i.context,t,e,i)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t,e){return t[e||this.model.prototype.idAttribute||"id"]},values:function(){return new x(this,k)},keys:function(){return new x(this,j)},entries:function(){return new x(this,I)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){return this._isModel(t)?(t.collection||(t.collection=this),t):((e=e?i.clone(e):{}).collection=this,(r=this.model.prototype?new this.model(t,e):this.model(t,e)).validationError?(this.trigger("invalid",this,r.validationError,e),!1):r);var r},_removeModels:function(t,e){for(var i=[],r=0;r<t.length;r++){var n=this.get(t[r]);if(n){var a=this.indexOf(n);this.models.splice(a,1),this.length--,delete this._byId[n.cid];var o=this.modelId(n.attributes,n.idAttribute);null!=o&&delete this._byId[o],e.silent||(e.index=a,n.trigger("remove",n,this,e)),i.push(n),this._removeReference(n,e)}}return i},_isModel:function(t){return t instanceof b},_addReference:function(t,e){this._byId[t.cid]=t;var i=this.modelId(t.attributes,t.idAttribute);null!=i&&(this._byId[i]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var i=this.modelId(t.attributes,t.idAttribute);null!=i&&delete this._byId[i],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,r){if(e){if(("add"===t||"remove"===t)&&i!==this)return;if("destroy"===t&&this.remove(e,r),"changeId"===t){var n=this.modelId(e.previousAttributes(),e.idAttribute),a=this.modelId(e.attributes,e.idAttribute);null!=n&&delete this._byId[n],null!=a&&(this._byId[a]=e)}}this.trigger.apply(this,arguments)}});var C="function"==typeof Symbol&&Symbol.iterator;C&&(y.prototype[C]=y.prototype.values);var x=function(t,e){this._collection=t,this._kind=e,this._index=0},k=1,j=2,I=3;C&&(x.prototype[C]=function(){return this}),x.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var t,e=this._collection.at(this._index);if(this._index++,this._kind===k)t=e;else{var i=this._collection.modelId(e.attributes,e.idAttribute);t=this._kind===j?i:[i,e]}return{value:t,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var S=e.View=function(t){this.cid=i.uniqueId("view"),this.preinitialize.apply(this,arguments),i.extend(this,i.pick(t,T)),this._ensureElement(),this.initialize.apply(this,arguments)},P=/^(\S+)\s*(.*)$/,T=["model","collection","el","id","attributes","className","tagName","events"];i.extend(S.prototype,s,{tagName:"div",$:function(t){return this.$el.find(t)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=i.result(this,"events")),!t)return this;for(var e in this.undelegateEvents(),t){var r=t[e];if(i.isFunction(r)||(r=this[r]),r){var n=e.match(P);this.delegate(n[1],n[2],r.bind(this))}}return this},delegate:function(t,e,i){return this.$el.on(t+".delegateEvents"+this.cid,e,i),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,i){return this.$el.off(t+".delegateEvents"+this.cid,e,i),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var t=i.extend({},i.result(this,"attributes"));this.id&&(t.id=i.result(this,"id")),this.className&&(t.class=i.result(this,"className")),this.setElement(this._createElement(i.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}});var R=function(t,e,r,n){i.each(r,(function(i,r){e[r]&&(t.prototype[r]=function(t,e,i,r){switch(e){case 1:return function(){return t[i](this[r])};case 2:return function(e){return t[i](this[r],e)};case 3:return function(e,n){return t[i](this[r],M(e,this),n)};case 4:return function(e,n,a){return t[i](this[r],M(e,this),n,a)};default:return function(){var e=a.call(arguments);return e.unshift(this[r]),t[i].apply(t,e)}}}(e,i,r,n))}))},M=function(t,e){return i.isFunction(t)?t:i.isObject(t)&&!e._isModel(t)?A(t):i.isString(t)?function(e){return e.get(t)}:t},A=function(t){var e=i.matches(t);return function(t){return e(t.attributes)}};i.each([[y,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models"],[b,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes"]],(function(t){var e=t[0],r=t[1],n=t[2];e.mixin=function(t){var r=i.reduce(i.functions(t),(function(t,e){return t[e]=0,t}),{});R(e,t,r,n)},R(e,i,r,n)})),e.sync=function(t,r,n){var a=E[t];i.defaults(n||(n={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var o={type:a,dataType:"json"};if(n.url||(o.url=i.result(r,"url")||F()),null!=n.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(n.attrs||r.toJSON(n))),n.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),n.emulateHTTP&&("PUT"===a||"DELETE"===a||"PATCH"===a)){o.type="POST",n.emulateJSON&&(o.data._method=a);var s=n.beforeSend;n.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",a),s)return s.apply(this,arguments)}}"GET"===o.type||n.emulateJSON||(o.processData=!1);var c=n.error;n.error=function(t,e,i){n.textStatus=e,n.errorThrown=i,c&&c.call(n.context,t,e,i)};var l=n.xhr=e.ajax(i.extend(o,n));return r.trigger("request",r,l,n),l};var E={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var O=e.Router=function(t){t||(t={}),this.preinitialize.apply(this,arguments),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},W=/\((.*?)\)/g,D=/(\(\?)?:\w+/g,N=/\*\w+/g,U=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(O.prototype,s,{preinitialize:function(){},initialize:function(){},route:function(t,r,n){i.isRegExp(t)||(t=this._routeToRegExp(t)),i.isFunction(r)&&(n=r,r=""),n||(n=this[r]);var a=this;return e.history.route(t,(function(i){var o=a._extractParameters(t,i);!1!==a.execute(n,o,r)&&(a.trigger.apply(a,["route:"+r].concat(o)),a.trigger("route",r,o),e.history.trigger("route",a,r,o))})),this},execute:function(t,e,i){t&&t.apply(this,e)},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var t,e=i.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(U,"\\$&").replace(W,"(?:$1)?").replace(D,(function(t,e){return e?t:"([^/?]+)"})).replace(N,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return i.map(r,(function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null}))}});var B=e.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},z=/^[#\/]|\s+$/g,V=/^\/+|\/+$/g,L=/#.*$/;B.started=!1,i.extend(B.prototype,s,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(z,"")},start:function(t){if(B.started)throw new Error("Backbone.history has already been started");if(B.started=!0,this.options=i.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(V,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,n=r.insertBefore(this.iframe,r.firstChild).contentWindow;n.document.open(),n.document.close(),n.location.hash="#"+this.fragment}var a=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?a("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?a("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),B.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),i.some(this.handlers,(function(e){if(e.route.test(t))return e.callback(t),!0})))},navigate:function(t,e){if(!B.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var i=this.root;""!==t&&"?"!==t.charAt(0)||(i=i.slice(0,-1)||"/");var r=i+t;t=t.replace(L,"");var n=this.decodeFragment(t);if(this.fragment!==n){if(this.fragment=n,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var a=this.iframe.contentWindow;e.replace||(a.document.open(),a.document.close()),this._updateHash(a.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new B;b.extend=y.extend=O.extend=S.extend=B.extend=function(t,e){var r,n=this;return r=t&&i.has(t,"constructor")?t.constructor:function(){return n.apply(this,arguments)},i.extend(r,n,e),r.prototype=i.create(n.prototype,t),r.prototype.constructor=r,r.__super__=n.prototype,r};var F=function(){throw new Error('A "url" property or function must be specified')},H=function(t,e){var i=e.error;e.error=function(r){i&&i.call(e.context,t,r,e),t.trigger("error",t,r,e)}};return e}(a,i,t,e)}.apply(e,r),void 0===n||(t.exports=n)},4580:function(t,e,i){var r=i(6401);t.exports=r},7291:function(t,e,i){i(5234),i(5769),i(3238),i(1418),i(2107),i(3007),i(1370),i(7460);var r=i(9775);t.exports=r.Promise},9939:function(t,e,i){i(3234)},3234:function(t,e,i){var r=i(4580);i(1936),i(1620),i(5411),i(4688),t.exports=r},5089:function(t,e,i){var r=i(930),n=i(9268),a=TypeError;t.exports=function(t){if(r(t))return t;throw a(n(t)+" is not a function")}},1449:function(t,e,i){var r=i(1956),n=i(9268),a=TypeError;t.exports=function(t){if(r(t))return t;throw a(n(t)+" is not a constructor")}},1378:function(t,e,i){var r=i(930),n=String,a=TypeError;t.exports=function(t){if("object"==typeof t||r(t))return t;throw a("Can't set "+n(t)+" as a prototype")}},8669:function(t,e,i){var r=i(211),n=i(4710),a=i(7826).f,o=r("unscopables"),s=Array.prototype;null==s[o]&&a(s,o,{configurable:!0,value:n(null)}),t.exports=function(t){s[o][t]=!0}},1855:function(t,e,i){var r=i(5516),n=TypeError;t.exports=function(t,e){if(r(e,t))return t;throw n("Incorrect invocation")}},6112:function(t,e,i){var r=i(8759),n=String,a=TypeError;t.exports=function(t){if(r(t))return t;throw a(n(t)+" is not an object")}},6198:function(t,e,i){var r=i(4088),n=i(7740),a=i(2871),o=function(t){return function(e,i,o){var s,c=r(e),l=a(c),p=n(o,l);if(t&&i!=i){for(;l>p;)if((s=c[p++])!=s)return!0}else for(;l>p;p++)if((t||p in c)&&c[p]===i)return t||p||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},745:function(t,e,i){var r=i(8240);t.exports=r([].slice)},8939:function(t,e,i){var r=i(211)("iterator"),n=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){n=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!n)return!1;var i=!1;try{var a={};a[r]=function(){return{next:function(){return{done:i=!0}}}},t(a)}catch(t){}return i}},2306:function(t,e,i){var r=i(8240),n=r({}.toString),a=r("".slice);t.exports=function(t){return a(n(t),8,-1)}},375:function(t,e,i){var r=i(2371),n=i(930),a=i(2306),o=i(211)("toStringTag"),s=Object,c="Arguments"==a(function(){return arguments}());t.exports=r?a:function(t){var e,i,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=s(t),o))?i:c?a(e):"Object"==(r=a(e))&&n(e.callee)?"Arguments":r}},1765:function(t,e,i){var r=i(8240),n=Error,a=r("".replace),o=String(n("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,c=s.test(o);t.exports=function(t,e){if(c&&"string"==typeof t&&!n.prepareStackTrace)for(;e--;)t=a(t,s,"");return t}},8474:function(t,e,i){var r=i(9606),n=i(6095),a=i(4399),o=i(7826);t.exports=function(t,e,i){for(var s=n(e),c=o.f,l=a.f,p=0;p<s.length;p++){var u=s[p];r(t,u)||i&&r(i,u)||c(t,u,l(e,u))}}},7209:function(t,e,i){var r=i(3677);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},471:function(t,e,i){"use strict";var r=i(3083).IteratorPrototype,n=i(4710),a=i(5736),o=i(914),s=i(7719),c=function(){return this};t.exports=function(t,e,i,l){var p=e+" Iterator";return t.prototype=n(r,{next:a(+!l,i)}),o(t,p,!1,!0),s[p]=c,t}},2585:function(t,e,i){var r=i(5283),n=i(7826),a=i(5736);t.exports=r?function(t,e,i){return n.f(t,e,a(1,i))}:function(t,e,i){return t[e]=i,t}},5736:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},1343:function(t,e,i){var r=i(930),n=i(7826),a=i(3712),o=i(9444);t.exports=function(t,e,i,s){s||(s={});var c=s.enumerable,l=void 0!==s.name?s.name:e;if(r(i)&&a(i,l,s),s.global)c?t[e]=i:o(e,i);else{try{s.unsafe?t[e]&&(c=!0):delete t[e]}catch(t){}c?t[e]=i:n.f(t,e,{value:i,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return t}},9444:function(t,e,i){var r=i(2086),n=Object.defineProperty;t.exports=function(t,e){try{n(r,t,{value:e,configurable:!0,writable:!0})}catch(i){r[t]=e}return e}},8432:function(t,e,i){"use strict";var r=i(1695),n=i(9413),a=i(3296),o=i(4398),s=i(930),c=i(471),l=i(2130),p=i(7530),u=i(914),h=i(2585),d=i(1343),g=i(211),m=i(7719),f=i(3083),b=o.PROPER,y=o.CONFIGURABLE,v=f.IteratorPrototype,w=f.BUGGY_SAFARI_ITERATORS,_=g("iterator"),C="keys",x="values",k="entries",j=function(){return this};t.exports=function(t,e,i,o,g,f,I){c(i,e,o);var S,P,T,R=function(t){if(t===g&&W)return W;if(!w&&t in E)return E[t];switch(t){case C:case x:case k:return function(){return new i(this,t)}}return function(){return new i(this)}},M=e+" Iterator",A=!1,E=t.prototype,O=E[_]||E["@@iterator"]||g&&E[g],W=!w&&O||R(g),D="Array"==e&&E.entries||O;if(D&&(S=l(D.call(new t)))!==Object.prototype&&S.next&&(a||l(S)===v||(p?p(S,v):s(S[_])||d(S,_,j)),u(S,M,!0,!0),a&&(m[M]=j)),b&&g==x&&O&&O.name!==x&&(!a&&y?h(E,"name",x):(A=!0,W=function(){return n(O,this)})),g)if(P={values:R(x),keys:f?W:R(C),entries:R(k)},I)for(T in P)(w||A||!(T in E))&&d(E,T,P[T]);else r({target:e,proto:!0,forced:w||A},P);return a&&!I||E[_]===W||d(E,_,W,{name:g}),m[e]=W,P}},5283:function(t,e,i){var r=i(3677);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},821:function(t,e,i){var r=i(2086),n=i(8759),a=r.document,o=n(a)&&n(a.createElement);t.exports=function(t){return o?a.createElement(t):{}}},933:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},3526:function(t,e,i){var r=i(821)("span").classList,n=r&&r.constructor&&r.constructor.prototype;t.exports=n===Object.prototype?void 0:n},172:function(t){t.exports="object"==typeof window&&"object"!=typeof Deno},1848:function(t,e,i){var r=i(4999),n=i(2086);t.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==n.Pebble},4344:function(t,e,i){var r=i(4999);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},1801:function(t,e,i){var r=i(2306),n=i(2086);t.exports="process"==r(n.process)},4928:function(t,e,i){var r=i(4999);t.exports=/web0s(?!.*chrome)/i.test(r)},4999:function(t,e,i){var r=i(563);t.exports=r("navigator","userAgent")||""},1448:function(t,e,i){var r,n,a=i(2086),o=i(4999),s=a.process,c=a.Deno,l=s&&s.versions||c&&c.version,p=l&&l.v8;p&&(n=(r=p.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!n&&o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(n=+r[1]),t.exports=n},8684:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2114:function(t,e,i){var r=i(3677),n=i(5736);t.exports=!r((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",n(1,7)),7!==t.stack)}))},1695:function(t,e,i){var r=i(2086),n=i(4399).f,a=i(2585),o=i(1343),s=i(9444),c=i(8474),l=i(7189);t.exports=function(t,e){var i,p,u,h,d,g=t.target,m=t.global,f=t.stat;if(i=m?r:f?r[g]||s(g,{}):(r[g]||{}).prototype)for(p in e){if(h=e[p],u=t.dontCallGetSet?(d=n(i,p))&&d.value:i[p],!l(m?p:g+(f?".":"#")+p,t.forced)&&void 0!==u){if(typeof h==typeof u)continue;c(h,u)}(t.sham||u&&u.sham)&&a(h,"sham",!0),o(i,p,h,t)}}},3677:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},7258:function(t,e,i){var r=i(6059),n=Function.prototype,a=n.apply,o=n.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?o.bind(a):function(){return o.apply(a,arguments)})},8516:function(t,e,i){var r=i(8240),n=i(5089),a=i(6059),o=r(r.bind);t.exports=function(t,e){return n(t),void 0===e?t:a?o(t,e):function(){return t.apply(e,arguments)}}},6059:function(t,e,i){var r=i(3677);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},9413:function(t,e,i){var r=i(6059),n=Function.prototype.call;t.exports=r?n.bind(n):function(){return n.apply(n,arguments)}},4398:function(t,e,i){var r=i(5283),n=i(9606),a=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,s=n(a,"name"),c=s&&"something"===function(){}.name,l=s&&(!r||r&&o(a,"name").configurable);t.exports={EXISTS:s,PROPER:c,CONFIGURABLE:l}},8240:function(t,e,i){var r=i(6059),n=Function.prototype,a=n.bind,o=n.call,s=r&&a.bind(o,o);t.exports=r?function(t){return t&&s(t)}:function(t){return t&&function(){return o.apply(t,arguments)}}},563:function(t,e,i){var r=i(2086),n=i(930),a=function(t){return n(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?a(r[t]):r[t]&&r[t][e]}},1667:function(t,e,i){var r=i(375),n=i(2964),a=i(7719),o=i(211)("iterator");t.exports=function(t){if(null!=t)return n(t,o)||n(t,"@@iterator")||a[r(t)]}},3546:function(t,e,i){var r=i(9413),n=i(5089),a=i(6112),o=i(9268),s=i(1667),c=TypeError;t.exports=function(t,e){var i=arguments.length<2?s(t):e;if(n(i))return a(r(i,t));throw c(o(t)+" is not iterable")}},2964:function(t,e,i){var r=i(5089);t.exports=function(t,e){var i=t[e];return null==i?void 0:r(i)}},2086:function(t,e,i){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof i.g&&i.g)||function(){return this}()||Function("return this")()},9606:function(t,e,i){var r=i(8240),n=i(3060),a=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return a(n(t),e)}},7153:function(t){t.exports={}},1670:function(t,e,i){var r=i(2086);t.exports=function(t,e){var i=r.console;i&&i.error&&(1==arguments.length?i.error(t):i.error(t,e))}},5963:function(t,e,i){var r=i(563);t.exports=r("document","documentElement")},6761:function(t,e,i){var r=i(5283),n=i(3677),a=i(821);t.exports=!r&&!n((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},5974:function(t,e,i){var r=i(8240),n=i(3677),a=i(2306),o=Object,s=r("".split);t.exports=n((function(){return!o("z").propertyIsEnumerable(0)}))?function(t){return"String"==a(t)?s(t,""):o(t)}:o},9277:function(t,e,i){var r=i(8240),n=i(930),a=i(4489),o=r(Function.toString);n(a.inspectSource)||(a.inspectSource=function(t){return o(t)}),t.exports=a.inspectSource},8945:function(t,e,i){var r=i(8759),n=i(2585);t.exports=function(t,e){r(e)&&"cause"in e&&n(t,"cause",e.cause)}},3278:function(t,e,i){var r,n,a,o=i(9316),s=i(2086),c=i(8240),l=i(8759),p=i(2585),u=i(9606),h=i(4489),d=i(8944),g=i(7153),m="Object already initialized",f=s.TypeError,b=s.WeakMap;if(o||h.state){var y=h.state||(h.state=new b),v=c(y.get),w=c(y.has),_=c(y.set);r=function(t,e){if(w(y,t))throw new f(m);return e.facade=t,_(y,t,e),e},n=function(t){return v(y,t)||{}},a=function(t){return w(y,t)}}else{var C=d("state");g[C]=!0,r=function(t,e){if(u(t,C))throw new f(m);return e.facade=t,p(t,C,e),e},n=function(t){return u(t,C)?t[C]:{}},a=function(t){return u(t,C)}}t.exports={set:r,get:n,has:a,enforce:function(t){return a(t)?n(t):r(t,{})},getterFor:function(t){return function(e){var i;if(!l(e)||(i=n(e)).type!==t)throw f("Incompatible receiver, "+t+" required");return i}}}},2814:function(t,e,i){var r=i(211),n=i(7719),a=r("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||o[a]===t)}},930:function(t){t.exports=function(t){return"function"==typeof t}},1956:function(t,e,i){var r=i(8240),n=i(3677),a=i(930),o=i(375),s=i(563),c=i(9277),l=function(){},p=[],u=s("Reflect","construct"),h=/^\s*(?:class|function)\b/,d=r(h.exec),g=!h.exec(l),m=function(t){if(!a(t))return!1;try{return u(l,p,t),!0}catch(t){return!1}},f=function(t){if(!a(t))return!1;switch(o(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!d(h,c(t))}catch(t){return!0}};f.sham=!0,t.exports=!u||n((function(){var t;return m(m.call)||!m(Object)||!m((function(){t=!0}))||t}))?f:m},7189:function(t,e,i){var r=i(3677),n=i(930),a=/#|\.prototype\./,o=function(t,e){var i=c[s(t)];return i==p||i!=l&&(n(e)?r(e):!!e)},s=o.normalize=function(t){return String(t).replace(a,".").toLowerCase()},c=o.data={},l=o.NATIVE="N",p=o.POLYFILL="P";t.exports=o},8759:function(t,e,i){var r=i(930);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},3296:function(t){t.exports=!1},2071:function(t,e,i){var r=i(563),n=i(930),a=i(5516),o=i(1876),s=Object;t.exports=o?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return n(e)&&a(e.prototype,s(t))}},4722:function(t,e,i){var r=i(8516),n=i(9413),a=i(6112),o=i(9268),s=i(2814),c=i(2871),l=i(5516),p=i(3546),u=i(1667),h=i(6737),d=TypeError,g=function(t,e){this.stopped=t,this.result=e},m=g.prototype;t.exports=function(t,e,i){var f,b,y,v,w,_,C,x=i&&i.that,k=!(!i||!i.AS_ENTRIES),j=!(!i||!i.IS_RECORD),I=!(!i||!i.IS_ITERATOR),S=!(!i||!i.INTERRUPTED),P=r(e,x),T=function(t){return f&&h(f,"normal",t),new g(!0,t)},R=function(t){return k?(a(t),S?P(t[0],t[1],T):P(t[0],t[1])):S?P(t,T):P(t)};if(j)f=t.iterator;else if(I)f=t;else{if(!(b=u(t)))throw d(o(t)+" is not iterable");if(s(b)){for(y=0,v=c(t);v>y;y++)if((w=R(t[y]))&&l(m,w))return w;return new g(!1)}f=p(t,b)}for(_=j?t.next:f.next;!(C=n(_,f)).done;){try{w=R(C.value)}catch(t){h(f,"throw",t)}if("object"==typeof w&&w&&l(m,w))return w}return new g(!1)}},6737:function(t,e,i){var r=i(9413),n=i(6112),a=i(2964);t.exports=function(t,e,i){var o,s;n(t);try{if(!(o=a(t,"return"))){if("throw"===e)throw i;return i}o=r(o,t)}catch(t){s=!0,o=t}if("throw"===e)throw i;if(s)throw o;return n(o),i}},3083:function(t,e,i){"use strict";var r,n,a,o=i(3677),s=i(930),c=i(4710),l=i(2130),p=i(1343),u=i(211),h=i(3296),d=u("iterator"),g=!1;[].keys&&("next"in(a=[].keys())?(n=l(l(a)))!==Object.prototype&&(r=n):g=!0),null==r||o((function(){var t={};return r[d].call(t)!==t}))?r={}:h&&(r=c(r)),s(r[d])||p(r,d,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:g}},7719:function(t){t.exports={}},2871:function(t,e,i){var r=i(4005);t.exports=function(t){return r(t.length)}},3712:function(t,e,i){var r=i(3677),n=i(930),a=i(9606),o=i(5283),s=i(4398).CONFIGURABLE,c=i(9277),l=i(3278),p=l.enforce,u=l.get,h=Object.defineProperty,d=o&&!r((function(){return 8!==h((function(){}),"length",{value:8}).length})),g=String(String).split("String"),m=t.exports=function(t,e,i){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),i&&i.getter&&(e="get "+e),i&&i.setter&&(e="set "+e),(!a(t,"name")||s&&t.name!==e)&&(o?h(t,"name",{value:e,configurable:!0}):t.name=e),d&&i&&a(i,"arity")&&t.length!==i.arity&&h(t,"length",{value:i.arity});try{i&&a(i,"constructor")&&i.constructor?o&&h(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var r=p(t);return a(r,"source")||(r.source=g.join("string"==typeof e?e:"")),t};Function.prototype.toString=m((function(){return n(this)&&u(this).source||c(this)}),"toString")},5681:function(t){var e=Math.ceil,i=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?i:e)(r)}},3173:function(t,e,i){var r,n,a,o,s,c,l,p,u=i(2086),h=i(8516),d=i(4399).f,g=i(4953).set,m=i(4344),f=i(1848),b=i(4928),y=i(1801),v=u.MutationObserver||u.WebKitMutationObserver,w=u.document,_=u.process,C=u.Promise,x=d(u,"queueMicrotask"),k=x&&x.value;k||(r=function(){var t,e;for(y&&(t=_.domain)&&t.exit();n;){e=n.fn,n=n.next;try{e()}catch(t){throw n?o():a=void 0,t}}a=void 0,t&&t.enter()},m||y||b||!v||!w?!f&&C&&C.resolve?((l=C.resolve(void 0)).constructor=C,p=h(l.then,l),o=function(){p(r)}):y?o=function(){_.nextTick(r)}:(g=h(g,u),o=function(){g(r)}):(s=!0,c=w.createTextNode(""),new v(r).observe(c,{characterData:!0}),o=function(){c.data=s=!s})),t.exports=k||function(t){var e={fn:t,next:void 0};a&&(a.next=e),n||(n=e,o()),a=e}},3193:function(t,e,i){var r=i(1448),n=i(3677);t.exports=!!Object.getOwnPropertySymbols&&!n((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},9316:function(t,e,i){var r=i(2086),n=i(930),a=i(9277),o=r.WeakMap;t.exports=n(o)&&/native code/.test(a(o))},8722:function(t,e,i){"use strict";var r=i(5089),n=function(t){var e,i;this.promise=new t((function(t,r){if(void 0!==e||void 0!==i)throw TypeError("Bad Promise constructor");e=t,i=r})),this.resolve=r(e),this.reject=r(i)};t.exports.f=function(t){return new n(t)}},1879:function(t,e,i){var r=i(4059);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:r(t)}},4710:function(t,e,i){var r,n=i(6112),a=i(7711),o=i(8684),s=i(7153),c=i(5963),l=i(821),p=i(8944)("IE_PROTO"),u=function(){},h=function(t){return"<script>"+t+"<\/script>"},d=function(t){t.write(h("")),t.close();var e=t.parentWindow.Object;return t=null,e},g=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}var t,e;g="undefined"!=typeof document?document.domain&&r?d(r):((e=l("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(h("document.F=Object")),t.close(),t.F):d(r);for(var i=o.length;i--;)delete g.prototype[o[i]];return g()};s[p]=!0,t.exports=Object.create||function(t,e){var i;return null!==t?(u.prototype=n(t),i=new u,u.prototype=null,i[p]=t):i=g(),void 0===e?i:a.f(i,e)}},7711:function(t,e,i){var r=i(5283),n=i(8202),a=i(7826),o=i(6112),s=i(4088),c=i(8779);e.f=r&&!n?Object.defineProperties:function(t,e){o(t);for(var i,r=s(e),n=c(e),l=n.length,p=0;l>p;)a.f(t,i=n[p++],r[i]);return t}},7826:function(t,e,i){var r=i(5283),n=i(6761),a=i(8202),o=i(6112),s=i(2258),c=TypeError,l=Object.defineProperty,p=Object.getOwnPropertyDescriptor;e.f=r?a?function(t,e,i){if(o(t),e=s(e),o(i),"function"==typeof t&&"prototype"===e&&"value"in i&&"writable"in i&&!i.writable){var r=p(t,e);r&&r.writable&&(t[e]=i.value,i={configurable:"configurable"in i?i.configurable:r.configurable,enumerable:"enumerable"in i?i.enumerable:r.enumerable,writable:!1})}return l(t,e,i)}:l:function(t,e,i){if(o(t),e=s(e),o(i),n)try{return l(t,e,i)}catch(t){}if("get"in i||"set"in i)throw c("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},4399:function(t,e,i){var r=i(5283),n=i(9413),a=i(7446),o=i(5736),s=i(4088),c=i(2258),l=i(9606),p=i(6761),u=Object.getOwnPropertyDescriptor;e.f=r?u:function(t,e){if(t=s(t),e=c(e),p)try{return u(t,e)}catch(t){}if(l(t,e))return o(!n(a.f,t,e),t[e])}},62:function(t,e,i){var r=i(1352),n=i(8684).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,n)}},6952:function(t,e){e.f=Object.getOwnPropertySymbols},2130:function(t,e,i){var r=i(9606),n=i(930),a=i(3060),o=i(8944),s=i(7209),c=o("IE_PROTO"),l=Object,p=l.prototype;t.exports=s?l.getPrototypeOf:function(t){var e=a(t);if(r(e,c))return e[c];var i=e.constructor;return n(i)&&e instanceof i?i.prototype:e instanceof l?p:null}},5516:function(t,e,i){var r=i(8240);t.exports=r({}.isPrototypeOf)},1352:function(t,e,i){var r=i(8240),n=i(9606),a=i(4088),o=i(6198).indexOf,s=i(7153),c=r([].push);t.exports=function(t,e){var i,r=a(t),l=0,p=[];for(i in r)!n(s,i)&&n(r,i)&&c(p,i);for(;e.length>l;)n(r,i=e[l++])&&(~o(p,i)||c(p,i));return p}},8779:function(t,e,i){var r=i(1352),n=i(8684);t.exports=Object.keys||function(t){return r(t,n)}},7446:function(t,e){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,n=r&&!i.call({1:2},1);e.f=n?function(t){var e=r(this,t);return!!e&&e.enumerable}:i},7530:function(t,e,i){var r=i(8240),n=i(6112),a=i(1378);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(i,[]),e=i instanceof Array}catch(t){}return function(i,r){return n(i),a(r),e?t(i,r):i.__proto__=r,i}}():void 0)},999:function(t,e,i){"use strict";var r=i(2371),n=i(375);t.exports=r?{}.toString:function(){return"[object "+n(this)+"]"}},7999:function(t,e,i){var r=i(9413),n=i(930),a=i(8759),o=TypeError;t.exports=function(t,e){var i,s;if("string"===e&&n(i=t.toString)&&!a(s=r(i,t)))return s;if(n(i=t.valueOf)&&!a(s=r(i,t)))return s;if("string"!==e&&n(i=t.toString)&&!a(s=r(i,t)))return s;throw o("Can't convert object to primitive value")}},6095:function(t,e,i){var r=i(563),n=i(8240),a=i(62),o=i(6952),s=i(6112),c=n([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=a.f(s(t)),i=o.f;return i?c(e,i(t)):e}},9775:function(t,e,i){var r=i(2086);t.exports=r},4522:function(t){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},1360:function(t,e,i){var r=i(2086),n=i(1237),a=i(930),o=i(7189),s=i(9277),c=i(211),l=i(172),p=i(3296),u=i(1448),h=n&&n.prototype,d=c("species"),g=!1,m=a(r.PromiseRejectionEvent),f=o("Promise",(function(){var t=s(n),e=t!==String(n);if(!e&&66===u)return!0;if(p&&(!h.catch||!h.finally))return!0;if(u>=51&&/native code/.test(t))return!1;var i=new n((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};return(i.constructor={})[d]=r,!(g=i.then((function(){}))instanceof r)||!e&&l&&!m}));t.exports={CONSTRUCTOR:f,REJECTION_EVENT:m,SUBCLASSING:g}},1237:function(t,e,i){var r=i(2086);t.exports=r.Promise},880:function(t,e,i){var r=i(6112),n=i(8759),a=i(8722);t.exports=function(t,e){if(r(t),n(e)&&e.constructor===t)return e;var i=a.f(t);return(0,i.resolve)(e),i.promise}},2079:function(t,e,i){var r=i(1237),n=i(8939),a=i(1360).CONSTRUCTOR;t.exports=a||!n((function(t){r.all(t).then(void 0,(function(){}))}))},7733:function(t){var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}},t.exports=e},9586:function(t){var e=TypeError;t.exports=function(t){if(null==t)throw e("Can't call method on "+t);return t}},7420:function(t,e,i){"use strict";var r=i(563),n=i(7826),a=i(211),o=i(5283),s=a("species");t.exports=function(t){var e=r(t),i=n.f;o&&e&&!e[s]&&i(e,s,{configurable:!0,get:function(){return this}})}},914:function(t,e,i){var r=i(7826).f,n=i(9606),a=i(211)("toStringTag");t.exports=function(t,e,i){t&&!i&&(t=t.prototype),t&&!n(t,a)&&r(t,a,{configurable:!0,value:e})}},8944:function(t,e,i){var r=i(9197),n=i(5422),a=r("keys");t.exports=function(t){return a[t]||(a[t]=n(t))}},4489:function(t,e,i){var r=i(2086),n=i(9444),a="__core-js_shared__",o=r[a]||n(a,{});t.exports=o},9197:function(t,e,i){var r=i(3296),n=i(4489);(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.23.4",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.4/LICENSE",source:"https://github.com/zloirock/core-js"})},8515:function(t,e,i){var r=i(6112),n=i(1449),a=i(211)("species");t.exports=function(t,e){var i,o=r(t).constructor;return void 0===o||null==(i=r(o)[a])?e:n(i)}},3448:function(t,e,i){var r=i(8240),n=i(9502),a=i(4059),o=i(9586),s=r("".charAt),c=r("".charCodeAt),l=r("".slice),p=function(t){return function(e,i){var r,p,u=a(o(e)),h=n(i),d=u.length;return h<0||h>=d?t?"":void 0:(r=c(u,h))<55296||r>56319||h+1===d||(p=c(u,h+1))<56320||p>57343?t?s(u,h):r:t?l(u,h,h+2):p-56320+(r-55296<<10)+65536}};t.exports={codeAt:p(!1),charAt:p(!0)}},4953:function(t,e,i){var r,n,a,o,s=i(2086),c=i(7258),l=i(8516),p=i(930),u=i(9606),h=i(3677),d=i(5963),g=i(745),m=i(821),f=i(1635),b=i(4344),y=i(1801),v=s.setImmediate,w=s.clearImmediate,_=s.process,C=s.Dispatch,x=s.Function,k=s.MessageChannel,j=s.String,I=0,S={};try{r=s.location}catch(t){}var P=function(t){if(u(S,t)){var e=S[t];delete S[t],e()}},T=function(t){return function(){P(t)}},R=function(t){P(t.data)},M=function(t){s.postMessage(j(t),r.protocol+"//"+r.host)};v&&w||(v=function(t){f(arguments.length,1);var e=p(t)?t:x(t),i=g(arguments,1);return S[++I]=function(){c(e,void 0,i)},n(I),I},w=function(t){delete S[t]},y?n=function(t){_.nextTick(T(t))}:C&&C.now?n=function(t){C.now(T(t))}:k&&!b?(o=(a=new k).port2,a.port1.onmessage=R,n=l(o.postMessage,o)):s.addEventListener&&p(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!h(M)?(n=M,s.addEventListener("message",R,!1)):n="onreadystatechange"in m("script")?function(t){d.appendChild(m("script")).onreadystatechange=function(){d.removeChild(this),P(t)}}:function(t){setTimeout(T(t),0)}),t.exports={set:v,clear:w}},7740:function(t,e,i){var r=i(9502),n=Math.max,a=Math.min;t.exports=function(t,e){var i=r(t);return i<0?n(i+e,0):a(i,e)}},4088:function(t,e,i){var r=i(5974),n=i(9586);t.exports=function(t){return r(n(t))}},9502:function(t,e,i){var r=i(5681);t.exports=function(t){var e=+t;return e!=e||0===e?0:r(e)}},4005:function(t,e,i){var r=i(9502),n=Math.min;t.exports=function(t){return t>0?n(r(t),9007199254740991):0}},3060:function(t,e,i){var r=i(9586),n=Object;t.exports=function(t){return n(r(t))}},1288:function(t,e,i){var r=i(9413),n=i(8759),a=i(2071),o=i(2964),s=i(7999),c=i(211),l=TypeError,p=c("toPrimitive");t.exports=function(t,e){if(!n(t)||a(t))return t;var i,c=o(t,p);if(c){if(void 0===e&&(e="default"),i=r(c,t,e),!n(i)||a(i))return i;throw l("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},2258:function(t,e,i){var r=i(1288),n=i(2071);t.exports=function(t){var e=r(t,"string");return n(e)?e:e+""}},2371:function(t,e,i){var r={};r[i(211)("toStringTag")]="z",t.exports="[object z]"===String(r)},4059:function(t,e,i){var r=i(375),n=String;t.exports=function(t){if("Symbol"===r(t))throw TypeError("Cannot convert a Symbol value to a string");return n(t)}},9268:function(t){var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},5422:function(t,e,i){var r=i(8240),n=0,a=Math.random(),o=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+o(++n+a,36)}},1876:function(t,e,i){var r=i(3193);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8202:function(t,e,i){var r=i(5283),n=i(3677);t.exports=r&&n((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},1635:function(t){var e=TypeError;t.exports=function(t,i){if(t<i)throw e("Not enough arguments");return t}},211:function(t,e,i){var r=i(2086),n=i(9197),a=i(9606),o=i(5422),s=i(3193),c=i(1876),l=n("wks"),p=r.Symbol,u=p&&p.for,h=c?p:p&&p.withoutSetter||o;t.exports=function(t){if(!a(l,t)||!s&&"string"!=typeof l[t]){var e="Symbol."+t;s&&a(p,t)?l[t]=p[t]:l[t]=c&&u?u(e):h(e)}return l[t]}},1112:function(t,e,i){"use strict";var r=i(1695),n=i(5516),a=i(2130),o=i(7530),s=i(8474),c=i(4710),l=i(2585),p=i(5736),u=i(1765),h=i(8945),d=i(4722),g=i(1879),m=i(211),f=i(2114),b=m("toStringTag"),y=Error,v=[].push,w=function(t,e){var i,r=arguments.length>2?arguments[2]:void 0,s=n(_,this);o?i=o(new y,s?a(this):_):(i=s?this:c(_),l(i,b,"Error")),void 0!==e&&l(i,"message",g(e)),f&&l(i,"stack",u(i.stack,1)),h(i,r);var p=[];return d(t,v,{that:p}),l(i,"errors",p),i};o?o(w,y):s(w,y,{name:!0});var _=w.prototype=c(y.prototype,{constructor:p(1,w),message:p(1,""),name:p(1,"AggregateError")});r({global:!0,constructor:!0,arity:2},{AggregateError:w})},5234:function(t,e,i){i(1112)},5769:function(t,e,i){"use strict";var r=i(4088),n=i(8669),a=i(7719),o=i(3278),s=i(7826).f,c=i(8432),l=i(3296),p=i(5283),u="Array Iterator",h=o.set,d=o.getterFor(u);t.exports=c(Array,"Array",(function(t,e){h(this,{type:u,target:r(t),index:0,kind:e})}),(function(){var t=d(this),e=t.target,i=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:r,done:!1}:"values"==i?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");var g=a.Arguments=a.Array;if(n("keys"),n("values"),n("entries"),!l&&p&&"values"!==g.name)try{s(g,"name",{value:"values"})}catch(t){}},3238:function(t,e,i){var r=i(2371),n=i(1343),a=i(999);r||n(Object.prototype,"toString",a,{unsafe:!0})},2107:function(t,e,i){"use strict";var r=i(1695),n=i(9413),a=i(5089),o=i(8722),s=i(4522),c=i(4722);r({target:"Promise",stat:!0},{allSettled:function(t){var e=this,i=o.f(e),r=i.resolve,l=i.reject,p=s((function(){var i=a(e.resolve),o=[],s=0,l=1;c(t,(function(t){var a=s++,c=!1;l++,n(i,e,t).then((function(t){c||(c=!0,o[a]={status:"fulfilled",value:t},--l||r(o))}),(function(t){c||(c=!0,o[a]={status:"rejected",reason:t},--l||r(o))}))})),--l||r(o)}));return p.error&&l(p.value),i.promise}})},2238:function(t,e,i){"use strict";var r=i(1695),n=i(9413),a=i(5089),o=i(8722),s=i(4522),c=i(4722);r({target:"Promise",stat:!0,forced:i(2079)},{all:function(t){var e=this,i=o.f(e),r=i.resolve,l=i.reject,p=s((function(){var i=a(e.resolve),o=[],s=0,p=1;c(t,(function(t){var a=s++,c=!1;p++,n(i,e,t).then((function(t){c||(c=!0,o[a]=t,--p||r(o))}),l)})),--p||r(o)}));return p.error&&l(p.value),i.promise}})},3007:function(t,e,i){"use strict";var r=i(1695),n=i(9413),a=i(5089),o=i(563),s=i(8722),c=i(4522),l=i(4722),p="No one promise resolved";r({target:"Promise",stat:!0},{any:function(t){var e=this,i=o("AggregateError"),r=s.f(e),u=r.resolve,h=r.reject,d=c((function(){var r=a(e.resolve),o=[],s=0,c=1,d=!1;l(t,(function(t){var a=s++,l=!1;c++,n(r,e,t).then((function(t){l||d||(d=!0,u(t))}),(function(t){l||d||(l=!0,o[a]=t,--c||h(new i(o,p)))}))})),--c||h(new i(o,p))}));return d.error&&h(d.value),r.promise}})},3008:function(t,e,i){"use strict";var r=i(1695),n=i(3296),a=i(1360).CONSTRUCTOR,o=i(1237),s=i(563),c=i(930),l=i(1343),p=o&&o.prototype;if(r({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(t){return this.then(void 0,t)}}),!n&&c(o)){var u=s("Promise").prototype.catch;p.catch!==u&&l(p,"catch",u,{unsafe:!0})}},1559:function(t,e,i){"use strict";var r,n,a,o=i(1695),s=i(3296),c=i(1801),l=i(2086),p=i(9413),u=i(1343),h=i(7530),d=i(914),g=i(7420),m=i(5089),f=i(930),b=i(8759),y=i(1855),v=i(8515),w=i(4953).set,_=i(3173),C=i(1670),x=i(4522),k=i(7733),j=i(3278),I=i(1237),S=i(1360),P=i(8722),T="Promise",R=S.CONSTRUCTOR,M=S.REJECTION_EVENT,A=S.SUBCLASSING,E=j.getterFor(T),O=j.set,W=I&&I.prototype,D=I,N=W,U=l.TypeError,B=l.document,z=l.process,V=P.f,L=V,F=!!(B&&B.createEvent&&l.dispatchEvent),H="unhandledrejection",q=function(t){var e;return!(!b(t)||!f(e=t.then))&&e},Z=function(t,e){var i,r,n,a=e.value,o=1==e.state,s=o?t.ok:t.fail,c=t.resolve,l=t.reject,u=t.domain;try{s?(o||(2===e.rejection&&J(e),e.rejection=1),!0===s?i=a:(u&&u.enter(),i=s(a),u&&(u.exit(),n=!0)),i===t.promise?l(U("Promise-chain cycle")):(r=q(i))?p(r,i,c,l):c(i)):l(a)}catch(t){u&&!n&&u.exit(),l(t)}},$=function(t,e){t.notified||(t.notified=!0,_((function(){for(var i,r=t.reactions;i=r.get();)Z(i,t);t.notified=!1,e&&!t.rejection&&X(t)})))},Y=function(t,e,i){var r,n;F?((r=B.createEvent("Event")).promise=e,r.reason=i,r.initEvent(t,!1,!0),l.dispatchEvent(r)):r={promise:e,reason:i},!M&&(n=l["on"+t])?n(r):t===H&&C("Unhandled promise rejection",i)},X=function(t){p(w,l,(function(){var e,i=t.facade,r=t.value;if(G(t)&&(e=x((function(){c?z.emit("unhandledRejection",r,i):Y(H,i,r)})),t.rejection=c||G(t)?2:1,e.error))throw e.value}))},G=function(t){return 1!==t.rejection&&!t.parent},J=function(t){p(w,l,(function(){var e=t.facade;c?z.emit("rejectionHandled",e):Y("rejectionhandled",e,t.value)}))},K=function(t,e,i){return function(r){t(e,r,i)}},Q=function(t,e,i){t.done||(t.done=!0,i&&(t=i),t.value=e,t.state=2,$(t,!0))},tt=function(t,e,i){if(!t.done){t.done=!0,i&&(t=i);try{if(t.facade===e)throw U("Promise can't be resolved itself");var r=q(e);r?_((function(){var i={done:!1};try{p(r,e,K(tt,i,t),K(Q,i,t))}catch(e){Q(i,e,t)}})):(t.value=e,t.state=1,$(t,!1))}catch(e){Q({done:!1},e,t)}}};if(R&&(N=(D=function(t){y(this,N),m(t),p(r,this);var e=E(this);try{t(K(tt,e),K(Q,e))}catch(t){Q(e,t)}}).prototype,(r=function(t){O(this,{type:T,done:!1,notified:!1,parent:!1,reactions:new k,rejection:!1,state:0,value:void 0})}).prototype=u(N,"then",(function(t,e){var i=E(this),r=V(v(this,D));return i.parent=!0,r.ok=!f(t)||t,r.fail=f(e)&&e,r.domain=c?z.domain:void 0,0==i.state?i.reactions.add(r):_((function(){Z(r,i)})),r.promise})),n=function(){var t=new r,e=E(t);this.promise=t,this.resolve=K(tt,e),this.reject=K(Q,e)},P.f=V=function(t){return t===D||void 0===t?new n(t):L(t)},!s&&f(I)&&W!==Object.prototype)){a=W.then,A||u(W,"then",(function(t,e){var i=this;return new D((function(t,e){p(a,i,t,e)})).then(t,e)}),{unsafe:!0});try{delete W.constructor}catch(t){}h&&h(W,N)}o({global:!0,constructor:!0,wrap:!0,forced:R},{Promise:D}),d(D,T,!1,!0),g(T)},1370:function(t,e,i){"use strict";var r=i(1695),n=i(3296),a=i(1237),o=i(3677),s=i(563),c=i(930),l=i(8515),p=i(880),u=i(1343),h=a&&a.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!a&&o((function(){h.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=l(this,s("Promise")),i=c(t);return this.then(i?function(i){return p(e,t()).then((function(){return i}))}:t,i?function(i){return p(e,t()).then((function(){throw i}))}:t)}}),!n&&c(a)){var d=s("Promise").prototype.finally;h.finally!==d&&u(h,"finally",d,{unsafe:!0})}},1418:function(t,e,i){i(1559),i(2238),i(3008),i(4841),i(9117),i(2307)},4841:function(t,e,i){"use strict";var r=i(1695),n=i(9413),a=i(5089),o=i(8722),s=i(4522),c=i(4722);r({target:"Promise",stat:!0,forced:i(2079)},{race:function(t){var e=this,i=o.f(e),r=i.reject,l=s((function(){var o=a(e.resolve);c(t,(function(t){n(o,e,t).then(i.resolve,r)}))}));return l.error&&r(l.value),i.promise}})},9117:function(t,e,i){"use strict";var r=i(1695),n=i(9413),a=i(8722);r({target:"Promise",stat:!0,forced:i(1360).CONSTRUCTOR},{reject:function(t){var e=a.f(this);return n(e.reject,void 0,t),e.promise}})},2307:function(t,e,i){"use strict";var r=i(1695),n=i(563),a=i(3296),o=i(1237),s=i(1360).CONSTRUCTOR,c=i(880),l=n("Promise"),p=a&&!s;r({target:"Promise",stat:!0,forced:a||s},{resolve:function(t){return c(p&&this===l?o:this,t)}})},7460:function(t,e,i){"use strict";var r=i(3448).charAt,n=i(4059),a=i(3278),o=i(8432),s="String Iterator",c=a.set,l=a.getterFor(s);o(String,"String",(function(t){c(this,{type:s,string:n(t),index:0})}),(function(){var t,e=l(this),i=e.string,n=e.index;return n>=i.length?{value:void 0,done:!0}:(t=r(i,n),e.index+=t.length,{value:t,done:!1})}))},1936:function(t,e,i){i(5234)},1620:function(t,e,i){i(2107)},4688:function(t,e,i){i(3007)},5411:function(t,e,i){"use strict";var r=i(1695),n=i(8722),a=i(4522);r({target:"Promise",stat:!0,forced:!0},{try:function(t){var e=n.f(this),i=a(t);return(i.error?e.reject:e.resolve)(i.value),e.promise}})},4078:function(t,e,i){var r=i(2086),n=i(933),a=i(3526),o=i(5769),s=i(2585),c=i(211),l=c("iterator"),p=c("toStringTag"),u=o.values,h=function(t,e){if(t){if(t[l]!==u)try{s(t,l,u)}catch(e){t[l]=u}if(t[p]||s(t,p,e),n[e])for(var i in o)if(t[i]!==o[i])try{s(t,i,o[i])}catch(e){t[i]=o[i]}}};for(var d in n)h(r[d]&&r[d].prototype,d);h(a,"DOMTokenList")},6401:function(t,e,i){var r=i(7291);i(4078),t.exports=r},3537:function(t,e,i){"use strict";var r=i(4933),n=i.n(r),a=i(3476),o=i.n(a),s=i(1678),c=i.n(s),l=new URL(i(7697),i.b),p=o()(n()),u=c()(l);p.push([t.id,'#PureChatWidget.purechat .purechat-truncate{display:block !important;white-space:nowrap !important;overflow:hidden !important;text-overflow:ellipsis !important}.purechat a,.purechat abbr,.purechat address,.purechat area,.purechat article,.purechat aside,.purechat audio,.purechat b,.purechat base,.purechat bdi,.purechat bdo,.purechat blockquote,.purechat body,.purechat br,.purechat button,.purechat canvas,.purechat caption,.purechat cite,.purechat code,.purechat col,.purechat colgroup,.purechat command,.purechat datalist,.purechat dd,.purechat del,.purechat details,.purechat dfn,.purechat div,.purechat dl,.purechat dt,.purechat em,.purechat embed,.purechat fieldset,.purechat figcaption,.purechat figure,.purechat footer,.purechat form,.purechat h1,.purechat h2,.purechat h3,.purechat h4,.purechat h5,.purechat h6,.purechat head,.purechat header,.purechat hgroup,.purechat hr,.purechat i,.purechat iframe,.purechat img,.purechat input,.purechat ins,.purechat kbd,.purechat keygen,.purechat label,.purechat legend,.purechat li,.purechat link,.purechat map,.purechat mark,.purechat menu,.purechat meta,.purechat meter,.purechat nav,.purechat noscript,.purechat object,.purechat ol,.purechat optgroup,.purechat option,.purechat output,.purechat p,.purechat param,.purechat pre,.purechat progress,.purechat q,.purechat rp,.purechat rt,.purechat ruby,.purechat s,.purechat samp,.purechat section,.purechat select,.purechat small,.purechat source,.purechat span,.purechat strong,.purechat style,.purechat sub,.purechat summary,.purechat sup,.purechat table,.purechat tbody,.purechat td,.purechat textarea,.purechat tfoot,.purechat th,.purechat thead,.purechat time,.purechat title,.purechat tr,.purechat track,.purechat u,.purechat ul,.purechat var,.purechat video,.purechat wbr,.purechat a:before,.purechat abbr:before,.purechat address:before,.purechat area:before,.purechat article:before,.purechat aside:before,.purechat audio:before,.purechat b:before,.purechat base:before,.purechat bdi:before,.purechat bdo:before,.purechat blockquote:before,.purechat body:before,.purechat br:before,.purechat button:before,.purechat canvas:before,.purechat caption:before,.purechat cite:before,.purechat code:before,.purechat col:before,.purechat colgroup:before,.purechat command:before,.purechat datalist:before,.purechat dd:before,.purechat del:before,.purechat details:before,.purechat dfn:before,.purechat div:before,.purechat dl:before,.purechat dt:before,.purechat em:before,.purechat embed:before,.purechat fieldset:before,.purechat figcaption:before,.purechat figure:before,.purechat footer:before,.purechat form:before,.purechat h1:before,.purechat h2:before,.purechat h3:before,.purechat h4:before,.purechat h5:before,.purechat h6:before,.purechat head:before,.purechat header:before,.purechat hgroup:before,.purechat hr:before,.purechat i:before,.purechat iframe:before,.purechat img:before,.purechat input:before,.purechat ins:before,.purechat kbd:before,.purechat keygen:before,.purechat label:before,.purechat legend:before,.purechat li:before,.purechat link:before,.purechat map:before,.purechat mark:before,.purechat menu:before,.purechat meta:before,.purechat meter:before,.purechat nav:before,.purechat noscript:before,.purechat object:before,.purechat ol:before,.purechat optgroup:before,.purechat option:before,.purechat output:before,.purechat p:before,.purechat param:before,.purechat pre:before,.purechat progress:before,.purechat q:before,.purechat rp:before,.purechat rt:before,.purechat ruby:before,.purechat s:before,.purechat samp:before,.purechat section:before,.purechat select:before,.purechat small:before,.purechat source:before,.purechat span:before,.purechat strong:before,.purechat style:before,.purechat sub:before,.purechat summary:before,.purechat sup:before,.purechat table:before,.purechat tbody:before,.purechat td:before,.purechat textarea:before,.purechat tfoot:before,.purechat th:before,.purechat thead:before,.purechat time:before,.purechat title:before,.purechat tr:before,.purechat track:before,.purechat u:before,.purechat ul:before,.purechat var:before,.purechat video:before,.purechat wbr:before,.purechat a:after,.purechat abbr:after,.purechat address:after,.purechat area:after,.purechat article:after,.purechat aside:after,.purechat audio:after,.purechat b:after,.purechat base:after,.purechat bdi:after,.purechat bdo:after,.purechat blockquote:after,.purechat body:after,.purechat br:after,.purechat button:after,.purechat canvas:after,.purechat caption:after,.purechat cite:after,.purechat code:after,.purechat col:after,.purechat colgroup:after,.purechat command:after,.purechat datalist:after,.purechat dd:after,.purechat del:after,.purechat details:after,.purechat dfn:after,.purechat div:after,.purechat dl:after,.purechat dt:after,.purechat em:after,.purechat embed:after,.purechat fieldset:after,.purechat figcaption:after,.purechat figure:after,.purechat footer:after,.purechat form:after,.purechat h1:after,.purechat h2:after,.purechat h3:after,.purechat h4:after,.purechat h5:after,.purechat h6:after,.purechat head:after,.purechat header:after,.purechat hgroup:after,.purechat hr:after,.purechat i:after,.purechat iframe:after,.purechat img:after,.purechat input:after,.purechat ins:after,.purechat kbd:after,.purechat keygen:after,.purechat label:after,.purechat legend:after,.purechat li:after,.purechat link:after,.purechat map:after,.purechat mark:after,.purechat menu:after,.purechat meta:after,.purechat meter:after,.purechat nav:after,.purechat noscript:after,.purechat object:after,.purechat ol:after,.purechat optgroup:after,.purechat option:after,.purechat output:after,.purechat p:after,.purechat param:after,.purechat pre:after,.purechat progress:after,.purechat q:after,.purechat rp:after,.purechat rt:after,.purechat ruby:after,.purechat s:after,.purechat samp:after,.purechat section:after,.purechat select:after,.purechat small:after,.purechat source:after,.purechat span:after,.purechat strong:after,.purechat style:after,.purechat sub:after,.purechat summary:after,.purechat sup:after,.purechat table:after,.purechat tbody:after,.purechat td:after,.purechat textarea:after,.purechat tfoot:after,.purechat th:after,.purechat thead:after,.purechat time:after,.purechat title:after,.purechat tr:after,.purechat track:after,.purechat u:after,.purechat ul:after,.purechat var:after,.purechat video:after,.purechat wbr:after{alignment-baseline:auto !important;animation-delay:0s !important;animation-direction:normal !important;animation-duration:0s !important;animation-fill-mode:none !important;animation-iteration-count:1 !important;animation-name:none !important;animation-play-state:running !important;animation-timing-function:ease !important;background-attachment:scroll !important;background-blend-mode:normal !important;background-clip:border-box !important;background-color:rgba(0,0,0,0) !important;background-image:none !important;background-origin:padding-box !important;background-position-x:0% !important;background-position-y:0% !important;background-repeat-x:no-repeat !important;background-repeat-y:no-repeat !important;border-bottom-color:rgba(0,0,0,0) !important;border-bottom-left-radius:0 !important;border-bottom-right-radius:0 !important;border-bottom-style:none !important;border-bottom-width:0 !important;border-collapse:separate !important;border-left-color:rgba(0,0,0,0) !important;border-left-style:none !important;border-left-width:0 !important;border-right-color:rgba(0,0,0,0) !important;border-right-style:none !important;border-right-width:0 !important;border-top-color:rgba(0,0,0,0) !important;border-top-left-radius:0 !important;border-top-right-radius:0 !important;border-top-style:none !important;border-top-width:0 !important;bottom:auto !important;box-shadow:none !important;box-sizing:border-box !important;clear:none !important;color:#3b404c !important;cursor:default !important;display:block !important;fill:#000 !important;fill-opacity:1 !important;fill-rule:nonzero !important;filter:none !important;flex-basis:auto !important;flex-direction:row !important;flex-grow:0 !important;flex-shrink:1 !important;flex-wrap:nowrap !important;float:none !important;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif !important;font-size:14px !important;font-stretch:normal !important;font-style:normal !important;font-variant-caps:normal !important;font-weight:normal !important;height:auto !important;left:auto !important;letter-spacing:normal !important;line-height:1.2 !important;margin-bottom:0 !important;margin-left:0 !important;margin-right:0 !important;margin-top:0 !important;max-height:none !important;max-width:none !important;min-height:0 !important;min-width:0 !important;opacity:1 !important;outline-color:rgba(0,0,0,0) !important;outline-offset:0 !important;outline-style:none !important;outline-width:0 !important;overflow-anchor:auto !important;overflow-wrap:normal !important;overflow-x:visible !important;overflow-y:visible !important;padding-bottom:0 !important;padding-left:0 !important;padding-right:0 !important;padding-top:0 !important;position:static !important;right:auto !important;table-layout:auto !important;text-align:start !important;text-decoration-color:rgba(0,0,0,0) !important;text-decoration-line:none !important;text-decoration-skip:objects !important;text-decoration-style:solid !important;text-indent:0 !important;text-shadow:none !important;text-transform:none !important;top:auto !important;transform:none !important;-webkit-transition:none !important;transition-delay:0s !important;transition-duration:0s !important;transition-property:all !important;transition-timing-function:ease !important;vertical-align:baseline !important;visibility:visible !important;white-space:normal !important;width:auto !important;word-break:normal !important;word-spacing:0 !important;word-wrap:normal !important;z-index:auto !important;zoom:1 !important}.purechat a:before,.purechat abbr:before,.purechat address:before,.purechat area:before,.purechat article:before,.purechat aside:before,.purechat audio:before,.purechat b:before,.purechat base:before,.purechat bdi:before,.purechat bdo:before,.purechat blockquote:before,.purechat body:before,.purechat br:before,.purechat button:before,.purechat canvas:before,.purechat caption:before,.purechat cite:before,.purechat code:before,.purechat col:before,.purechat colgroup:before,.purechat command:before,.purechat datalist:before,.purechat dd:before,.purechat del:before,.purechat details:before,.purechat dfn:before,.purechat div:before,.purechat dl:before,.purechat dt:before,.purechat em:before,.purechat embed:before,.purechat fieldset:before,.purechat figcaption:before,.purechat figure:before,.purechat footer:before,.purechat form:before,.purechat h1:before,.purechat h2:before,.purechat h3:before,.purechat h4:before,.purechat h5:before,.purechat h6:before,.purechat head:before,.purechat header:before,.purechat hgroup:before,.purechat hr:before,.purechat i:before,.purechat iframe:before,.purechat img:before,.purechat input:before,.purechat ins:before,.purechat kbd:before,.purechat keygen:before,.purechat label:before,.purechat legend:before,.purechat li:before,.purechat link:before,.purechat map:before,.purechat mark:before,.purechat menu:before,.purechat meta:before,.purechat meter:before,.purechat nav:before,.purechat noscript:before,.purechat object:before,.purechat ol:before,.purechat optgroup:before,.purechat option:before,.purechat output:before,.purechat p:before,.purechat param:before,.purechat pre:before,.purechat progress:before,.purechat q:before,.purechat rp:before,.purechat rt:before,.purechat ruby:before,.purechat s:before,.purechat samp:before,.purechat section:before,.purechat select:before,.purechat small:before,.purechat source:before,.purechat span:before,.purechat strong:before,.purechat style:before,.purechat sub:before,.purechat summary:before,.purechat sup:before,.purechat table:before,.purechat tbody:before,.purechat td:before,.purechat textarea:before,.purechat tfoot:before,.purechat th:before,.purechat thead:before,.purechat time:before,.purechat title:before,.purechat tr:before,.purechat track:before,.purechat u:before,.purechat ul:before,.purechat var:before,.purechat video:before,.purechat wbr:before,.purechat a:after,.purechat abbr:after,.purechat address:after,.purechat area:after,.purechat article:after,.purechat aside:after,.purechat audio:after,.purechat b:after,.purechat base:after,.purechat bdi:after,.purechat bdo:after,.purechat blockquote:after,.purechat body:after,.purechat br:after,.purechat button:after,.purechat canvas:after,.purechat caption:after,.purechat cite:after,.purechat code:after,.purechat col:after,.purechat colgroup:after,.purechat command:after,.purechat datalist:after,.purechat dd:after,.purechat del:after,.purechat details:after,.purechat dfn:after,.purechat div:after,.purechat dl:after,.purechat dt:after,.purechat em:after,.purechat embed:after,.purechat fieldset:after,.purechat figcaption:after,.purechat figure:after,.purechat footer:after,.purechat form:after,.purechat h1:after,.purechat h2:after,.purechat h3:after,.purechat h4:after,.purechat h5:after,.purechat h6:after,.purechat head:after,.purechat header:after,.purechat hgroup:after,.purechat hr:after,.purechat i:after,.purechat iframe:after,.purechat img:after,.purechat input:after,.purechat ins:after,.purechat kbd:after,.purechat keygen:after,.purechat label:after,.purechat legend:after,.purechat li:after,.purechat link:after,.purechat map:after,.purechat mark:after,.purechat menu:after,.purechat meta:after,.purechat meter:after,.purechat nav:after,.purechat noscript:after,.purechat object:after,.purechat ol:after,.purechat optgroup:after,.purechat option:after,.purechat output:after,.purechat p:after,.purechat param:after,.purechat pre:after,.purechat progress:after,.purechat q:after,.purechat rp:after,.purechat rt:after,.purechat ruby:after,.purechat s:after,.purechat samp:after,.purechat section:after,.purechat select:after,.purechat small:after,.purechat source:after,.purechat span:after,.purechat strong:after,.purechat style:after,.purechat sub:after,.purechat summary:after,.purechat sup:after,.purechat table:after,.purechat tbody:after,.purechat td:after,.purechat textarea:after,.purechat tfoot:after,.purechat th:after,.purechat thead:after,.purechat time:after,.purechat title:after,.purechat tr:after,.purechat track:after,.purechat u:after,.purechat ul:after,.purechat var:after,.purechat video:after,.purechat wbr:after{box-sizing:border-box !important}.purechat ::-webkit-input-placeholder{color:#afaba3 !important}.purechat ::-moz-placeholder{color:#afaba3 !important;opacity:1 !important}.purechat :-ms-input-placeholder{color:#afaba3 !important}.purechat ::-ms-input-placeholder{color:#afaba3 !important}.purechat a{cursor:pointer !important}.purechat a,.purechat em,.purechat span,.purechat strong{display:inline !important}.purechat button,.purechat img{display:inline-block !important}#PureChatWidget.purechat.purechat-animate,#PureChatWidget.purechat .purechat-animate{animation-fill-mode:both !important;animation-duration:1s !important}#PureChatWidget.purechat.purechat-animate-somewhat-fast,#PureChatWidget.purechat .purechat-animate-somewhat-fast{animation-duration:.2s !important;animation-fill-mode:both !important;animation-timing-function:ease-in !important}#PureChatWidget.purechat.purechat-animate.purechat-animate-fast,#PureChatWidget.purechat .purechat-animate.purechat-animate-fast{animation-duration:.1s !important;animation-fill-mode:both !important;animation-timing-function:ease-in !important}#PureChatWidget.purechat.purechat-animate.purechat-animation-hinge{animation-duration:1s !important}#PureChatWidget.purechat.purechat-animate.purechat-animation-flip{backface-visibility:visible !important;animation-name:purechat-flip !important}#PureChatWidget.purechat.purechat-animation-flipInX{backface-visibility:visible !important;animation-name:purechat-flipInX !important}#PureChatWidget.purechat.purechat-animation-flipInY{backface-visibility:visible !important;animation-name:purechat-flipInY !important}#PureChatWidget.purechat.purechat-animation-fadeIn,#PureChatWidget.purechat .purechat-animation-fadeIn{animation-name:purechat-fadeIn !important}#PureChatWidget.purechat.purechat-animation-fadeInUp{animation-name:purechat-fadeInUp !important}#PureChatWidget.purechat.purechat-animation-fadeInDown{animation-name:purechat-fadeInDown !important}#PureChatWidget.purechat.purechat-animation-fadeInLeft{animation-name:purechat-fadeInLeft !important}#PureChatWidget.purechat.purechat-animation-fadeInRight{animation-name:purechat-fadeInRight !important}#PureChatWidget.purechat.purechat-animation-fadeInUpBig{animation-name:purechat-fadeInUpBig !important}#PureChatWidget.purechat.purechat-animation-fadeInDownBig{animation-name:purechat-fadeInDownBig !important}#PureChatWidget.purechat.purechat-animation-fadeInLeftBig{animation-name:purechat-fadeInLeftBig !important}#PureChatWidget.purechat.purechat-animation-fadeInRightBig{animation-name:purechat-fadeInRightBig !important}#PureChatWidget.purechat.purechat-animation-slideInDown{animation-name:purechat-slideInDown !important}#PureChatWidget.purechat.purechat-animation-slideInUp{animation-name:purechat-slideInUp !important}#PureChatWidget.purechat.purechat-animation-slideInLeft{animation-name:purechat-slideInLeft !important}#PureChatWidget.purechat.purechat-animation-slideInRight{animation-name:purechat-slideInRight !important}#PureChatWidget.purechat.purechat-animation-bounceIn{animation-name:purechat-bounceIn !important}#PureChatWidget.purechat.purechat-animation-bounceInUp{animation-name:purechat-bounceInUp !important}#PureChatWidget.purechat.purechat-animation-bounceInDown{animation-name:purechat-bounceInDown !important}#PureChatWidget.purechat.purechat-animation-bounceInLeft{animation-name:purechat-bounceInLeft !important}#PureChatWidget.purechat.purechat-animation-bounceInRight{animation-name:purechat-bounceInRight !important}#PureChatWidget.purechat.purechat-animation-slideInRight{animation-name:purechat-slideInRight !important}#PureChatWidget.purechat.purechat-animation-rotateIn{animation-name:purechat-rotateIn !important}#PureChatWidget.purechat.purechat-animation-rotateInUpLeft{animation-name:purechat-rotateInUpLeft !important}#PureChatWidget.purechat.purechat-animation-rotateInDownLeft{animation-name:purechat-rotateInDownLeft !important}#PureChatWidget.purechat.purechat-animation-rotateInUpRight{animation-name:purechat-rotateInUpRight !important}#PureChatWidget.purechat.purechat-animation-rotateInDownRight{animation-name:purechat-rotateInDownRight !important}#PureChatWidget.purechat.purechat-animation-lightSpeedIn{animation-name:lightSpeedIn !important;animation-timing-function:ease-out !important}#PureChatWidget.purechat.purechat-animation-rollIn{animation-name:purechat-rollIn !important}#PureChatWidget.purechat.purechat-animation-toast-x{opacity:0 !important;animation-duration:4s !important;animation-iteration-count:1 !important;animation-name:purechat-toastRight !important}#PureChatWidget.purechat .purechat-animation-toastUpDown{opacity:0 !important;animation-duration:4s !important;animation-iteration-count:1 !important;animation-name:purechat-toastUpDown !important}#PureChatWidget.purechat .purechat-animation-toastDownUp{opacity:0 !important;animation-duration:4s !important;animation-iteration-count:1 !important;animation-name:purechat-toastDownUp !important}#PureChatWidget.purechat.purechat-animation.purechat-animation-none{animation-fill-mode:both !important;animation-duration:.1s !important}#PureChatWidget.purechat.purechat-animation-none{animation-name:purechat-none !important}#PureChatWidget.purechat.purechat-animation-fadeOutDownSmall,#PureChatWidget.purechat .purechat-animation-fadeOutDownSmall{animation-name:purechat-fadeOutDownSmall !important}#PureChatWidget.purechat.purechat-animation-fadeOutUpSmall,#PureChatWidget.purechat .purechat-animation-fadeOutUpSmall{animation-name:purechat-fadeOutUpSmall !important}#PureChatWidget.purechat.purechat-animation-fadeInDownSmall,#PureChatWidget.purechat .purechat-animation-fadeInDownSmall{animation-name:purechat-fadeInDownSmall !important}#PureChatWidget.purechat.purechat-animation-fadeInUpSmall,#PureChatWidget.purechat .purechat-animation-fadeInUpSmall{animation-name:purechat-fadeInUpSmall !important}#PureChatWidget.purechat.purechat-animation-bounceUpSmall,#PureChatWidget.purechat .purechat-animation-bounceUpSmall{animation-name:purechat-bounceUpSmall !important}#PureChatWidget.purechat.purechat-animation-bounceDownSmall,#PureChatWidget.purechat .purechat-animation-bounceDownSmall{animation-name:purechat-bounceDownSmall !important}#PureChatWidget.purechat .purechat-animate-spin,#PureChatWidget.purechat.purechat-animate-spin{animation-name:purechat-spin !important;animation-iteration-count:infinite !important;animation-duration:3s !important}@-moz-keyframes purechat-spin{from{transform:rotate(0deg) !important}to{transform:rotate(360deg) !important}}@-webkit-keyframes purechat-spin{from{transform:rotate(0deg) !important}to{transform:rotate(360deg) !important}}@-o-keyframes purechat-spin{from{transform:rotate(0deg) !important}to{transform:rotate(360deg) !important}}@keyframes purechat-spin{from{transform:rotate(0deg) !important}to{transform:rotate(360deg) !important}}@-moz-keyframes purechat-flip{0%{transform:perspective(400px) translateZ(0) rotateY(0) scale(1);animation-timing-function:ease-out}40%{transform:perspective(400px) translateZ(150px) rotateY(170deg) scale(1);animation-timing-function:ease-out}50%{transform:perspective(400px) translateZ(150px) rotateY(190deg) scale(1);animation-timing-function:ease-in}80%{transform:perspective(400px) translateZ(0) rotateY(360deg) scale(.95);animation-timing-function:ease-in}100%{transform:perspective(400px) translateZ(0) rotateY(360deg) scale(1);animation-timing-function:ease-in}}@-webkit-keyframes purechat-flip{0%{transform:perspective(400px) translateZ(0) rotateY(0) scale(1);animation-timing-function:ease-out}40%{transform:perspective(400px) translateZ(150px) rotateY(170deg) scale(1);animation-timing-function:ease-out}50%{transform:perspective(400px) translateZ(150px) rotateY(190deg) scale(1);animation-timing-function:ease-in}80%{transform:perspective(400px) translateZ(0) rotateY(360deg) scale(.95);animation-timing-function:ease-in}100%{transform:perspective(400px) translateZ(0) rotateY(360deg) scale(1);animation-timing-function:ease-in}}@-o-keyframes purechat-flip{0%{transform:perspective(400px) translateZ(0) rotateY(0) scale(1);animation-timing-function:ease-out}40%{transform:perspective(400px) translateZ(150px) rotateY(170deg) scale(1);animation-timing-function:ease-out}50%{transform:perspective(400px) translateZ(150px) rotateY(190deg) scale(1);animation-timing-function:ease-in}80%{transform:perspective(400px) translateZ(0) rotateY(360deg) scale(.95);animation-timing-function:ease-in}100%{transform:perspective(400px) translateZ(0) rotateY(360deg) scale(1);animation-timing-function:ease-in}}@keyframes purechat-flip{0%{transform:perspective(400px) translateZ(0) rotateY(0) scale(1);animation-timing-function:ease-out}40%{transform:perspective(400px) translateZ(150px) rotateY(170deg) scale(1);animation-timing-function:ease-out}50%{transform:perspective(400px) translateZ(150px) rotateY(190deg) scale(1);animation-timing-function:ease-in}80%{transform:perspective(400px) translateZ(0) rotateY(360deg) scale(.95);animation-timing-function:ease-in}100%{transform:perspective(400px) translateZ(0) rotateY(360deg) scale(1);animation-timing-function:ease-in}}@-moz-keyframes purechat-bounceInDown{0%{opacity:0;transform:translateY(-2000px)}60%{opacity:1;transform:translateY(30px)}80%{transform:translateY(-10px)}100%{transform:translateY(0)}}@-webkit-keyframes purechat-bounceInDown{0%{opacity:0;transform:translateY(-2000px)}60%{opacity:1;transform:translateY(30px)}80%{transform:translateY(-10px)}100%{transform:translateY(0)}}@-o-keyframes purechat-bounceInDown{0%{opacity:0;transform:translateY(-2000px)}60%{opacity:1;transform:translateY(30px)}80%{transform:translateY(-10px)}100%{transform:translateY(0)}}@keyframes purechat-bounceInDown{0%{opacity:0;transform:translateY(-2000px)}60%{opacity:1;transform:translateY(30px)}80%{transform:translateY(-10px)}100%{transform:translateY(0)}}@-moz-keyframes purechat-bounceInLeft{0%{opacity:0;transform:translateX(2000px)}60%{opacity:1;transform:translateX(-30px)}80%{transform:translateX(10px)}100%{transform:translateX(0)}}@-webkit-keyframes purechat-bounceInLeft{0%{opacity:0;transform:translateX(2000px)}60%{opacity:1;transform:translateX(-30px)}80%{transform:translateX(10px)}100%{transform:translateX(0)}}@-o-keyframes purechat-bounceInLeft{0%{opacity:0;transform:translateX(2000px)}60%{opacity:1;transform:translateX(-30px)}80%{transform:translateX(10px)}100%{transform:translateX(0)}}@keyframes purechat-bounceInLeft{0%{opacity:0;transform:translateX(2000px)}60%{opacity:1;transform:translateX(-30px)}80%{transform:translateX(10px)}100%{transform:translateX(0)}}@-moz-keyframes purechat-bounceInRight{0%{opacity:0;transform:translateX(-2000px)}60%{opacity:1;transform:translateX(30px)}80%{transform:translateX(-10px)}100%{transform:translateX(0)}}@-webkit-keyframes purechat-bounceInRight{0%{opacity:0;transform:translateX(-2000px)}60%{opacity:1;transform:translateX(30px)}80%{transform:translateX(-10px)}100%{transform:translateX(0)}}@-o-keyframes purechat-bounceInRight{0%{opacity:0;transform:translateX(-2000px)}60%{opacity:1;transform:translateX(30px)}80%{transform:translateX(-10px)}100%{transform:translateX(0)}}@keyframes purechat-bounceInRight{0%{opacity:0;transform:translateX(-2000px)}60%{opacity:1;transform:translateX(30px)}80%{transform:translateX(-10px)}100%{transform:translateX(0)}}@-moz-keyframes purechat-rotateIn{0%{transform-origin:center center;transform:rotate(-200deg);opacity:0}100%{transform-origin:center center;transform:rotate(0);opacity:1}}@-webkit-keyframes purechat-rotateIn{0%{transform-origin:center center;transform:rotate(-200deg);opacity:0}100%{transform-origin:center center;transform:rotate(0);opacity:1}}@-o-keyframes purechat-rotateIn{0%{transform-origin:center center;transform:rotate(-200deg);opacity:0}100%{transform-origin:center center;transform:rotate(0);opacity:1}}@keyframes purechat-rotateIn{0%{transform-origin:center center;transform:rotate(-200deg);opacity:0}100%{transform-origin:center center;transform:rotate(0);opacity:1}}@-moz-keyframes purechat-rotateInUpLeft{0%{transform-origin:left bottom;transform:rotate(90deg);opacity:0}100%{transform-origin:left bottom;transform:rotate(0);opacity:1}}@-webkit-keyframes purechat-rotateInUpLeft{0%{transform-origin:left bottom;transform:rotate(90deg);opacity:0}100%{transform-origin:left bottom;transform:rotate(0);opacity:1}}@-o-keyframes purechat-rotateInUpLeft{0%{transform-origin:left bottom;transform:rotate(90deg);opacity:0}100%{transform-origin:left bottom;transform:rotate(0);opacity:1}}@keyframes purechat-rotateInUpLeft{0%{transform-origin:left bottom;transform:rotate(90deg);opacity:0}100%{transform-origin:left bottom;transform:rotate(0);opacity:1}}@-moz-keyframes purechat-rotateInDownLeft{0%{transform-origin:left bottom;transform:rotate(-90deg);opacity:0}100%{transform-origin:left bottom;transform:rotate(0);opacity:1}}@-webkit-keyframes purechat-rotateInDownLeft{0%{transform-origin:left bottom;transform:rotate(-90deg);opacity:0}100%{transform-origin:left bottom;transform:rotate(0);opacity:1}}@-o-keyframes purechat-rotateInDownLeft{0%{transform-origin:left bottom;transform:rotate(-90deg);opacity:0}100%{transform-origin:left bottom;transform:rotate(0);opacity:1}}@keyframes purechat-rotateInDownLeft{0%{transform-origin:left bottom;transform:rotate(-90deg);opacity:0}100%{transform-origin:left bottom;transform:rotate(0);opacity:1}}@-moz-keyframes purechat-rotateInUpRight{0%{transform-origin:right bottom;transform:rotate(-90deg);opacity:0}100%{transform-origin:right bottom;transform:rotate(0);opacity:1}}@-webkit-keyframes purechat-rotateInUpRight{0%{transform-origin:right bottom;transform:rotate(-90deg);opacity:0}100%{transform-origin:right bottom;transform:rotate(0);opacity:1}}@-o-keyframes purechat-rotateInUpRight{0%{transform-origin:right bottom;transform:rotate(-90deg);opacity:0}100%{transform-origin:right bottom;transform:rotate(0);opacity:1}}@keyframes purechat-rotateInUpRight{0%{transform-origin:right bottom;transform:rotate(-90deg);opacity:0}100%{transform-origin:right bottom;transform:rotate(0);opacity:1}}@-moz-keyframes purechat-rotateInDownRight{0%{transform-origin:right bottom;transform:rotate(90deg);opacity:0}100%{transform-origin:right bottom;transform:rotate(0);opacity:1}}@-webkit-keyframes purechat-rotateInDownRight{0%{transform-origin:right bottom;transform:rotate(90deg);opacity:0}100%{transform-origin:right bottom;transform:rotate(0);opacity:1}}@-o-keyframes purechat-rotateInDownRight{0%{transform-origin:right bottom;transform:rotate(90deg);opacity:0}100%{transform-origin:right bottom;transform:rotate(0);opacity:1}}@keyframes purechat-rotateInDownRight{0%{transform-origin:right bottom;transform:rotate(90deg);opacity:0}100%{transform-origin:right bottom;transform:rotate(0);opacity:1}}@-moz-keyframes purechat-lightSpeedIn{0%{transform:translateX(100%) skewX(-30deg);opacity:0}60%{transform:translateX(-20%) skewX(30deg);opacity:1}80%{transform:translateX(0%) skewX(-15deg);opacity:1}100%{transform:translateX(0%) skewX(0deg);opacity:1}}@-webkit-keyframes purechat-lightSpeedIn{0%{transform:translateX(100%) skewX(-30deg);opacity:0}60%{transform:translateX(-20%) skewX(30deg);opacity:1}80%{transform:translateX(0%) skewX(-15deg);opacity:1}100%{transform:translateX(0%) skewX(0deg);opacity:1}}@-o-keyframes purechat-lightSpeedIn{0%{transform:translateX(100%) skewX(-30deg);opacity:0}60%{transform:translateX(-20%) skewX(30deg);opacity:1}80%{transform:translateX(0%) skewX(-15deg);opacity:1}100%{transform:translateX(0%) skewX(0deg);opacity:1}}@keyframes purechat-lightSpeedIn{0%{transform:translateX(100%) skewX(-30deg);opacity:0}60%{transform:translateX(-20%) skewX(30deg);opacity:1}80%{transform:translateX(0%) skewX(-15deg);opacity:1}100%{transform:translateX(0%) skewX(0deg);opacity:1}}@-moz-keyframes purechat-rollIn{0%{opacity:0;transform:translateX(-100%) rotate(-120deg)}100%{opacity:1;transform:translateX(0) rotate(0deg)}}@-webkit-keyframes purechat-rollIn{0%{opacity:0;transform:translateX(-100%) rotate(-120deg)}100%{opacity:1;transform:translateX(0) rotate(0deg)}}@-o-keyframes purechat-rollIn{0%{opacity:0;transform:translateX(-100%) rotate(-120deg)}100%{opacity:1;transform:translateX(0) rotate(0deg)}}@keyframes purechat-rollIn{0%{opacity:0;transform:translateX(-100%) rotate(-120deg)}100%{opacity:1;transform:translateX(0) rotate(0deg)}}@-moz-keyframes purechat-toastRight{0%{opacity:0;transform:translateX(2000px)}5%{opacity:1;transform:translateX(0)}6%{transform:translateX(7px)}7%{transform:translateX(0)}95%{opacity:1;transform:translateX(0)}100%{opacity:0;transform:translateX(2000px)}}@-webkit-keyframes purechat-toastRight{0%{opacity:0;transform:translateX(2000px)}5%{opacity:1;transform:translateX(0)}6%{transform:translateX(7px)}7%{transform:translateX(0)}95%{opacity:1;transform:translateX(0)}100%{opacity:0;transform:translateX(2000px)}}@-o-keyframes purechat-toastRight{0%{opacity:0;transform:translateX(2000px)}5%{opacity:1;transform:translateX(0)}6%{transform:translateX(7px)}7%{transform:translateX(0)}95%{opacity:1;transform:translateX(0)}100%{opacity:0;transform:translateX(2000px)}}@keyframes purechat-toastRight{0%{opacity:0;transform:translateX(2000px)}5%{opacity:1;transform:translateX(0)}6%{transform:translateX(7px)}7%{transform:translateX(0)}95%{opacity:1;transform:translateX(0)}100%{opacity:0;transform:translateX(2000px)}}@-moz-keyframes purechat-toastUpDown{0%{opacity:0;transform:translateY(10px)}5%{opacity:1;transform:translateY(0)}95%{opacity:1;transform:translateY(0)}100%{opacity:0;transform:translateY(10px)}}@-webkit-keyframes purechat-toastUpDown{0%{opacity:0;transform:translateY(10px)}5%{opacity:1;transform:translateY(0)}95%{opacity:1;transform:translateY(0)}100%{opacity:0;transform:translateY(10px)}}@-o-keyframes purechat-toastUpDown{0%{opacity:0;transform:translateY(10px)}5%{opacity:1;transform:translateY(0)}95%{opacity:1;transform:translateY(0)}100%{opacity:0;transform:translateY(10px)}}@keyframes purechat-toastUpDown{0%{opacity:0;transform:translateY(10px)}5%{opacity:1;transform:translateY(0)}95%{opacity:1;transform:translateY(0)}100%{opacity:0;transform:translateY(10px)}}@-moz-keyframes purechat-toastDownUp{0%{opacity:0;transform:translateY(0)}5%{opacity:1;transform:translateY(10px)}95%{opacity:1;transform:translateY(10px)}100%{opacity:0;transform:translateY(0)}}@-webkit-keyframes purechat-toastDownUp{0%{opacity:0;transform:translateY(0)}5%{opacity:1;transform:translateY(10px)}95%{opacity:1;transform:translateY(10px)}100%{opacity:0;transform:translateY(0)}}@-o-keyframes purechat-toastDownUp{0%{opacity:0;transform:translateY(0)}5%{opacity:1;transform:translateY(10px)}95%{opacity:1;transform:translateY(10px)}100%{opacity:0;transform:translateY(0)}}@keyframes purechat-toastDownUp{0%{opacity:0;transform:translateY(0)}5%{opacity:1;transform:translateY(10px)}95%{opacity:1;transform:translateY(10px)}100%{opacity:0;transform:translateY(0)}}@-moz-keyframes purechat-none{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes purechat-none{0%{opacity:0}100%{opacity:1}}@-o-keyframes purechat-none{0%{opacity:0}100%{opacity:1}}@keyframes purechat-none{0%{opacity:0}100%{opacity:1}}@-moz-keyframes purechat-flipInX{0%{transform:perspective(400px) rotateX(90deg);opacity:0}40%{transform:perspective(400px) rotateX(-10deg)}70%{transform:perspective(400px) rotateX(10deg)}100%{transform:perspective(400px) rotateX(0deg);opacity:1}}@-webkit-keyframes purechat-flipInX{0%{transform:perspective(400px) rotateX(90deg);opacity:0}40%{transform:perspective(400px) rotateX(-10deg)}70%{transform:perspective(400px) rotateX(10deg)}100%{transform:perspective(400px) rotateX(0deg);opacity:1}}@-o-keyframes purechat-flipInX{0%{transform:perspective(400px) rotateX(90deg);opacity:0}40%{transform:perspective(400px) rotateX(-10deg)}70%{transform:perspective(400px) rotateX(10deg)}100%{transform:perspective(400px) rotateX(0deg);opacity:1}}@keyframes purechat-flipInX{0%{transform:perspective(400px) rotateX(90deg);opacity:0}40%{transform:perspective(400px) rotateX(-10deg)}70%{transform:perspective(400px) rotateX(10deg)}100%{transform:perspective(400px) rotateX(0deg);opacity:1}}@-moz-keyframes purechat-flipInY{0%{transform:perspective(400px) rotateY(90deg);opacity:0}40%{transform:perspective(400px) rotateY(-10deg)}70%{transform:perspective(400px) rotateY(10deg)}100%{transform:perspective(400px) rotateY(0deg);opacity:1}}@-webkit-keyframes purechat-flipInY{0%{transform:perspective(400px) rotateY(90deg);opacity:0}40%{transform:perspective(400px) rotateY(-10deg)}70%{transform:perspective(400px) rotateY(10deg)}100%{transform:perspective(400px) rotateY(0deg);opacity:1}}@-o-keyframes purechat-flipInY{0%{transform:perspective(400px) rotateY(90deg);opacity:0}40%{transform:perspective(400px) rotateY(-10deg)}70%{transform:perspective(400px) rotateY(10deg)}100%{transform:perspective(400px) rotateY(0deg);opacity:1}}@keyframes purechat-flipInY{0%{transform:perspective(400px) rotateY(90deg);opacity:0}40%{transform:perspective(400px) rotateY(-10deg)}70%{transform:perspective(400px) rotateY(10deg)}100%{transform:perspective(400px) rotateY(0deg);opacity:1}}@-moz-keyframes purechat-fadeIn{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes purechat-fadeIn{0%{opacity:0}100%{opacity:1}}@-o-keyframes purechat-fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes purechat-fadeIn{0%{opacity:0}100%{opacity:1}}@-moz-keyframes purechat-fadeInUp{0%{opacity:0;transform:translateY(20px)}100%{opacity:1;transform:translateY(0)}}@-webkit-keyframes purechat-fadeInUp{0%{opacity:0;transform:translateY(20px)}100%{opacity:1;transform:translateY(0)}}@-o-keyframes purechat-fadeInUp{0%{opacity:0;transform:translateY(20px)}100%{opacity:1;transform:translateY(0)}}@keyframes purechat-fadeInUp{0%{opacity:0;transform:translateY(20px)}100%{opacity:1;transform:translateY(0)}}@-moz-keyframes purechat-fadeInDown{0%{opacity:0;transform:translateY(-20px)}100%{opacity:1;transform:translateY(0)}}@-webkit-keyframes purechat-fadeInDown{0%{opacity:0;transform:translateY(-20px)}100%{opacity:1;transform:translateY(0)}}@-o-keyframes purechat-fadeInDown{0%{opacity:0;transform:translateY(-20px)}100%{opacity:1;transform:translateY(0)}}@keyframes purechat-fadeInDown{0%{opacity:0;transform:translateY(-20px)}100%{opacity:1;transform:translateY(0)}}@-moz-keyframes purechat-fadeInLeft{0%{opacity:0;transform:translateX(20px)}100%{opacity:1;transform:translateX(0)}}@-webkit-keyframes purechat-fadeInLeft{0%{opacity:0;transform:translateX(20px)}100%{opacity:1;transform:translateX(0)}}@-o-keyframes purechat-fadeInLeft{0%{opacity:0;transform:translateX(20px)}100%{opacity:1;transform:translateX(0)}}@keyframes purechat-fadeInLeft{0%{opacity:0;transform:translateX(20px)}100%{opacity:1;transform:translateX(0)}}@-moz-keyframes purechat-fadeInRight{0%{opacity:0;transform:translateX(-20px)}100%{opacity:1;transform:translateX(0)}}@-webkit-keyframes purechat-fadeInRight{0%{opacity:0;transform:translateX(-20px)}100%{opacity:1;transform:translateX(0)}}@-o-keyframes purechat-fadeInRight{0%{opacity:0;transform:translateX(-20px)}100%{opacity:1;transform:translateX(0)}}@keyframes purechat-fadeInRight{0%{opacity:0;transform:translateX(-20px)}100%{opacity:1;transform:translateX(0)}}@-moz-keyframes purechat-fadeInUpBig{0%{opacity:0;transform:translateY(100vh)}100%{opacity:1;transform:translateY(0)}}@-webkit-keyframes purechat-fadeInUpBig{0%{opacity:0;transform:translateY(100vh)}100%{opacity:1;transform:translateY(0)}}@-o-keyframes purechat-fadeInUpBig{0%{opacity:0;transform:translateY(100vh)}100%{opacity:1;transform:translateY(0)}}@keyframes purechat-fadeInUpBig{0%{opacity:0;transform:translateY(100vh)}100%{opacity:1;transform:translateY(0)}}@-moz-keyframes purechat-fadeInDownBig{0%{opacity:0;transform:translateY(-100vh)}100%{opacity:1;transform:translateY(0)}}@-webkit-keyframes purechat-fadeInDownBig{0%{opacity:0;transform:translateY(-100vh)}100%{opacity:1;transform:translateY(0)}}@-o-keyframes purechat-fadeInDownBig{0%{opacity:0;transform:translateY(-100vh)}100%{opacity:1;transform:translateY(0)}}@keyframes purechat-fadeInDownBig{0%{opacity:0;transform:translateY(-100vh)}100%{opacity:1;transform:translateY(0)}}@-moz-keyframes purechat-fadeInLeftBig{0%{opacity:0;transform:translateX(100vw)}100%{opacity:1;transform:translateX(0)}}@-webkit-keyframes purechat-fadeInLeftBig{0%{opacity:0;transform:translateX(100vw)}100%{opacity:1;transform:translateX(0)}}@-o-keyframes purechat-fadeInLeftBig{0%{opacity:0;transform:translateX(100vw)}100%{opacity:1;transform:translateX(0)}}@keyframes purechat-fadeInLeftBig{0%{opacity:0;transform:translateX(100vw)}100%{opacity:1;transform:translateX(0)}}@-moz-keyframes purechat-fadeInRightBig{0%{opacity:0;transform:translateX(-100vw)}100%{opacity:1;transform:translateX(0)}}@-webkit-keyframes purechat-fadeInRightBig{0%{opacity:0;transform:translateX(-100vw)}100%{opacity:1;transform:translateX(0)}}@-o-keyframes purechat-fadeInRightBig{0%{opacity:0;transform:translateX(-100vw)}100%{opacity:1;transform:translateX(0)}}@keyframes purechat-fadeInRightBig{0%{opacity:0;transform:translateX(-100vw)}100%{opacity:1;transform:translateX(0)}}@-moz-keyframes purechat-slideInDown{0%{opacity:0;transform:translateY(-2000px)}100%{transform:translateY(0)}}@-webkit-keyframes purechat-slideInDown{0%{opacity:0;transform:translateY(-2000px)}100%{transform:translateY(0)}}@-o-keyframes purechat-slideInDown{0%{opacity:0;transform:translateY(-2000px)}100%{transform:translateY(0)}}@keyframes purechat-slideInDown{0%{opacity:0;transform:translateY(-2000px)}100%{transform:translateY(0)}}@-moz-keyframes purechat-slideInUp{0%{opacity:0;transform:translateY(2000px)}100%{transform:translateY(0)}}@-webkit-keyframes purechat-slideInUp{0%{opacity:0;transform:translateY(2000px)}100%{transform:translateY(0)}}@-o-keyframes purechat-slideInUp{0%{opacity:0;transform:translateY(2000px)}100%{transform:translateY(0)}}@keyframes purechat-slideInUp{0%{opacity:0;transform:translateY(2000px)}100%{transform:translateY(0)}}@-moz-keyframes purechat-slideInLeft{0%{opacity:0;transform:translateX(2000px)}100%{transform:translateX(0)}}@-webkit-keyframes purechat-slideInLeft{0%{opacity:0;transform:translateX(2000px)}100%{transform:translateX(0)}}@-o-keyframes purechat-slideInLeft{0%{opacity:0;transform:translateX(2000px)}100%{transform:translateX(0)}}@keyframes purechat-slideInLeft{0%{opacity:0;transform:translateX(2000px)}100%{transform:translateX(0)}}@-moz-keyframes purechat-slideInRight{0%{opacity:0;transform:translateX(-2000px)}100%{transform:translateX(0)}}@-webkit-keyframes purechat-slideInRight{0%{opacity:0;transform:translateX(-2000px)}100%{transform:translateX(0)}}@-o-keyframes purechat-slideInRight{0%{opacity:0;transform:translateX(-2000px)}100%{transform:translateX(0)}}@keyframes purechat-slideInRight{0%{opacity:0;transform:translateX(-2000px)}100%{transform:translateX(0)}}@-moz-keyframes purechat-bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}@-webkit-keyframes purechat-bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}@-o-keyframes purechat-bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}@keyframes purechat-bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}@-moz-keyframes purechat-bounceInUp{0%{opacity:0;transform:translateY(2000px)}60%{opacity:1;transform:translateY(-30px)}80%{transform:translateY(10px)}100%{transform:translateY(0)}}@-webkit-keyframes purechat-bounceInUp{0%{opacity:0;transform:translateY(2000px)}60%{opacity:1;transform:translateY(-30px)}80%{transform:translateY(10px)}100%{transform:translateY(0)}}@-o-keyframes purechat-bounceInUp{0%{opacity:0;transform:translateY(2000px)}60%{opacity:1;transform:translateY(-30px)}80%{transform:translateY(10px)}100%{transform:translateY(0)}}@keyframes purechat-bounceInUp{0%{opacity:0;transform:translateY(2000px)}60%{opacity:1;transform:translateY(-30px)}80%{transform:translateY(10px)}100%{transform:translateY(0)}}@-moz-keyframes purechat-bounceInDown{0%{opacity:0;transform:translateY(-2000px)}60%{opacity:1;transform:translateY(30px)}80%{transform:translateY(-10px)}100%{transform:translateY(0)}}@-webkit-keyframes purechat-bounceInDown{0%{opacity:0;transform:translateY(-2000px)}60%{opacity:1;transform:translateY(30px)}80%{transform:translateY(-10px)}100%{transform:translateY(0)}}@-o-keyframes purechat-bounceInDown{0%{opacity:0;transform:translateY(-2000px)}60%{opacity:1;transform:translateY(30px)}80%{transform:translateY(-10px)}100%{transform:translateY(0)}}@keyframes purechat-bounceInDown{0%{opacity:0;transform:translateY(-2000px)}60%{opacity:1;transform:translateY(30px)}80%{transform:translateY(-10px)}100%{transform:translateY(0)}}@-moz-keyframes purechat-bounceInLeft{0%{opacity:0;transform:translateX(2000px)}60%{opacity:1;transform:translateX(-30px)}80%{transform:translateX(10px)}100%{transform:translateX(0)}}@-webkit-keyframes purechat-bounceInLeft{0%{opacity:0;transform:translateX(2000px)}60%{opacity:1;transform:translateX(-30px)}80%{transform:translateX(10px)}100%{transform:translateX(0)}}@-o-keyframes purechat-bounceInLeft{0%{opacity:0;transform:translateX(2000px)}60%{opacity:1;transform:translateX(-30px)}80%{transform:translateX(10px)}100%{transform:translateX(0)}}@keyframes purechat-bounceInLeft{0%{opacity:0;transform:translateX(2000px)}60%{opacity:1;transform:translateX(-30px)}80%{transform:translateX(10px)}100%{transform:translateX(0)}}@-moz-keyframes purechat-bounceInRight{0%{opacity:0;transform:translateX(-2000px)}60%{opacity:1;transform:translateX(30px)}80%{transform:translateX(-10px)}100%{transform:translateX(0)}}@-webkit-keyframes purechat-bounceInRight{0%{opacity:0;transform:translateX(-2000px)}60%{opacity:1;transform:translateX(30px)}80%{transform:translateX(-10px)}100%{transform:translateX(0)}}@-o-keyframes purechat-bounceInRight{0%{opacity:0;transform:translateX(-2000px)}60%{opacity:1;transform:translateX(30px)}80%{transform:translateX(-10px)}100%{transform:translateX(0)}}@keyframes purechat-bounceInRight{0%{opacity:0;transform:translateX(-2000px)}60%{opacity:1;transform:translateX(30px)}80%{transform:translateX(-10px)}100%{transform:translateX(0)}}@-moz-keyframes purechat-rotateIn{0%{transform-origin:center center;transform:rotate(-200deg);opacity:0}100%{transform-origin:center center;transform:rotate(0);opacity:1}}@-webkit-keyframes purechat-rotateIn{0%{transform-origin:center center;transform:rotate(-200deg);opacity:0}100%{transform-origin:center center;transform:rotate(0);opacity:1}}@-o-keyframes purechat-rotateIn{0%{transform-origin:center center;transform:rotate(-200deg);opacity:0}100%{transform-origin:center center;transform:rotate(0);opacity:1}}@keyframes purechat-rotateIn{0%{transform-origin:center center;transform:rotate(-200deg);opacity:0}100%{transform-origin:center center;transform:rotate(0);opacity:1}}@-moz-keyframes purechat-rotateInUpLeft{0%{transform-origin:left bottom;transform:rotate(90deg);opacity:0}100%{transform-origin:left bottom;transform:rotate(0);opacity:1}}@-webkit-keyframes purechat-rotateInUpLeft{0%{transform-origin:left bottom;transform:rotate(90deg);opacity:0}100%{transform-origin:left bottom;transform:rotate(0);opacity:1}}@-o-keyframes purechat-rotateInUpLeft{0%{transform-origin:left bottom;transform:rotate(90deg);opacity:0}100%{transform-origin:left bottom;transform:rotate(0);opacity:1}}@keyframes purechat-rotateInUpLeft{0%{transform-origin:left bottom;transform:rotate(90deg);opacity:0}100%{transform-origin:left bottom;transform:rotate(0);opacity:1}}@-moz-keyframes purechat-bounceUpSmall{50%{opacity:1;transform:translateY(-5px)}100%{transform:translateY(0)}}@-webkit-keyframes purechat-bounceUpSmall{50%{opacity:1;transform:translateY(-5px)}100%{transform:translateY(0)}}@-o-keyframes purechat-bounceUpSmall{50%{opacity:1;transform:translateY(-5px)}100%{transform:translateY(0)}}@keyframes purechat-bounceUpSmall{50%{opacity:1;transform:translateY(-5px)}100%{transform:translateY(0)}}@-moz-keyframes purechat-bounceDownSmall{50%{transform:translateY(5px)}100%{transform:translateY(0)}}@-webkit-keyframes purechat-bounceDownSmall{50%{transform:translateY(5px)}100%{transform:translateY(0)}}@-o-keyframes purechat-bounceDownSmall{50%{transform:translateY(5px)}100%{transform:translateY(0)}}@keyframes purechat-bounceDownSmall{50%{transform:translateY(5px)}100%{transform:translateY(0)}}@-moz-keyframes purechat-fadeInDownSmall{0%{opacity:0;transform:translateY(10px)}100%{opacity:1;transform:translateY(0)}}@-webkit-keyframes purechat-fadeInDownSmall{0%{opacity:0;transform:translateY(10px)}100%{opacity:1;transform:translateY(0)}}@-o-keyframes purechat-fadeInDownSmall{0%{opacity:0;transform:translateY(10px)}100%{opacity:1;transform:translateY(0)}}@keyframes purechat-fadeInDownSmall{0%{opacity:0;transform:translateY(10px)}100%{opacity:1;transform:translateY(0)}}@-moz-keyframes purechat-fadeInUpSmall{0%{opacity:0;transform:translateY(-10px)}100%{opacity:1;transform:translateY(0)}}@-webkit-keyframes purechat-fadeInUpSmall{0%{opacity:0;transform:translateY(-10px)}100%{opacity:1;transform:translateY(0)}}@-o-keyframes purechat-fadeInUpSmall{0%{opacity:0;transform:translateY(-10px)}100%{opacity:1;transform:translateY(0)}}@keyframes purechat-fadeInUpSmall{0%{opacity:0;transform:translateY(-10px)}100%{opacity:1;transform:translateY(0)}}@-moz-keyframes purechat-fadeOutUpSmall{0%{opacity:1;transform:translateY(0)}100%{opacity:0;transform:translateY(-10px)}}@-webkit-keyframes purechat-fadeOutUpSmall{0%{opacity:1;transform:translateY(0)}100%{opacity:0;transform:translateY(-10px)}}@-o-keyframes purechat-fadeOutUpSmall{0%{opacity:1;transform:translateY(0)}100%{opacity:0;transform:translateY(-10px)}}@keyframes purechat-fadeOutUpSmall{0%{opacity:1;transform:translateY(0)}100%{opacity:0;transform:translateY(-10px)}}@-moz-keyframes purechat-fadeOutDownSmall{0%{opacity:1;transform:translateY(0)}100%{opacity:0;transform:translateY(10px)}}@-webkit-keyframes purechat-fadeOutDownSmall{0%{opacity:1;transform:translateY(0)}100%{opacity:0;transform:translateY(10px)}}@-o-keyframes purechat-fadeOutDownSmall{0%{opacity:1;transform:translateY(0)}100%{opacity:0;transform:translateY(10px)}}@keyframes purechat-fadeOutDownSmall{0%{opacity:1;transform:translateY(0)}100%{opacity:0;transform:translateY(10px)}}@-moz-keyframes purechat-pulsate{from{transform:scale(1);transform-origin:center center;animation-timing-function:ease-out}10%{transform:scale(.91);animation-timing-function:ease-in}17%{transform:scale(.98);animation-timing-function:ease-out}33%{transform:scale(.87);animation-timing-function:ease-in}45%{transform:scale(1);animation-timing-function:ease-out}}@-webkit-keyframes purechat-pulsate{from{transform:scale(1);transform-origin:center center;animation-timing-function:ease-out}10%{transform:scale(.91);animation-timing-function:ease-in}17%{transform:scale(.98);animation-timing-function:ease-out}33%{transform:scale(.87);animation-timing-function:ease-in}45%{transform:scale(1);animation-timing-function:ease-out}}@-o-keyframes purechat-pulsate{from{transform:scale(1);transform-origin:center center;animation-timing-function:ease-out}10%{transform:scale(.91);animation-timing-function:ease-in}17%{transform:scale(.98);animation-timing-function:ease-out}33%{transform:scale(.87);animation-timing-function:ease-in}45%{transform:scale(1);animation-timing-function:ease-out}}@keyframes purechat-pulsate{from{transform:scale(1);transform-origin:center center;animation-timing-function:ease-out}10%{transform:scale(.91);animation-timing-function:ease-in}17%{transform:scale(.98);animation-timing-function:ease-out}33%{transform:scale(.87);animation-timing-function:ease-in}45%{transform:scale(1);animation-timing-function:ease-out}}#PureChatWidget.purechat .purechat-widget-header{align-items:center !important;background-color:var(--purechat-p-bg) !important;border-top-left-radius:8px !important;border-top-right-radius:8px !important;display:flex !important;min-height:55px !important;padding:10px 16px !important;z-index:1 !important}#PureChatWidget.purechat .purechat-widget-header .purechat-widget-room-avatar{display:none !important;order:1 !important;flex-shrink:0 !important;flex-grow:0 !important;width:72px !important;height:72px !important;border:3px solid #fff !important;margin:-33px -5px -5px 0 !important;border-radius:36px !important;box-shadow:1px 1px 2px rgba(0,0,0,0.35) !important;background-size:cover !important}#PureChatWidget.purechat .purechat-widget-header .purechat-widget-room-avatar.purechat-has-room-avatar{display:block !important}#PureChatWidget.purechat .purechat-widget-header .purechat-menu.purechat-btn-toolbar{display:block !important;order:3 !important;flex-shrink:0 !important;flex-grow:0 !important}#PureChatWidget.purechat .purechat-widget-header .purechat-widget-title{display:flex !important;flex-grow:1 !important;margin-left:-8px !important;margin-top:0 !important;order:2 !important}#PureChatWidget.purechat .purechat-widget-header .purechat-btn{background-color:transparent !important;border:1px solid var(--purechat-btn-b) !important;border-radius:3px !important;box-shadow:1px 1px 2px rgba(0,0,0,0.5) !important;display:inline-block !important;margin-left:9px !important;margin-bottom:0 !important;padding:5px 5px 4px !important;position:relative !important}#PureChatWidget.purechat .purechat-widget-header .purechat-btn.purechat-btn-active,#PureChatWidget.purechat .purechat-widget-header .purechat-btn:hover{border:1px solid var(--purechat-btn-b-h) !important;box-shadow:1px 1px 2px #000 !important}#PureChatWidget.purechat .purechat-widget-header .purechat-btn i{font-size:18px !important}#PureChatWidget.purechat .purechat-widget-header .purechat-btn .purechat-display-none,#PureChatWidget.purechat .purechat-widget-header .purechat-btn.purechat-display-none{display:none !important}#PureChatWidget.purechat .purechat-widget-header .purechat-btn .purechat-display-block,#PureChatWidget.purechat .purechat-widget-header .purechat-btn.purechat-display-block{display:block !important}#PureChatWidget.purechat .purechat-widget-header .purechat-btn .purechat-display-flex,#PureChatWidget.purechat .purechat-widget-header .purechat-btn.purechat-display-flex{display:flex !important}#PureChatWidget.purechat .purechat-widget-header .purechat-btn .purechat-display-inline-block,#PureChatWidget.purechat .purechat-widget-header .purechat-btn.purechat-display-inline-block{display:inline-block !important}#PureChatWidget.purechat .purechat-widget-header .purechat-btn .purechat-invisible,#PureChatWidget.purechat .purechat-widget-header .purechat-btn .purechat-invisible *,#PureChatWidget.purechat .purechat-widget-header .purechat-btn.purechat-invisible,#PureChatWidget.purechat .purechat-widget-header .purechat-btn.purechat-invisible *,#PureChatWidget.purechat .purechat-widget-header .purechat-btn .purechat-invisible *:after,#PureChatWidget.purechat .purechat-widget-header .purechat-btn.purechat-invisible *:after,#PureChatWidget.purechat .purechat-widget-header .purechat-btn .purechat-invisible *:before,#PureChatWidget.purechat .purechat-widget-header .purechat-btn.purechat-invisible *:before{visibility:hidden !important}#PureChatWidget.purechat.purechat-widget-collapsed.purechat-attached.purechat-top-left .purechat-widget-header,#PureChatWidget.purechat.purechat-widget-super-collapsed.purechat-attached.purechat-top-left .purechat-widget-header{border-top-left-radius:0 !important;border-top-right-radius:0 !important}#PureChatWidget.purechat.purechat-widget-collapsed.purechat-attached.purechat-top-right .purechat-widget-header,#PureChatWidget.purechat.purechat-widget-super-collapsed.purechat-attached.purechat-top-right .purechat-widget-header{border-top-left-radius:0 !important;border-top-right-radius:0 !important}#PureChatWidget.purechat .purechat-collapsed .purechat-widget-header{border-radius:5px !important;height:35px !important;min-height:auto !important;padding-left:7px !important;padding-right:7px !important}#PureChatWidget.purechat .purechat-collapsed .purechat-widget-header .purechat-btn{margin-left:5px !important;padding:2px !important}#PureChatWidget.purechat .purechat-collapsed .purechat-widget-header .purechat-btn:first-child{margin-left:0 !important}#PureChatWidget.purechat .purechat-collapsed .purechat-widget-header .purechat-btn:after,#PureChatWidget.purechat .purechat-collapsed .purechat-widget-header .purechat-btn svg:after{content:none !important;display:none !important}#PureChatWidget.purechat .purechat-collapsed .purechat-widget-header .purechat-widget-title-link{cursor:pointer !important;font-size:16px !important;padding-bottom:7px !important;padding-left:17px !important;padding-top:9px !important;width:100% !important}#PureChatWidget.purechat .purechat-widget-title-link{color:var(--purechat-p-fg) !important;cursor:default !important;display:block !important;font-size:18px !important;overflow:hidden !important;padding-left:17px !important;text-overflow:ellipsis !important;white-space:nowrap !important}#PureChatWidget.purechat.purechat-unavailable-behavior-hide .purechat-widget-title-link{cursor:default !important}#PureChatWidget.purechat .purechat-footer{align-items:center !important;border-bottom-left-radius:13px !important;border-bottom-right-radius:13px !important;display:flex !important;flex-shrink:0 !important;flex-grow:0 !important;padding:10px !important}#PureChatWidget.purechat.purechat-attached.purechat-bottom-left .purechat-footer{border-bottom-left-radius:0 !important;border-bottom-right-radius:0 !important}#PureChatWidget.purechat.purechat-attached.purechat-bottom-right .purechat-footer{border-bottom-left-radius:0 !important;border-bottom-right-radius:0 !important}#PureChatWidget.purechat .purechat-footer button{margin-right:10px !important}#PureChatWidget.purechat .purechat-poweredby-container{flex-grow:1 !important;flex-shrink:1 !important;order:2 !important}#PureChatWidget.purechat .purechat-poweredby{text-align:right !important}#PureChatWidget.purechat .purechat-poweredby-text,#PureChatWidget.purechat .purechat-poweredby-link{display:inline !important;font-size:12px !important;opacity:1 !important;visibility:visible !important}#PureChatWidget.purechat .purechat-poweredby-text{color:var(--purechat-s-fg) !important}#PureChatWidget.purechat .purechat-poweredby-link{color:var(--purechat-s-fg) !important}#PureChatWidget.purechat .purechat-poweredby-link:hover{color:var(--purechat-s-fg-d) !important}#PureChatWidget.purechat .purechat-toggle-audio-notifications,#PureChatWidget.purechat .purechat-btn-pop-out{cursor:pointer !important;color:var(--purechat-s-fg) !important}#PureChatWidget.purechat .purechat-closed-poweredby a{color:var(--purechat-s-fg) !important}#PureChatWidget.purechat .purechat-closed-poweredby a:hover{color:var(--purechat-s-fg-d) !important}#PureChatWidget.purechat .purechat-firstname-input,#PureChatWidget.purechat .purechat-lastname-input,#PureChatWidget.purechat .purechat-phonenumber-input,#PureChatWidget.purechat .purechat-email-input,#PureChatWidget.purechat .purechat-company-input,#PureChatWidget.purechat .purechat-question-input,#PureChatWidget.purechat .purechat-send-form-message,#PureChatWidget.purechat .purechat-send-form,#PureChatWidget.purechat .purechat-feedback-input,#PureChatWidget.purechat .purechat-emoji-search{background-color:#fff !important;border:1px solid rgba(0,0,0,0.3) !important;border-radius:5px !important;cursor:text !important;font-size:16px !important;line-height:22px !important;margin-bottom:10px !important;padding:8px 10px 9px 10px !important;width:100% !important}#PureChatWidget.purechat .purechat-firstname-input:focus,#PureChatWidget.purechat .purechat-lastname-input:focus,#PureChatWidget.purechat .purechat-phonenumber-input:focus,#PureChatWidget.purechat .purechat-email-input:focus,#PureChatWidget.purechat .purechat-company-input:focus,#PureChatWidget.purechat .purechat-question-input:focus,#PureChatWidget.purechat .purechat-send-form-message:focus,#PureChatWidget.purechat .purechat-send-form:focus,#PureChatWidget.purechat .purechat-feedback-input:focus,#PureChatWidget.purechat .purechat-emoji-search:focus{font-size:16px !important}#PureChatWidget.purechat .purechat-question-input,#PureChatWidget.purechat .purechat-feedback-input{resize:none !important;word-wrap:break-word !important}#PureChatWidget.purechat .purechat-init-form .purechat-question-input,#PureChatWidget.purechat .purechat-email-form .purechat-question-input{min-height:85px !important}#PureChatWidget.purechat .purechat-send-form{-ms-flex-align:center !important;align-items:center !important;display:flex !important;margin:0 !important;padding:9px 11px !important}#PureChatWidget.purechat .purechat-send-form-message{border:none !important;box-sizing:content-box !important;flex-grow:1 !important;flex-shrink:1 !important;font-size:16px !important;height:auto !important;line-height:1.4 !important;margin:0 10px 0 0 !important;overflow-x:hidden !important;padding:0 !important;resize:none !important;white-space:pre-wrap !important;width:auto !important;-ms-overflow-style:none !important}#PureChatWidget.purechat .purechat-send-form-message:focus{font-size:16px !important}#PureChatWidget.purechat .purechat-btn{margin:0 auto 5px !important;padding:10px 20px !important;display:block !important}#PureChatWidget.purechat .purechat-btn-emoji,#PureChatWidget.purechat .purechat-btn-file-transfer,#PureChatWidget.purechat .purechat-btn-send-message{color:#afaba3 !important;fill:#afaba3 !important;transition:color .4s,fill .4s !important}#PureChatWidget.purechat .purechat-btn-emoji:hover,#PureChatWidget.purechat .purechat-btn-file-transfer:hover,#PureChatWidget.purechat .purechat-btn-send-message:hover{color:#3b404c !important;fill:#3b404c !important}#PureChatWidget.purechat .purechat-btn-file-transfer{margin-right:9px !important}#PureChatWidget.purechat .purechat-label{margin-top:10px !important}#PureChatWidget.purechat ::-webkit-input-placeholder{color:#afaba3 !important;opacity:1 !important}#PureChatWidget.purechat ::-moz-placeholder{color:#afaba3 !important;opacity:1 !important}#PureChatWidget.purechat :-ms-input-placeholder{color:#afaba3 !important;opacity:1 !important}#PureChatWidget.purechat ::-ms-input-placeholder{color:#afaba3 !important;opacity:1 !important}#PureChatWidget.purechat .purechat-message-wrapper{position:relative !important}#PureChatWidget.purechat .purechat-message-right{margin-left:20px !important;position:relative !important;text-align:right !important}#PureChatWidget.purechat .purechat-message-left{margin-right:20px !important;position:relative !important;text-align:left !important}#PureChatWidget.purechat .purechat-message-container{display:block !important}#PureChatWidget.purechat .purechat-message,#PureChatWidget.purechat .purechat-message-note{background-color:var(--purechat-s-bg-l) !important;border-radius:5px !important;box-shadow:1px 1px 5px rgba(0,0,0,0.4) !important;color:var(--purechat-s-fg-d) !important;display:inline-block !important;font-size:14px !important;margin-bottom:16px !important;max-width:100% !important;padding:8px 18px 9px !important;position:relative !important;word-wrap:break-word !important}#PureChatWidget.purechat .purechat-message .purechat-message-tail,#PureChatWidget.purechat .purechat-message-note .purechat-message-tail{bottom:-11px !important;color:var(--purechat-s-bg-l) !important;display:block !important;fill:#fff !important;height:16px !important;left:5px !important;position:absolute !important;width:18px !important}#PureChatWidget.purechat .purechat-new-thought{color:var(--purechat-s-fg-d) !important;display:inline !important;font-size:14px !important;word-wrap:break-word !important}#PureChatWidget.purechat .purechat-new-thought a,#PureChatWidget.purechat .purechat-new-thought a:hover{color:var(--purechat-s-fg-d) !important}#PureChatWidget.purechat .purechat-message-right .purechat-message{background-color:var(--purechat-s-bg-d) !important}#PureChatWidget.purechat .purechat-message-right .purechat-message .purechat-message-tail{color:var(--purechat-s-bg-d) !important;left:auto !important;right:5px !important}#PureChatWidget.purechat .purechat-message-right .purechat-new-thought{color:var(--purechat-s-fg-l) !important}#PureChatWidget.purechat .purechat-message-right .purechat-new-thought a,#PureChatWidget.purechat .purechat-message-right .purechat-new-thought a:hover{color:var(--purechat-s-fg-l) !important}#PureChatWidget.purechat .purechat-message-note-closed{margin-bottom:0 !important;text-align:center !important;width:100% !important}#PureChatWidget.purechat .purechat-message-note-closed p{color:var(--purechat-s-fg) !important;text-align:center !important;margin-bottom:5px !important}#PureChatWidget.purechat .purechat-message-wrapper.purechat-separator{overflow:hidden !important;margin:0 0 15px 0 !important;position:relative !important;text-align:center !important}#PureChatWidget.purechat .purechat-message-wrapper.purechat-separator span{color:var(--purechat-s-fg) !important;display:inline-block !important;font-size:12px !important;padding:0 10px !important;position:relative !important;vertical-align:baseline !important;zoom:1 !important}#PureChatWidget.purechat .purechat-message-wrapper.purechat-separator span:before,#PureChatWidget.purechat .purechat-message-wrapper.purechat-separator span:after{content:\'\' !important;display:block !important;width:1000px !important;position:absolute !important;top:.73em !important;border-top:1px solid rgba(0,0,0,0.1) !important}#PureChatWidget.purechat .purechat-message-wrapper.purechat-separator span:before{right:100% !important}#PureChatWidget.purechat .purechat-message-wrapper.purechat-separator span:after{left:100% !important}#PureChatWidget.purechat .purechat-message-right .purechat-time{text-align:right !important}#PureChatWidget.purechat .purechat-operator-gravatar,#PureChatWidget.purechat .purechat-timestamp,#PureChatWidget.purechat .purechat-displayname{display:none !important}#PureChatWidget.purechat .purechat-displayname.purechat-display-block{color:var(--purechat-s-fg) !important;font-size:12px !important;left:9px !important;position:absolute !important;top:-16px !important;width:300px !important}#PureChatWidget.purechat .purechat-message-multiple-operators{margin-top:15px !important}#PureChatWidget.purechat .purechat-timestamp{margin-top:-6px !important;margin-bottom:6px !important}#PureChatWidget.purechat .purechat-time{color:var(--purechat-s-fg) !important;font-size:12px !important}#PureChatWidget.purechat .purechat-message-wrapper:last-child .purechat-timestamp{display:block !important}#PureChatWidget.purechat .purechat-message-link{overflow-wrap:break-word !important;word-wrap:break-word !important;-ms-word-break:break-all !important;word-break:break-all !important;word-break:break-word !important}#PureChatWidget.purechat .purechat-unfurl-link .purechat-message,#PureChatWidget.purechat .purechat-unfurl-image .purechat-message,#PureChatWidget.purechat .purechat-unfurl-twitter .purechat-message,#PureChatWidget.purechat .purechat-unfurl-youtube .purechat-message,#PureChatWidget.purechat .purechat-unfurl-giphy .purechat-message{width:100% !important}#PureChatWidget.purechat .purechat-unfurl-twitter iframe.twitter-timeline{width:100% !important}#PureChatWidget.purechat .purechat-unfurl-media,#PureChatWidget.purechat .purechat-unfurl-iframe{display:block !important;margin-left:auto !important;margin-right:auto !important;max-height:160px !important;max-width:100% !important}#PureChatWidget.purechat .purechat-unfurl-iframe{border:none 0 !important}#PureChatWidget.purechat .purechat-unfurl-title{display:flex !important;margin:0 0 6px 0 !important}#PureChatWidget.purechat .purechat-unfurl-title a{display:block !important;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important}#PureChatWidget.purechat .purechat-unfurl-favicon{margin-right:6px !important;max-width:100% !important;min-width:auto !important}#PureChatWidget.purechat .purechat-unfurl-image .purechat-new-thought a,#PureChatWidget.purechat .purechat-unfurl-image .purechat-new-thought img{cursor:pointer !important}#PureChatWidget.purechat .purechat-unfurl-image .purechat-new-thought a{display:block !important}#PureChatWidget.purechat .purechat-unfurl-link .purechat-new-thought{display:flex !important}#PureChatWidget.purechat .purechat-unfurl-link .purechat-unfurl-media{flex-shrink:0 !important;margin-right:10px !important;max-height:52px !important;max-width:25% !important}#PureChatWidget.purechat .purechat-unfurl-link .purechat-unfurl-link-container{color:var(--purechat-s-fg-l) !important;overflow:hidden !important;position:relative !important;max-height:3.875em !important;text-align:left !important}#PureChatWidget.purechat .purechat-unfurl-youtube .purechat-message{width:100% !important}#PureChatWidget.purechat .purechat-unfurl-youtube .purechat-unfurl-youtube-wrapper{position:relative !important}#PureChatWidget.purechat .purechat-unfurl-youtube .purechat-unfurl-youtube-wrapper:before{content:"" !important;display:block !important;padding-top:56.25% !important;width:100% !important}#PureChatWidget.purechat .purechat-unfurl-youtube .purechat-unfurl-youtube-wrapper .purechat-unfurl-media,#PureChatWidget.purechat .purechat-unfurl-youtube .purechat-unfurl-youtube-wrapper .purechat-unfurl-iframe{bottom:0 !important;display:block !important;height:100% !important;max-height:none !important;max-width:none !important;position:absolute !important;left:0 !important;right:0 !important;top:0 !important;width:100% !important}#PureChatWidget.purechat .purechat-unfurl-youtube .purechat-unfurl-youtube-wrapper .purechat-unfurl-iframe{max-height:100% !important}#PureChatWidget.purechat .purechat-unfurl-youtube .purechat-unfurl-play{background:rgba(0,0,0,0.5) !important;border-radius:25px !important;cursor:pointer !important;height:50px !important;left:50% !important;line-height:50px !important;position:absolute !important;top:50% !important;transform:translate(-50%,-50%) !important;width:50px !important}#PureChatWidget.purechat .purechat-unfurl-youtube .purechat-unfurl-play .pc-svgicon{color:#fff !important;cursor:pointer !important;left:15px !important;position:absolute !important;top:13px !important}#PureChatWidget.purechat .purechat-file{margin-top:12px !important}#PureChatWidget.purechat .purechat-file.purechat-message-left .purechat-file-description,#PureChatWidget.purechat .purechat-file .purechat-message-left .purechat-file-description{color:var(--purechat-s-fg-d) !important}#PureChatWidget.purechat .purechat-file.purechat-message-left .purechat-file-description small,#PureChatWidget.purechat .purechat-file .purechat-message-left .purechat-file-description small{color:var(--purechat-s-fg-d) !important}#PureChatWidget.purechat .purechat-file.purechat-message-left .purechat-file-actions button,#PureChatWidget.purechat .purechat-file .purechat-message-left .purechat-file-actions button{color:var(--purechat-s-fg-d) !important}#PureChatWidget.purechat .purechat-file.purechat-message-left .purechat-file-actions button:hover,#PureChatWidget.purechat .purechat-file .purechat-message-left .purechat-file-actions button:hover{color:var(--purechat-s-fg-l) !important}#PureChatWidget.purechat .purechat-file.purechat-message-left .purechat-file-error,#PureChatWidget.purechat .purechat-file .purechat-message-left .purechat-file-error{color:var(--purechat-s-fg-d) !important}#PureChatWidget.purechat .purechat-file.purechat-message-right .purechat-file-description,#PureChatWidget.purechat .purechat-file .purechat-message-right .purechat-file-description{color:var(--purechat-s-fg-l) !important}#PureChatWidget.purechat .purechat-file.purechat-message-right .purechat-file-description small,#PureChatWidget.purechat .purechat-file .purechat-message-right .purechat-file-description small{color:var(--purechat-s-fg-l) !important}#PureChatWidget.purechat .purechat-file.purechat-message-right .purechat-file-actions button,#PureChatWidget.purechat .purechat-file .purechat-message-right .purechat-file-actions button{color:var(--purechat-s-fg-l) !important}#PureChatWidget.purechat .purechat-file.purechat-message-right .purechat-file-error,#PureChatWidget.purechat .purechat-file .purechat-message-right .purechat-file-error{color:var(--purechat-s-fg-l) !important}#PureChatWidget.purechat .purechat-file .purechat-message{padding:0 !important;width:100% !important}#PureChatWidget.purechat .purechat-file .purechat-new-thought{flex-direction:row !important}#PureChatWidget.purechat .purechat-file .purechat-file-icon{flex-shrink:0 !important;position:relative !important;padding:8px 18px 9px !important}#PureChatWidget.purechat .purechat-file .purechat-file-icon img{margin-top:-15px !important}#PureChatWidget.purechat .purechat-file .purechat-file-description{align-self:center !important;flex-grow:1 !important;flex-shrink:1 !important;font-size:20px !important;overflow:hidden !important;padding:8px 0 9px !important;text-overflow:ellipsis !important;white-space:nowrap !important}#PureChatWidget.purechat .purechat-file .purechat-file-description small{font-size:14px !important}#PureChatWidget.purechat .purechat-file .purechat-file-actions{align-items:center !important;display:flex !important;flex-shrink:0 !important;position:relative !important}#PureChatWidget.purechat .purechat-file .purechat-file-actions .purechat-loading{position:relative !important;right:8px !important}#PureChatWidget.purechat .purechat-file .purechat-file-actions button,#PureChatWidget.purechat .purechat-file .purechat-file-actions a{border-radius:0 5px 5px 0 !important;color:var(--purechat-s-fg-l) !important;height:100% !important;opacity:.8 !important;padding:0 8px !important;position:relative !important;transition:background .3s,opacity .3s !important;z-index:100 !important}#PureChatWidget.purechat .purechat-file .purechat-file-actions button:hover,#PureChatWidget.purechat .purechat-file .purechat-file-actions a:hover{opacity:1 !important;color:#fff !important}#PureChatWidget.purechat .purechat-file .purechat-file-actions a{align-items:center !important;display:flex !important}#PureChatWidget.purechat .purechat-file .purechat-file-image{min-height:80px !important;position:relative !important;text-align:center !important;width:100% !important}#PureChatWidget.purechat .purechat-file .purechat-file-image img{max-height:160px !important;max-width:100% !important;padding:8px !important}#PureChatWidget.purechat .purechat-file .purechat-file-image .purechat-file-actions{display:none !important;position:absolute !important;top:4px !important;right:4px !important}#PureChatWidget.purechat .purechat-file .purechat-file-image .purechat-file-actions button,#PureChatWidget.purechat .purechat-file .purechat-file-image .purechat-file-actions a{background:rgba(0,0,0,0.5) !important;box-shadow:none !important;color:#fff !important;display:inline-block !important;margin:0 !important}#PureChatWidget.purechat .purechat-file .purechat-file-image .purechat-file-actions a + button{margin-left:8px !important}#PureChatWidget.purechat .purechat-file .purechat-file-image .purechat-file-delete,#PureChatWidget.purechat .purechat-file .purechat-file-image .purechat-file-download{border-radius:5px !important;padding:8px !important}#PureChatWidget.purechat .purechat-file .purechat-file-image .purechat-file-image-name{background:rgba(0,0,0,0.5) !important;border-radius:5px !important;bottom:2px !important;color:#fff !important;display:none !important;left:50% !important;margin-right:50% !important;max-width:98% !important;overflow:hidden !important;padding:4px 6px !important;position:absolute !important;text-align:center !important;text-overflow:ellipsis !important;transform:translate(-50%,0) !important;white-space:nowrap !important;z-index:9999 !important}#PureChatWidget.purechat .purechat-file .purechat-file-image:hover .purechat-file-image-name,#PureChatWidget.purechat .purechat-file .purechat-file-image.purechat-file-image-active .purechat-file-image-name{display:block !important}#PureChatWidget.purechat .purechat-file .purechat-file-image:hover .purechat-file-actions,#PureChatWidget.purechat .purechat-file .purechat-file-image.purechat-file-image-active .purechat-file-actions{display:block !important}#PureChatWidget.purechat .purechat-file .purechat-file-error{color:var(--purechat-s-fg-l) !important;padding:8px 18px 9px !important}#PureChatWidget.purechat .purechat-file .purechat-file-error svg{color:var(--purechat-a-d) !important;fill:var(--purechat-a-d) !important;margin-right:8px !important}#PureChatWidget.purechat.purechat-style-minimal .purechat-file-actions .purechat-file-delete:hover{background-color:var(--purechat-a-d-bg) !important;color:var(--purechat-a-d-fg) !important}#PureChatWidget.purechat.purechat-style-minimal .purechat-file-actions .purechat-file-download:hover{background-color:var(--purechat-s-fg-d) !important}#PureChatWidget.purechat .purechat-card{background-color:var(--purechat-s-bg-l) !important;border-radius:5px !important;box-shadow:2px 2px 5px rgba(0,0,0,0.2) !important;display:block !important;font-size:14px !important;margin:10px 10px 0 !important;padding:12px 18px !important}#PureChatWidget.purechat .purechat-card-flex{display:flex !important;flex-direction:column !important;width:100% !important}#PureChatWidget.purechat .purechat-card-flex .purechat-card-header{display:flex !important;flex-grow:0 !important;flex-shrink:0 !important;font-size:13px !important;justify-content:space-between !important}#PureChatWidget.purechat .purechat-card-flex .purechat-card-header span{font-size:13px !important}#PureChatWidget.purechat .purechat-card-flex .purechat-card-body{flex-grow:1 !important;flex-shrink:1 !important;overflow-y:auto !important}#PureChatWidget.purechat .purechat-card-flex .purechat-card-footer{font-size:13px !important}#PureChatWidget.purechat .purechat-card-bordered .purechat-card-header{border-bottom:solid 1px rgba(0,0,0,0.1) !important;padding-bottom:12px !important}#PureChatWidget.purechat .purechat-card-bordered .purechat-card-body{padding-bottom:12px !important;padding-top:12px !important}#PureChatWidget.purechat .purechat-card-bordered .purechat-card-footer{border-top:solid 1px rgba(0,0,0,0.1) !important;padding-top:12px !important}#PureChatWidget.purechat .purechat-alert{font-size:14px !important;padding:5px !important;text-align:center !important}#PureChatWidget.purechat .purechat-alert-error{color:var(--purechat-a-d) !important}#PureChatWidget.purechat .purechat-alert-error.purechat-init-error-inline{font-size:24px !important;line-height:44px !important;padding:1px 5px !important;position:absolute !important;right:30px !important}#PureChatWidget.purechat .pc-svgicon{background:none !important;color:currentColor !important;display:inline-block !important;fill:currentColor !important;height:18px !important;margin:initial !important;overflow:hidden !important;pointer-events:none !important;position:relative !important;transform:none !important;vertical-align:-.15em !important;width:18px !important}#PureChatWidget.purechat .pc-svgicon-sm{height:15px !important;width:15px !important}#PureChatWidget.purechat .pc-svgicon-md{height:20px !important;width:20px !important}#PureChatWidget.purechat .pc-svgicon-lg{height:24px !important;width:24px !important}#PureChatWidget.purechat .pc-svgicon-xl{height:40px !important;width:40px !important}#PureChatWidget.purechat .purechat-emojis{position:absolute !important;top:0 !important;bottom:10px !important;left:0 !important;right:0 !important;z-index:99999 !important}#PureChatWidget.purechat.purechat-state-closed .purechat-emojis{display:none !important;z-index:-1 !important}#PureChatWidget.purechat .purechat-emoji-container{display:flex !important;flex-wrap:wrap !important}#PureChatWidget.purechat .purechat-curated-emojis{margin-bottom:15px !important}#PureChatWidget.purechat .purechat-emoji-button{border-radius:3px !important;flex-basis:10% !important;font-size:18px !important;padding:3px 0 !important;text-align:center !important;transition:background-color .4s ease !important}#PureChatWidget.purechat .purechat-emoji-button:hover,#PureChatWidget.purechat .purechat-emoji-button.purechat-emoji-button-active{background-color:rgba(0,0,0,0.1) !important}#PureChatWidget.purechat .purechat-emoji-autocomplete{position:absolute !important;bottom:10px !important;left:0 !important;right:0 !important;z-index:99999 !important}#PureChatWidget.purechat .purechat-flyout-arrow,#PureChatWidget.purechat .purechat-flyout-arrow:after{position:absolute !important;display:block !important;width:0 !important;height:0 !important;border-color:transparent !important;border-style:solid !important;border-width:20px 10px !important}#PureChatWidget.purechat .purechat-flyout-arrow{border-width:22px 11px !important}#PureChatWidget.purechat .purechat-flyout-arrow:after{content:"" !important}#PureChatWidget.purechat .purechat-flyout-arrow.purechat-flyout-arrow-bottom{bottom:-22px !important;left:50% !important;margin-left:-11px !important;border-top-color:var(--purechat-p-bg-d) !important;border-bottom-width:0 !important}#PureChatWidget.purechat .purechat-flyout-arrow.purechat-flyout-arrow-bottom:after{content:" " !important;top:-23px !important;margin-left:-10px !important;border-top-color:#fff !important;border-bottom-width:0 !important}#PureChatWidget.purechat .purechat-flyout-arrow.purechat-flyout-arrow-top{top:-22px !important;left:50% !important;margin-left:-11px !important;border-bottom-color:var(--purechat-p-bg-d) !important;border-top-width:0 !important}#PureChatWidget.purechat .purechat-flyout-arrow.purechat-flyout-arrow-top:after{content:" " !important;bottom:-23px !important;margin-left:-10px !important;border-bottom-color:#fff !important;border-top-width:0 !important}#PureChatWidget.purechat .purechat-flyout{background:#fff !important;border:solid 1px var(--purechat-p-bg) !important;border-radius:5px !important;box-shadow:1px 1px 4px rgba(0,0,0,0.4) !important;opacity:1 !important;padding:10px !important;position:absolute !important;min-width:35px !important;max-width:373px !important;z-index:9999 !important}#PureChatWidget.purechat .purechat-flyout.purechat-flyout-wide{left:0 !important;max-width:none !important;right:0 !important}#PureChatWidget.purechat .purechat-flyout .purechat-email-form{min-width:313px !important}#PureChatWidget.purechat .purechat-flyout .purechat-flyout-twitter{display:flex !important;flex-direction:column !important;min-width:353px !important}#PureChatWidget.purechat .purechat-flyout .purechat-flyout-twitter .purechat-flyout-twitter-feed{flex-grow:1 !important;height:312px !important;margin-bottom:10px !important;overflow-y:hidden !important}#PureChatWidget.purechat .purechat-flyout .purechat-flyout-twitter .purechat-flyout-twitter-feed >iframe{border:none !important;display:inline-block !important;height:312px !important;margin-top:0 !important;margin-bottom:0 !important;max-height:312px !important;min-height:312px !important;max-width:100% !important;min-width:180px !important;padding:0 !important;position:static !important;visibility:visible !important;width:100% !important}#PureChatWidget.purechat .purechat-flyout .purechat-flyout-twitter .purechat-flyout-twitter-buttons{display:flex !important;flex-direction:row !important;height:20px !important;justify-content:center !important}#PureChatWidget.purechat .purechat-flyout .purechat-flyout-twitter .purechat-flyout-twitter-buttons > div > iframe{height:20px !important;position:static !important;visibility:visible !important;width:100% !important}#PureChatWidget.purechat .purechat-flyout .purechat-flyout-twitter .purechat-flyout-twitter-buttons :first-child{margin-right:5px !important}#PureChatWidget.purechat .purechat-flyout .purechat-flyout-twitter .purechat-flyout-twitter-buttons :last-child{margin-left:5px !important}#PureChatWidget.purechat .purechat-flyout .purechat-flyout-address{min-width:353px !important}#PureChatWidget.purechat .purechat-flyout .purechat-flyout-address iframe{border:solid 1px #ddd !important;height:300px !important;margin-bottom:10px !important;width:100% !important}#PureChatWidget.purechat .purechat-flyout.purechat-flyout-bounce-up{animation-name:purechat-bounceUpSmall !important}#PureChatWidget.purechat .purechat-flyout.purechat-flyout-bounce-down{animation-name:purechat-bounceDownSmall !important}#PureChatWidget.purechat .purechat-flyout .purechat-card{background:transparent !important;box-shadow:none !important;padding:0 !important}#PureChatWidget.purechat.purechat-popped-out-widget .purechat-flyout .purechat-email-form,#PureChatWidget.purechat.purechat-popped-out-widget .purechat-flyout .purechat-flyout-twitter,#PureChatWidget.purechat.purechat-popped-out-widget .purechat-flyout .purechat-flyout-address{min-width:0 !important}#PureChatWidget.purechat.purechat-bottom-left .purechat-flyout.purechat-flyout-hide,#PureChatWidget.purechat.purechat-bottom-right .purechat-flyout.purechat-flyout-hide{animation-name:purechat-fadeOutDownSmall !important}#PureChatWidget.purechat.purechat-top-left .purechat-flyout.purechat-flyout-hide,#PureChatWidget.purechat.purechat-top-right .purechat-flyout.purechat-flyout-hide{animation-name:purechat-fadeOutUpSmall !important}#PureChatWidget.purechat.purechat-bottom-left .purechat-flyout.purechat-flyout-show,#PureChatWidget.purechat.purechat-bottom-right .purechat-flyout.purechat-flyout-show{animation-name:purechat-fadeInDownSmall !important}#PureChatWidget.purechat.purechat-top-left .purechat-flyout.purechat-flyout-show,#PureChatWidget.purechat.purechat-top-right .purechat-flyout.purechat-flyout-show{animation-name:purechat-fadeInUpSmall !important}#PureChatWidget.purechat.purechat-style-classic .purechat-flyout p{color:#3b404c !important}#PureChatWidget.purechat .purechat-message-preview-text{white-space:nowrap !important;overflow:hidden !important;text-overflow:ellipsis !important}#PureChatWidget.purechat .purechat-badge{background-color:#c11e1f !important;border-radius:16px !important;box-shadow:1px 1px 3px rgba(0,0,0,0.4) !important;color:#fff !important;display:block !important;font-size:12px !important;height:16px !important;padding:0 !important;position:absolute !important;left:-5px !important;text-align:center !important;top:-5px !important;width:16px !important;z-index:10000000 !important}#PureChatWidget.purechat.purechat-widget-super-collapsed .purechat-badge,#PureChatWidget.purechat.purechat-popped-out-widget .purechat-badge{font-size:16px !important;height:25px !important;left:-10px !important;padding:2px !important;top:-12px !important;width:25px !important}#PureChatWidget.purechat .purechat-loading{margin:0 !important;height:20px !important;width:20px !important;animation:purechat-animation-loading .8s infinite linear !important;border:3px solid var(--purechat-btn-fg) !important;border-right-color:transparent !important;border-radius:50% !important}#PureChatWidget.purechat .purechat-loading-large{height:32px !important;width:32px !important}#PureChatWidget.purechat .purechat-loading-center{margin:0 auto !important;position:relative !important;top:8px !important}#PureChatWidget.purechat .purechat-loading-light{border:3px solid var(--purechat-s-fg-d) !important;border-right-color:transparent !important}#PureChatWidget.purechat .purechat-loading-dark{border:3px solid var(--purechat-s-fg-d) !important;border-right-color:transparent !important}@-moz-keyframes purechat-animation-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@-webkit-keyframes purechat-animation-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@-o-keyframes purechat-animation-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes purechat-animation-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}#PureChatWidget.purechat .purechat-file-overlay{background:rgba(0,0,0,0.4) !important;bottom:0 !important;left:0 !important;position:absolute !important;right:0 !important;top:0 !important;z-index:9999 !important}#PureChatWidget.purechat:not(.purechat-attached) .purechat-file-overlay{border-bottom-right-radius:13px !important;border-bottom-left-radius:13px !important}#PureChatWidget.purechat .purechat-file-overlay-instructions{background:#fff !important;border-radius:110px !important;font-size:20px !important;height:220px !important;left:50% !important;line-height:260px !important;position:absolute !important;text-align:center !important;top:50% !important;transform:translate(-50%,-50%) !important;width:220px !important}#PureChatWidget.purechat .purechat-file-overlay-instructions img{position:absolute !important;top:-10px !important;left:50% !important;transform:translateX(-50%) !important}#PureChatWidgetImagePreview{background:rgba(0,0,0,0.8) !important;bottom:0 !important;left:0 !important;position:fixed !important;right:0 !important;top:0 !important;z-index:9999999 !important}#PureChatWidgetImagePreview > img{left:50% !important;position:absolute !important;max-height:100% !important;max-width:100% !important;top:50% !important;transform:translate(-50%,-50%) !important}#PureChatWidgetImagePreview > button{background:transparent !important;border:none 0 !important;color:#fff !important;font-size:35px !important;position:absolute !important;right:10px !important;top:10px !important}#PureChatWidget.purechat .purechat-progress-spinner{background:var(--purechat-p-bg) 50% 50% no-repeat !important;mask:url('+u+") 50% 50% no-repeat !important;-webkit-mask:url("+u+") 50% 50% no-repeat !important;height:64px !important;left:50% !important;margin-left:-32px !important;margin-top:-32px !important;position:absolute !important;top:50% !important;width:64px !important}#PureChatWidget.purechat .purechat-progress-spinner *{display:none !important}#PureChatWidget.purechat .purechat-progress-spinner.purechat-progress-spinner-compat{background:transparent url("+u+') 50% 50% no-repeat !important;mask:none !important}#PureChatWidget.purechat .purechat-progress-spinner-container{position:relative !important;overflow:hidden !important}#PureChatWidget.purechat .purechat-progress-spinner-container > *{opacity:.5 !important}#PureChatWidget.purechat .purechat-progress-spinner-container .purechat-progress-spinner{opacity:1 !important}#PureChatWidget.purechat .purechat-progress-spinner-overlay{height:100% !important;margin:0 !important;left:0 !important;top:0 !important;width:100% !important}#PureChatWidget.purechat .purechat-progress-spinner-overlay:before{left:50% !important;position:absolute !important;top:50% !important}#PureChatWidget.purechat .purechat-collapsed-image{background-size:contain !important;background-repeat:no-repeat !important;background-position:center center !important;display:block !important;height:75px !important;position:absolute !important;width:75px !important}.purechat-assist,.purechat-assist body{height:100% !important;width:100% !important;position:relative !important;padding:0 !important;margin:0 !important}#PureChatWidget.purechat{background-color:var(--purechat-p-bg-d) !important;border:0 !important;border-radius:13px !important;box-shadow:1px 1px 4px rgba(0,0,0,0.4) !important;cursor:default !important;position:fixed !important;white-space:initial !important;width:373px !important;z-index:2147483646 !important}#PureChatWidget.purechat.purechat-style-classic{border:10px solid var(--purechat-p-bg-d) !important}#PureChatWidget.purechat a,#PureChatWidget.purechat a:hover{text-decoration:underline !important}#PureChatWidget.purechat p{color:var(--purechat-s-fg-d) !important;margin-bottom:10px !important}#PureChatWidget.purechat textarea{overflow:auto !important}#PureChatWidget.purechat path{color:currentColor !important;fill:currentColor !important}#PureChatWidget.purechat .purechat-display-none,#PureChatWidget.purechat.purechat-display-none{display:none !important}#PureChatWidget.purechat .purechat-display-block,#PureChatWidget.purechat.purechat-display-block{display:block !important}#PureChatWidget.purechat .purechat-display-flex,#PureChatWidget.purechat.purechat-display-flex{display:flex !important}#PureChatWidget.purechat .purechat-display-inline-block,#PureChatWidget.purechat.purechat-display-inline-block{display:inline-block !important}#PureChatWidget.purechat .purechat-invisible,#PureChatWidget.purechat .purechat-invisible *,#PureChatWidget.purechat.purechat-invisible,#PureChatWidget.purechat.purechat-invisible *,#PureChatWidget.purechat .purechat-invisible *:after,#PureChatWidget.purechat.purechat-invisible *:after,#PureChatWidget.purechat .purechat-invisible *:before,#PureChatWidget.purechat.purechat-invisible *:before{visibility:hidden !important}#PureChatWidget.purechat.purechat-bottom-left{left:40px !important;bottom:10px !important}#PureChatWidget.purechat.purechat-bottom-right{right:60px !important;bottom:10px !important}#PureChatWidget.purechat.purechat-top-left{left:40px !important;top:10px !important}#PureChatWidget.purechat.purechat-top-right{right:60px !important;top:10px !important}#PureChatWidget.purechat .purechat-expanded,#PureChatWidget.purechat .purechat-collapsed-outer,#PureChatWidget.purechat .purechat-widget-inner,#PureChatWidget.purechat .purechat-widget-content-wrapper,#PureChatWidget.purechat .purechat-content-wrapper,#PureChatWidget.purechat .purechat-content,#PureChatWidget.purechat .purechat-message-list-view,#PureChatWidget.purechat .purechat-messages,#PureChatWidget.purechat .purechat-message-display-container,#PureChatWidget.purechat .purechat-send-form-container{display:flex !important;flex-direction:column !important}#PureChatWidget.purechat .purechat-collapsed-outer{position:relative !important;z-index:10 !important}#PureChatWidget.purechat .purechat-expanded .purechat-display-none,#PureChatWidget.purechat .purechat-collapsed .purechat-display-none,#PureChatWidget.purechat .purechat-expanded.purechat-display-none,#PureChatWidget.purechat .purechat-collapsed.purechat-display-none{display:none !important}#PureChatWidget.purechat .purechat-expanded .purechat-display-block,#PureChatWidget.purechat .purechat-collapsed .purechat-display-block,#PureChatWidget.purechat .purechat-expanded.purechat-display-block,#PureChatWidget.purechat .purechat-collapsed.purechat-display-block{display:block !important}#PureChatWidget.purechat .purechat-expanded .purechat-display-flex,#PureChatWidget.purechat .purechat-collapsed .purechat-display-flex,#PureChatWidget.purechat .purechat-expanded.purechat-display-flex,#PureChatWidget.purechat .purechat-collapsed.purechat-display-flex{display:flex !important}#PureChatWidget.purechat .purechat-expanded .purechat-display-inline-block,#PureChatWidget.purechat .purechat-collapsed .purechat-display-inline-block,#PureChatWidget.purechat .purechat-expanded.purechat-display-inline-block,#PureChatWidget.purechat .purechat-collapsed.purechat-display-inline-block{display:inline-block !important}#PureChatWidget.purechat .purechat-expanded .purechat-invisible,#PureChatWidget.purechat .purechat-collapsed .purechat-invisible,#PureChatWidget.purechat .purechat-expanded .purechat-invisible *,#PureChatWidget.purechat .purechat-collapsed .purechat-invisible *,#PureChatWidget.purechat .purechat-expanded.purechat-invisible,#PureChatWidget.purechat .purechat-collapsed.purechat-invisible,#PureChatWidget.purechat .purechat-expanded.purechat-invisible *,#PureChatWidget.purechat .purechat-collapsed.purechat-invisible *,#PureChatWidget.purechat .purechat-expanded .purechat-invisible *:after,#PureChatWidget.purechat .purechat-collapsed .purechat-invisible *:after,#PureChatWidget.purechat .purechat-expanded.purechat-invisible *:after,#PureChatWidget.purechat .purechat-collapsed.purechat-invisible *:after,#PureChatWidget.purechat .purechat-expanded .purechat-invisible *:before,#PureChatWidget.purechat .purechat-collapsed .purechat-invisible *:before,#PureChatWidget.purechat .purechat-expanded.purechat-invisible *:before,#PureChatWidget.purechat .purechat-collapsed.purechat-invisible *:before{visibility:hidden !important}#PureChatWidget.purechat .purechat-message-list-view{flex-grow:1 !important}#PureChatWidget.purechat .purechat-send-form-container{flex-shrink:0 !important}#PureChatWidget.purechat .purechat-content-wrapper{background-color:var(--purechat-s-bg) !important;border-bottom-left-radius:13px !important;border-bottom-right-radius:13px !important;position:relative !important}#PureChatWidget.purechat .purechat-content-wrapper .purechat-user-status,#PureChatWidget.purechat .purechat-content-wrapper .purechat-send-form-container{padding-left:10px !important;padding-right:10px !important}#PureChatWidget.purechat .purechat-content-wrapper strong,#PureChatWidget.purechat .purechat-content-wrapper strong > a{font-weight:bold !important}#PureChatWidget.purechat .purechat-content-wrapper em,#PureChatWidget.purechat .purechat-content-wrapper em > a{font-style:italic !important}#PureChatWidget.purechat .purechat-content-wrapper del,#PureChatWidget.purechat .purechat-content-wrapper del > a{text-decoration:line-through !important}#PureChatWidget.purechat .purechat-content-wrapper [data-resourcekey] p img{max-width:100% !important}#PureChatWidget.purechat .purechat-content-wrapper:before{box-shadow:0 0 10px rgba(0,0,0,0.2) !important;content:\'\' !important;height:10px !important;left:0 !important;position:absolute !important;top:-10px !important;width:100% !important}#PureChatWidget.purechat .purechat-content{flex-grow:1 !important;flex-shrink:1 !important;flex-basis:auto !important}#PureChatWidget.purechat .purechat-message-display-container{height:370px !important;min-height:370px !important;position:relative !important}#PureChatWidget.purechat .purechat-message-display{padding:10px !important;margin-bottom:15px !important;overflow-y:auto !important;overflow-x:hidden !important}#PureChatWidget.purechat.purechat-state-inactive.purechat-widget-expanded .purechat-message-display{overflow:hidden !important}#PureChatWidget.purechat.purechat-state-closed .purechat-message-display{margin-bottom:0 !important}#PureChatWidget.purechat .purechat-messages{flex-grow:1 !important;flex-shrink:1 !important}#PureChatWidget.purechat .purechat-disconnect{background:rgba(0,0,0,0.8) !important;border-bottom-left-radius:8px !important;border-bottom-right-radius:8px !important;bottom:0 !important;height:100% !important;left:0 !important;position:absolute !important;right:0 !important;top:0 !important;width:100% !important;z-index:99999 !important}#PureChatWidget.purechat .purechat-disconnect svg{animation:purechat-pulsate 3s ease-in-out infinite both !important;color:#fff !important;position:absolute !important;top:calc(50% - 25px) !important;left:calc(50% - 25px) !important;width:50px !important;height:50px !important}#PureChatWidget.purechat .purechat-user-status{margin-top:-25px !important;position:absolute !important;text-align:center !important;width:100% !important}#PureChatWidget.purechat .purechat-user-status span{background-color:var(--purechat-s-bg) !important;border-top-left-radius:3px !important;border-top-right-radius:3px !important;color:var(--purechat-s-fg) !important;display:inline-block !important;font-size:12px !important;padding:5px 7px !important;text-align:center !important}#PureChatWidget.purechat.purechat-state-unavailable .purechat-closedmessage-container.purechat-no-operators{color:var(--purechat-s-fg) !important;padding:1rem !important;text-align:center !important}#PureChatWidget.purechat .purechat-collapsed-image{cursor:pointer !important}#PureChatWidget.purechat .purechat-thumbs-container{text-align:center !important}#PureChatWidget.purechat .purechat-thumbs{display:inline-block !important;margin-bottom:10px !important}#PureChatWidget.purechat .purechat-thumbs + .purechat-thumbs{margin-left:10px !important}#PureChatWidget.purechat .purechat-message-note .purechat-poweredby-text,#PureChatWidget.purechat .purechat-message-note .purechat-poweredby-link{font-size:10px !important}#PureChatWidget.purechat .purechat-ended-form a:not(.purechat-btn),#PureChatWidget.purechat .purechat-download-container a:not(.purechat-btn){color:var(--purechat-s-fg) !important}#PureChatWidget.purechat .purechat-ended-form a:hover,#PureChatWidget.purechat .purechat-download-container a:hover{color:var(--purechat-s-fg-d) !important}#PureChatWidget.purechat .purechat-feedback-form{text-align:center}#PureChatWidget.purechat .purechat-email-success{background:var(--purechat-s-bg-l) !important;margin:10px 10px 0 !important;padding:10px !important;border-radius:5px !important;box-shadow:1px 2px 3px 1px #d9d8d7 !important}#PureChatWidget.purechat .purechat-btn{background-color:var(--purechat-btn-bg) !important;border-radius:5px !important;box-shadow:2px 2px 3px rgba(0,0,0,0.2) !important;color:var(--purechat-btn-fg) !important}#PureChatWidget.purechat .purechat-btn.purechat-btn-ghost{background-color:transparent !important;border:solid 1px var(--purechat-btn-bg) !important;box-shadow:none !important;color:var(--purechat-btn-bg) !important}#PureChatWidget.purechat a.purechat-btn,#PureChatWidget.purechat a.purechat-btn:hover{color:var(--purechat-btn-fg) !important;text-align:center !important;text-decoration:none !important}#PureChatWidget.purechat .purechat-btn i{background-color:var(--purechat-btn-bg) !important;color:var(--purechat-btn-fg) !important}#PureChatWidget.purechat .purechat-label{color:var(--purechat-s-fg) !important}#PureChatWidget.purechat .purechat-message-preview.purechat-message-note{margin-bottom:10px !important;max-width:calc(100% - 100px) !important;position:absolute !important;padding:11px 18px !important;background-color:#fff !important}#PureChatWidget.purechat.purechat-bottom .purechat-message-preview{bottom:40px !important}#PureChatWidget.purechat.purechat-top .purechat-message-preview{top:38px !important}#PureChatWidget.purechat.purechat-top.purechat-attached .purechat-message-preview{top:28px !important}#PureChatWidget.purechat.purechat-top.purechat-attached .purechat-message-preview{top:28px !important}#PureChatWidget.purechat.purechat-top-left .purechat-message-preview{right:0 !important}#PureChatWidget.purechat.purechat-bottom-left .purechat-message-preview{right:0 !important}#PureChatWidget.purechat.purechat-widget-collapsed{border-radius:5px !important}#PureChatWidget.purechat.purechat-widget-collapsed .purechat-collapsed-image{background-position:center center !important;background-repeat:no-repeat !important;background-size:contain !important;left:50% !important;position:absolute !important;transform:translateX(-50%) !important}#PureChatWidget.purechat.purechat-widget-collapsed.purechat-top .purechat-collapsed-image{bottom:0 !important}#PureChatWidget.purechat.purechat-widget-collapsed.purechat-top .purechat-badge{bottom:-4px !important;top:auto !important}#PureChatWidget.purechat.purechat-widget-collapsed .purechat-message-preview.purechat-message-note{margin-left:0 !important;margin-right:0 !important}#PureChatWidget.purechat.purechat-widget-collapsed.purechat-custom-button.purechat-style-classic{display:none !important}#PureChatWidget.purechat.purechat-widget-super-collapsed.purechat-bottom-right,#PureChatWidget.purechat.purechat-widget-super-collapsed.purechat-bottom-left{bottom:-30px !important}#PureChatWidget.purechat.purechat-widget-super-collapsed.purechat-top-right,#PureChatWidget.purechat.purechat-widget-super-collapsed.purechat-top-left{top:-30px !important}#PureChatWidget.purechat.purechat-widget-super-collapsed.purechat-style-classic.purechat-bottom-right,#PureChatWidget.purechat.purechat-widget-super-collapsed.purechat-style-classic.purechat-bottom-left{bottom:-45px !important}#PureChatWidget.purechat.purechat-widget-super-collapsed.purechat-style-classic.purechat-top-right,#PureChatWidget.purechat.purechat-widget-super-collapsed.purechat-style-classic.purechat-top-left{top:-45px !important}#PureChatWidget.purechat.purechat-widget-super-collapsed .purechat-btn,#PureChatWidget.purechat.purechat-widget-super-collapsed .purechat-widget-title-link{visibility:hidden !important}#PureChatWidget.purechat.purechat-widget-super-collapsed .purechat-collapsed-image{display:none !important}#PureChatWidget.purechat.purechat-widget-super-collapsed .purechat-btn-collapse{border:none !important;bottom:25px !important;box-shadow:none !important;display:inline-block !important;margin-left:5px !important;padding:8px !important;position:absolute !important;right:14px !important;visibility:visible !important}#PureChatWidget.purechat.purechat-widget-super-collapsed.purechat-top-left .purechat-btn-collapse,#PureChatWidget.purechat.purechat-widget-super-collapsed.purechat-bottom-left .purechat-btn-collapse{left:24px !important;margin-left:0 !important;right:auto !important}#PureChatWidget.purechat.purechat-widget-super-collapsed.purechat-top .purechat-btn-collapse{bottom:-42px !important}#PureChatWidget.purechat.purechat-widget-super-collapsed.purechat-top .purechat-badge{bottom:-12px !important;top:auto !important}#PureChatWidget.purechat.purechat-widget-super-collapsed .purechat-start-chat .purechat-badge{display:none !important}#PureChatWidget.purechat.purechat-widget-expanded.purechat-top-left{top:30px !important}#PureChatWidget.purechat.purechat-widget-expanded.purechat-top-right{top:30px !important}#PureChatWidget.purechat.purechat-widget-expanded.purechat-state-inactive .purechat-message-list-view{flex-basis:100% !important}#PureChatWidget.purechat.purechat-hosted-widget{margin:0 auto !important;position:static !important}#PureChatWidget.purechat.purechat-hosted-widget.purechat-style-mobile{width:auto !important}@media print{#PureChatWidget.purechat,#PureChatWidget.purechat *{display:none !important}}#PureChatWidget.purechat.purechat-attached.purechat-widget-collapsed.purechat-bottom-left .purechat-content-wrapper,#PureChatWidget.purechat.purechat-attached.purechat-widget-super-collapsed.purechat-bottom-left .purechat-content-wrapper{border-bottom-left-radius:0 !important;border-bottom-right-radius:0 !important}#PureChatWidget.purechat.purechat-attached.purechat-widget-collapsed.purechat-bottom-right .purechat-content-wrapper,#PureChatWidget.purechat.purechat-attached.purechat-widget-super-collapsed.purechat-bottom-right .purechat-content-wrapper{border-bottom-left-radius:0 !important;border-bottom-right-radius:0 !important}#PureChatWidget.purechat.purechat-attached.purechat-widget-collapsed.purechat-bottom-left,#PureChatWidget.purechat.purechat-attached.purechat-widget-super-collapsed.purechat-bottom-left,#PureChatWidget.purechat.purechat-attached.purechat-widget-collapsed.purechat-bottom-right,#PureChatWidget.purechat.purechat-attached.purechat-widget-super-collapsed.purechat-bottom-right{border-bottom-left-radius:0 !important;border-bottom-right-radius:0 !important}#PureChatWidget.purechat.purechat-attached.purechat-widget-collapsed.purechat-top-left,#PureChatWidget.purechat.purechat-attached.purechat-widget-super-collapsed.purechat-top-left,#PureChatWidget.purechat.purechat-attached.purechat-widget-collapsed.purechat-top-right,#PureChatWidget.purechat.purechat-attached.purechat-widget-super-collapsed.purechat-top-right{border-top-left-radius:0 !important;border-top-right-radius:0 !important}#PureChatWidget.purechat.purechat-attached.purechat-widget-collapsed.purechat-top-left.purechat-style-classic,#PureChatWidget.purechat.purechat-attached.purechat-widget-super-collapsed.purechat-top-left.purechat-style-classic,#PureChatWidget.purechat.purechat-attached.purechat-widget-collapsed.purechat-top-right.purechat-style-classic,#PureChatWidget.purechat.purechat-attached.purechat-widget-super-collapsed.purechat-top-right.purechat-style-classic{border-top:0 !important}#PureChatWidget.purechat.purechat-attached.purechat-widget-collapsed.purechat-bottom{bottom:0 !important;border-bottom:0 !important}#PureChatWidget.purechat.purechat-attached.purechat-widget-collapsed.purechat-bottom .purechat-widget-header{border-bottom-left-radius:0 !important;border-bottom-right-radius:0 !important}#PureChatWidget.purechat.purechat-attached.purechat-widget-collapsed.purechat-top{top:0 !important;border-top:0 !important}#PureChatWidget.purechat.purechat-attached.purechat-widget-expanded.purechat-bottom{bottom:0 !important;border-bottom-left-radius:0 !important;border-bottom-right-radius:0 !important}#PureChatWidget.purechat.purechat-attached.purechat-widget-expanded.purechat-bottom .purechat-content-wrapper,#PureChatWidget.purechat.purechat-attached.purechat-widget-expanded.purechat-bottom .purechat-widget-header,#PureChatWidget.purechat.purechat-attached.purechat-widget-expanded.purechat-bottom .purechat-footer{border-bottom-left-radius:0 !important;border-bottom-right-radius:0 !important}#PureChatWidget.purechat.purechat-attached.purechat-bottom .purechat-message-preview{bottom:45px !important;left:-10px !important}#PureChatWidget.purechat.purechat-attached.purechat-top .purechat-message-preview{top:35px !important}#PureChatWidget.purechat.purechat-image-only.purechat-top-left .purechat-message-preview,#PureChatWidget.purechat.purechat-image-only.purechat-top-right .purechat-message-preview{top:7px !important}#PureChatWidget.purechat.purechat-image-only.purechat-widget-collapsed.purechat-bottom-right .purechat-collapsed-image,#PureChatWidget.purechat.purechat-image-only.purechat-widget-collapsed.purechat-top-right .purechat-collapsed-image{left:auto !important;right:-20px !important;transform:none !important}#PureChatWidget.purechat.purechat-image-only.purechat-widget-collapsed.purechat-bottom-left .purechat-collapsed-image,#PureChatWidget.purechat.purechat-image-only.purechat-widget-collapsed.purechat-top-left .purechat-collapsed-image{left:0 !important;right:auto !important;transform:none !important}#PureChatWidget.purechat.purechat-image-only.purechat-widget-collapsed.purechat-style-classic{border:none 0 !important}#PureChatWidget.purechat.purechat-popped-out-widget{border-radius:0 !important;bottom:0 !important;display:flex !important;flex-direction:column !important;height:auto !important;max-height:calc(100% - 24px) !important;width:100% !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-display-none{display:none !important}#PureChatWidget.purechat.purechat-popped-out-widget .purechat-message-display-container{height:auto !important;min-height:initial !important}#PureChatWidget.purechat.purechat-popped-out-widget .purechat-message-preview.purechat-message-note{padding:20px 18px !important}#PureChatWidget.purechat.purechat-popped-out-widget .purechat-question-input{overflow-x:hidden !important;resize:none !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed{border-radius:8px !important;width:auto !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed.purechat-bottom,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed.purechat-bottom{bottom:10px !important;left:16px !important;right:16px !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed.purechat-bottom .purechat-collapsed-image,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed.purechat-bottom .purechat-collapsed-image{bottom:62px !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed.purechat-bottom .purechat-collapsed-image .purechat-missed-message-count,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed.purechat-bottom .purechat-collapsed-image .purechat-missed-message-count{top:6px !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed.purechat-bottom .purechat-message-preview,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed.purechat-bottom .purechat-message-preview{bottom:60px !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed.purechat-top,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed.purechat-top{top:10px !important;left:16px !important;right:16px !important;bottom:auto !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed.purechat-top .purechat-collapsed-image,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed.purechat-top .purechat-collapsed-image{top:62px !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed.purechat-top .purechat-collapsed-image .purechat-missed-message-count,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed.purechat-top .purechat-collapsed-image .purechat-missed-message-count{bottom:6px !important;top:auto !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed.purechat-top .purechat-message-preview,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed.purechat-top .purechat-message-preview{top:68px !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed.purechat-top-left .purechat-btn-collapse,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed.purechat-top-left .purechat-btn-collapse,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed.purechat-bottom-left .purechat-btn-collapse,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed.purechat-bottom-left .purechat-btn-collapse{left:14px !important;margin-left:0 !important;right:auto !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed .purechat-widget-header,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed .purechat-widget-header{height:auto !important;padding-left:11px !important;padding-right:11px !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed .purechat-widget-header .purechat-menu.purechat-btn-toolbar,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed .purechat-widget-header .purechat-menu.purechat-btn-toolbar{min-height:40px !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed .purechat-widget-header .purechat-btn,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed .purechat-widget-header .purechat-btn{padding:7px 7px 6px 7px !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed .purechat-widget-header .purechat-widget-title,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed .purechat-widget-header .purechat-widget-title{margin-left:-8px !important;margin-bottom:-8px !important;margin-top:-8px !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed .purechat-widget-header .purechat-widget-title-link,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed .purechat-widget-header .purechat-widget-title-link{padding-bottom:18px !important;padding-left:17px !important;padding-top:19px !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-collapsed.purechat-top .purechat-badge{bottom:-12px !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed.purechat-bottom{bottom:-54px !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed.purechat-bottom .purechat-btn-collapse{bottom:46px !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed.purechat-top{top:-54px !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed.purechat-top .purechat-btn-collapse{top:50px !important;bottom:auto !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-super-collapsed.purechat-invisible .purechat-btn-collapse{display:none !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded{left:0 !important;right:0 !important;top:auto !important;z-index:2147483647 !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-style-classic{box-sizing:border-box !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded .purechat-content-wrapper,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded .purechat-footer{border-radius:0 !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-chatting,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-inactive{bottom:0 !important;height:calc(100% - 24px) !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-chatting .purechat-expanded,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-inactive .purechat-expanded,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-chatting .purechat-collapsed-outer,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-inactive .purechat-collapsed-outer,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-chatting .purechat-widget-inner,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-inactive .purechat-widget-inner,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-chatting .purechat-widget-content-wrapper,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-inactive .purechat-widget-content-wrapper,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-chatting .purechat-window-content.purechat-content,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-inactive .purechat-window-content.purechat-content,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-chatting .purechat-message-list-view,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-inactive .purechat-message-list-view,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-chatting .purechat-messages,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-inactive .purechat-messages,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-chatting .purechat-message-display-container,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-inactive .purechat-message-display-container{height:100% !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-chatting .purechat-message-display-container,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-inactive .purechat-message-display-container,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-chatting .purechat-start-chat-formauto,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-inactive .purechat-start-chat-formauto,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-chatting .purechat-start-chat-formauto .purechat-widget-content.purechat-mobile,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-inactive .purechat-start-chat-formauto .purechat-widget-content.purechat-mobile{display:flex !important;flex-grow:1 !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-chatting .purechat-start-chat-formauto .purechat-widget-content.purechat-mobile,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-inactive .purechat-start-chat-formauto .purechat-widget-content.purechat-mobile{flex-direction:column !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-chatting .purechat-content-wrapper,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-inactive .purechat-content-wrapper{height:calc(100% - 35px) !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-chatting .purechat-message-display-container,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-inactive .purechat-message-display-container{min-height:0 !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded.purechat-state-closed .purechat-message-display-container{height:100% !important;min-height:1px !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-widget-expanded .purechat-window-content.purechat-content .purechat-widget-content{width:100% !important}#PureChatWidget.purechat.purechat-popped-out-widget .purechat-card{overflow-y:auto !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-has-image .purechat-message-display-container{height:auto !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-has-image .purechat-collapsed-image{background-size:contain !important;background-repeat:no-repeat !important;background-position:center center !important;display:block !important;height:75px !important;position:absolute !important;width:75px !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-has-image.purechat-widget-super-collapsed.purechat-top-right .purechat-collapsed-image,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-has-image.purechat-widget-collapsed.purechat-top-right .purechat-collapsed-image,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-has-image.purechat-widget-super-collapsed.purechat-bottom-right .purechat-collapsed-image,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-has-image.purechat-widget-collapsed.purechat-bottom-right .purechat-collapsed-image{right:8px !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-has-image.purechat-widget-super-collapsed.purechat-top-left .purechat-collapsed-image,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-has-image.purechat-widget-collapsed.purechat-top-left .purechat-collapsed-image,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-has-image.purechat-widget-super-collapsed.purechat-bottom-left .purechat-collapsed-image,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-has-image.purechat-widget-collapsed.purechat-bottom-left .purechat-collapsed-image{left:8px !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-has-image.purechat-widget-super-collapsed.purechat-has-image .purechat-btn-collapse,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-has-image.purechat-widget-collapsed.purechat-has-image .purechat-btn-collapse{display:none !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-has-image.purechat-widget-super-collapsed.purechat-top .purechat-badge,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-has-image.purechat-widget-collapsed.purechat-top .purechat-badge{bottom:-12px !important;top:auto !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-has-image.purechat-widget-collapsed.purechat-bottom{bottom:10px !important;left:10px !important;right:10px !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-has-image.purechat-widget-collapsed .purechat-collapsed-image{display:none !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image .purechat-collapsed-image{bottom:-2px !important;height:75px !important;left:auto !important;position:absolute !important;transform:none !important;right:8px !important;width:75px !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image .purechat-collapsed-image .purechat-missed-message-count{top:0 !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-top .purechat-collapsed-image{bottom:auto !important;top:-2px !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-top-left .purechat-collapsed-image,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-bottom-left .purechat-collapsed-image{left:8px !important;right:auto !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-bottom .purechat-message-preview{bottom:-5px !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-top .purechat-message-preview{top:-5px !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-widget-super-collapsed.purechat-top .purechat-collapsed-image,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-widget-collapsed.purechat-top .purechat-collapsed-image{top:-2px !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-widget-super-collapsed.purechat-top .purechat-badge,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-widget-collapsed.purechat-top .purechat-badge{bottom:8px !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-widget-super-collapsed.purechat-bottom .purechat-collapsed-image,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-widget-collapsed.purechat-bottom .purechat-collapsed-image{bottom:-2px !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-widget-super-collapsed .purechat-collapsed-image,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-widget-collapsed .purechat-collapsed-image{display:block !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-widget-super-collapsed .purechat-start-chat .purechat-badge{display:none !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-widget-super-collapsed .purechat-widget-header .purechat-menu.purechat-btn-toolbar{display:none !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-widget-super-collapsed .purechat-widget-header .purechat-widget-title{display:none !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-widget-collapsed.purechat-bottom{bottom:10px !important;left:10px !important;right:10px !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-widget-expanded{left:0 !important;right:0 !important;top:auto !important;z-index:2147483646 !important}#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-widget-expanded .purechat-content-wrapper,#PureChatWidget.purechat.purechat-popped-out-widget.purechat-image-only.purechat-has-image.purechat-widget-expanded .purechat-footer{border-radius:0 !important}#PureChatWidget.purechat.purechat-button-available,#PureChatWidget.purechat.purechat-button-unavailable{padding:0 !important}#PureChatWidget.purechat img.emoji{display:inline-block !important;height:1em !important;margin:0 .05em 0 .1em !important;vertical-align:-.1em !important;width:1em !important}#PureChatWidget.purechat .purechat-emoji-button img.emoji{height:18px !important;width:18px !important}#PureChatWidget.purechat .purechat-message .twitter-tweet{display:none !important}#PureChatWidget.purechat .purechat-message .twitter-tweet.twitter-tweet-rendered{display:block !important}#PureChatWidget.purechat .purechat-message .twitter-tweet.twitter-tweet-rendered + script + .purechat-loading{display:none !important}[dir="rtl"] #PureChatWidget.purechat .purechat-widget-header .purechat-btn{margin-left:0 !important;margin-right:9px !important}[dir="rtl"] #PureChatWidget.purechat .purechat-collapsed .purechat-widget-header .purechat-btn{margin-right:5px !important}[dir="rtl"] #PureChatWidget.purechat .purechat-widget-title-link{padding-left:0 !important;padding-right:7px !important}[dir="rtl"] #PureChatWidget.purechat .purechat-poweredby{text-align:left !important}[dir="rtl"] #PureChatWidget.purechat .purechat-unfurl-favicon{max-width:100% !important;margin-left:6px !important;margin-right:0 !important}[dir="rtl"] #PureChatWidget.purechat .purechat-unfurl-link .purechat-unfurl-link-container{text-align:left !important}[dir="rtl"] #PureChatWidget.purechat .purechat-unfurl-link .purechat-unfurl-media{margin-left:10px !important;margin-right:0 !important}',""]),e.Z=p},3476:function(t){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i="",r=void 0!==e[5];return e[4]&&(i+="@supports (".concat(e[4],") {")),e[2]&&(i+="@media ".concat(e[2]," {")),r&&(i+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),i+=t(e),r&&(i+="}"),e[2]&&(i+="}"),e[4]&&(i+="}"),i})).join("")},e.i=function(t,i,r,n,a){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(o[c]=!0)}for(var l=0;l<t.length;l++){var p=[].concat(t[l]);r&&o[p[0]]||(void 0!==a&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=a),i&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=i):p[2]=i),n&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=n):p[4]="".concat(n)),e.push(p))}},e}},1678:function(t){"use strict";t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},4933:function(t){"use strict";t.exports=function(t){return t[1]}},1892:function(t){"use strict";var e=[];function i(t){for(var i=-1,r=0;r<e.length;r++)if(e[r].identifier===t){i=r;break}return i}function r(t,r){for(var a={},o=[],s=0;s<t.length;s++){var c=t[s],l=r.base?c[0]+r.base:c[0],p=a[l]||0,u="".concat(l," ").concat(p);a[l]=p+1;var h=i(u),d={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==h)e[h].references++,e[h].updater(d);else{var g=n(d,r);r.byIndex=s,e.splice(s,0,{identifier:u,updater:g,references:1})}o.push(u)}return o}function n(t,e){var i=e.domAPI(e);return i.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;i.update(t=e)}else i.remove()}}t.exports=function(t,n){var a=r(t=t||[],n=n||{});return function(t){t=t||[];for(var o=0;o<a.length;o++){var s=i(a[o]);e[s].references--}for(var c=r(t,n),l=0;l<a.length;l++){var p=i(a[l]);0===e[p].references&&(e[p].updater(),e.splice(p,1))}a=c}}},8311:function(t){"use strict";var e={};t.exports=function(t,i){var r=function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(i)}},8060:function(t){"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},1615:function(t){"use strict";t.exports=function(t,e){Object.keys(e).forEach((function(i){t.setAttribute(i,e[i])}))}},5760:function(t){"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(i){!function(t,e,i){var r="";i.supports&&(r+="@supports (".concat(i.supports,") {")),i.media&&(r+="@media ".concat(i.media," {"));var n=void 0!==i.layer;n&&(r+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),r+=i.css,n&&(r+="}"),i.media&&(r+="}"),i.supports&&(r+="}");var a=i.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,i)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},4865:function(t){"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},3198:function(t,e,i){var r;!function(n){var a=/^\s+/,o=/\s+$/,s=0,c=n.round,l=n.min,p=n.max,u=n.random;function h(t,e){if(e=e||{},(t=t||"")instanceof h)return t;if(!(this instanceof h))return new h(t,e);var i=function(t){var e,i,r,s={r:0,g:0,b:0},c=1,u=null,h=null,d=null,g=!1,m=!1;return"string"==typeof t&&(t=function(t){t=t.replace(a,"").replace(o,"").toLowerCase();var e,i=!1;if(R[t])t=R[t],i=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=F.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=F.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=F.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=F.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=F.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=F.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=F.hex8.exec(t))?{r:W(e[1]),g:W(e[2]),b:W(e[3]),a:B(e[4]),format:i?"name":"hex8"}:(e=F.hex6.exec(t))?{r:W(e[1]),g:W(e[2]),b:W(e[3]),format:i?"name":"hex"}:(e=F.hex4.exec(t))?{r:W(e[1]+""+e[1]),g:W(e[2]+""+e[2]),b:W(e[3]+""+e[3]),a:B(e[4]+""+e[4]),format:i?"name":"hex8"}:!!(e=F.hex3.exec(t))&&{r:W(e[1]+""+e[1]),g:W(e[2]+""+e[2]),b:W(e[3]+""+e[3]),format:i?"name":"hex"}}(t)),"object"==typeof t&&(H(t.r)&&H(t.g)&&H(t.b)?(e=t.r,i=t.g,r=t.b,s={r:255*E(e,255),g:255*E(i,255),b:255*E(r,255)},g=!0,m="%"===String(t.r).substr(-1)?"prgb":"rgb"):H(t.h)&&H(t.s)&&H(t.v)?(u=N(t.s),h=N(t.v),s=function(t,e,i){t=6*E(t,360),e=E(e,100),i=E(i,100);var r=n.floor(t),a=t-r,o=i*(1-e),s=i*(1-a*e),c=i*(1-(1-a)*e),l=r%6;return{r:255*[i,s,o,o,c,i][l],g:255*[c,i,i,s,o,o][l],b:255*[o,o,c,i,i,s][l]}}(t.h,u,h),g=!0,m="hsv"):H(t.h)&&H(t.s)&&H(t.l)&&(u=N(t.s),d=N(t.l),s=function(t,e,i){var r,n,a;function o(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}if(t=E(t,360),e=E(e,100),i=E(i,100),0===e)r=n=a=i;else{var s=i<.5?i*(1+e):i+e-i*e,c=2*i-s;r=o(c,s,t+1/3),n=o(c,s,t),a=o(c,s,t-1/3)}return{r:255*r,g:255*n,b:255*a}}(t.h,u,d),g=!0,m="hsl"),t.hasOwnProperty("a")&&(c=t.a)),c=A(c),{ok:g,format:t.format||m,r:l(255,p(s.r,0)),g:l(255,p(s.g,0)),b:l(255,p(s.b,0)),a:c}}(t);this._originalInput=t,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=c(100*this._a)/100,this._format=e.format||i.format,this._gradientType=e.gradientType,this._r<1&&(this._r=c(this._r)),this._g<1&&(this._g=c(this._g)),this._b<1&&(this._b=c(this._b)),this._ok=i.ok,this._tc_id=s++}function d(t,e,i){t=E(t,255),e=E(e,255),i=E(i,255);var r,n,a=p(t,e,i),o=l(t,e,i),s=(a+o)/2;if(a==o)r=n=0;else{var c=a-o;switch(n=s>.5?c/(2-a-o):c/(a+o),a){case t:r=(e-i)/c+(e<i?6:0);break;case e:r=(i-t)/c+2;break;case i:r=(t-e)/c+4}r/=6}return{h:r,s:n,l:s}}function g(t,e,i){t=E(t,255),e=E(e,255),i=E(i,255);var r,n,a=p(t,e,i),o=l(t,e,i),s=a,c=a-o;if(n=0===a?0:c/a,a==o)r=0;else{switch(a){case t:r=(e-i)/c+(e<i?6:0);break;case e:r=(i-t)/c+2;break;case i:r=(t-e)/c+4}r/=6}return{h:r,s:n,v:s}}function m(t,e,i,r){var n=[D(c(t).toString(16)),D(c(e).toString(16)),D(c(i).toString(16))];return r&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function f(t,e,i,r){return[D(U(r)),D(c(t).toString(16)),D(c(e).toString(16)),D(c(i).toString(16))].join("")}function b(t,e){e=0===e?0:e||10;var i=h(t).toHsl();return i.s-=e/100,i.s=O(i.s),h(i)}function y(t,e){e=0===e?0:e||10;var i=h(t).toHsl();return i.s+=e/100,i.s=O(i.s),h(i)}function v(t){return h(t).desaturate(100)}function w(t,e){e=0===e?0:e||10;var i=h(t).toHsl();return i.l+=e/100,i.l=O(i.l),h(i)}function _(t,e){e=0===e?0:e||10;var i=h(t).toRgb();return i.r=p(0,l(255,i.r-c(-e/100*255))),i.g=p(0,l(255,i.g-c(-e/100*255))),i.b=p(0,l(255,i.b-c(-e/100*255))),h(i)}function C(t,e){e=0===e?0:e||10;var i=h(t).toHsl();return i.l-=e/100,i.l=O(i.l),h(i)}function x(t,e){var i=h(t).toHsl(),r=(i.h+e)%360;return i.h=r<0?360+r:r,h(i)}function k(t){var e=h(t).toHsl();return e.h=(e.h+180)%360,h(e)}function j(t){var e=h(t).toHsl(),i=e.h;return[h(t),h({h:(i+120)%360,s:e.s,l:e.l}),h({h:(i+240)%360,s:e.s,l:e.l})]}function I(t){var e=h(t).toHsl(),i=e.h;return[h(t),h({h:(i+90)%360,s:e.s,l:e.l}),h({h:(i+180)%360,s:e.s,l:e.l}),h({h:(i+270)%360,s:e.s,l:e.l})]}function S(t){var e=h(t).toHsl(),i=e.h;return[h(t),h({h:(i+72)%360,s:e.s,l:e.l}),h({h:(i+216)%360,s:e.s,l:e.l})]}function P(t,e,i){e=e||6,i=i||30;var r=h(t).toHsl(),n=360/i,a=[h(t)];for(r.h=(r.h-(n*e>>1)+720)%360;--e;)r.h=(r.h+n)%360,a.push(h(r));return a}function T(t,e){e=e||6;for(var i=h(t).toHsv(),r=i.h,n=i.s,a=i.v,o=[],s=1/e;e--;)o.push(h({h:r,s:n,v:a})),a=(a+s)%1;return o}h.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,i,r=this.toRgb();return t=r.r/255,e=r.g/255,i=r.b/255,.2126*(t<=.03928?t/12.92:n.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:n.pow((e+.055)/1.055,2.4))+.0722*(i<=.03928?i/12.92:n.pow((i+.055)/1.055,2.4))},setAlpha:function(t){return this._a=A(t),this._roundA=c(100*this._a)/100,this},toHsv:function(){var t=g(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=g(this._r,this._g,this._b),e=c(360*t.h),i=c(100*t.s),r=c(100*t.v);return 1==this._a?"hsv("+e+", "+i+"%, "+r+"%)":"hsva("+e+", "+i+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=d(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=d(this._r,this._g,this._b),e=c(360*t.h),i=c(100*t.s),r=c(100*t.l);return 1==this._a?"hsl("+e+", "+i+"%, "+r+"%)":"hsla("+e+", "+i+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return m(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,i,r,n){var a=[D(c(t).toString(16)),D(c(e).toString(16)),D(c(i).toString(16)),D(U(r))];return n&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:c(this._r),g:c(this._g),b:c(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+c(this._r)+", "+c(this._g)+", "+c(this._b)+")":"rgba("+c(this._r)+", "+c(this._g)+", "+c(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:c(100*E(this._r,255))+"%",g:c(100*E(this._g,255))+"%",b:c(100*E(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+c(100*E(this._r,255))+"%, "+c(100*E(this._g,255))+"%, "+c(100*E(this._b,255))+"%)":"rgba("+c(100*E(this._r,255))+"%, "+c(100*E(this._g,255))+"%, "+c(100*E(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(M[m(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+f(this._r,this._g,this._b,this._a),i=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var n=h(t);i="#"+f(n._r,n._g,n._b,n._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+i+")"},toString:function(t){var e=!!t;t=t||this._format;var i=!1,r=this._a<1&&this._a>=0;return e||!r||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(i=this.toRgbString()),"prgb"===t&&(i=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(i=this.toHexString()),"hex3"===t&&(i=this.toHexString(!0)),"hex4"===t&&(i=this.toHex8String(!0)),"hex8"===t&&(i=this.toHex8String()),"name"===t&&(i=this.toName()),"hsl"===t&&(i=this.toHslString()),"hsv"===t&&(i=this.toHsvString()),i||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return h(this.toString())},_applyModification:function(t,e){var i=t.apply(null,[this].concat([].slice.call(e)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(w,arguments)},brighten:function(){return this._applyModification(_,arguments)},darken:function(){return this._applyModification(C,arguments)},desaturate:function(){return this._applyModification(b,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(v,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(P,arguments)},complement:function(){return this._applyCombination(k,arguments)},monochromatic:function(){return this._applyCombination(T,arguments)},splitcomplement:function(){return this._applyCombination(S,arguments)},triad:function(){return this._applyCombination(j,arguments)},tetrad:function(){return this._applyCombination(I,arguments)}},h.fromRatio=function(t,e){if("object"==typeof t){var i={};for(var r in t)t.hasOwnProperty(r)&&(i[r]="a"===r?t[r]:N(t[r]));t=i}return h(t,e)},h.equals=function(t,e){return!(!t||!e)&&h(t).toRgbString()==h(e).toRgbString()},h.random=function(){return h.fromRatio({r:u(),g:u(),b:u()})},h.mix=function(t,e,i){i=0===i?0:i||50;var r=h(t).toRgb(),n=h(e).toRgb(),a=i/100;return h({r:(n.r-r.r)*a+r.r,g:(n.g-r.g)*a+r.g,b:(n.b-r.b)*a+r.b,a:(n.a-r.a)*a+r.a})},h.readability=function(t,e){var i=h(t),r=h(e);return(n.max(i.getLuminance(),r.getLuminance())+.05)/(n.min(i.getLuminance(),r.getLuminance())+.05)},h.isReadable=function(t,e,i){var r,n,a,o,s,c=h.readability(t,e);switch(n=!1,(a=i,"AA"!==(o=((a=a||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==o&&(o="AA"),"small"!==(s=(a.size||"small").toLowerCase())&&"large"!==s&&(s="small"),r={level:o,size:s}).level+r.size){case"AAsmall":case"AAAlarge":n=c>=4.5;break;case"AAlarge":n=c>=3;break;case"AAAsmall":n=c>=7}return n},h.mostReadable=function(t,e,i){var r,n,a,o,s=null,c=0;n=(i=i||{}).includeFallbackColors,a=i.level,o=i.size;for(var l=0;l<e.length;l++)(r=h.readability(t,e[l]))>c&&(c=r,s=h(e[l]));return h.isReadable(t,s,{level:a,size:o})||!n?s:(i.includeFallbackColors=!1,h.mostReadable(t,["#fff","#000"],i))};var R=h.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},M=h.hexNames=function(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[t[i]]=i);return e}(R);function A(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function E(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var i=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=l(e,p(0,parseFloat(t))),i&&(t=parseInt(t*e,10)/100),n.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function O(t){return l(1,p(0,t))}function W(t){return parseInt(t,16)}function D(t){return 1==t.length?"0"+t:""+t}function N(t){return t<=1&&(t=100*t+"%"),t}function U(t){return n.round(255*parseFloat(t)).toString(16)}function B(t){return W(t)/255}var z,V,L,F=(V="[\\s|\\(]+("+(z="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+z+")[,|\\s]+("+z+")\\s*\\)?",L="[\\s|\\(]+("+z+")[,|\\s]+("+z+")[,|\\s]+("+z+")[,|\\s]+("+z+")\\s*\\)?",{CSS_UNIT:new RegExp(z),rgb:new RegExp("rgb"+V),rgba:new RegExp("rgba"+L),hsl:new RegExp("hsl"+V),hsla:new RegExp("hsla"+L),hsv:new RegExp("hsv"+V),hsva:new RegExp("hsva"+L),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function H(t){return!!F.CSS_UNIT.exec(t)}t.exports?t.exports=h:void 0===(r=function(){return h}.call(e,i,e,t))||(t.exports=r)}(Math)},2989:function(t,e,i){var r;!function(n,a){"use strict";var o="function",s="undefined",c="object",l="string",p="model",u="name",h="type",d="vendor",g="version",m="architecture",f="console",b="mobile",y="tablet",v="smarttv",w="wearable",_="embedded",C="Amazon",x="Apple",k="ASUS",j="BlackBerry",I="Google",S="Huawei",P="LG",T="Microsoft",R="Motorola",M="Samsung",A="Sony",E="Xiaomi",O="Zebra",W="Facebook",D=function(t){for(var e={},i=0;i<t.length;i++)e[t[i].toUpperCase()]=t[i];return e},N=function(t,e){return typeof t===l&&-1!==U(e).indexOf(U(t))},U=function(t){return t.toLowerCase()},B=function(t,e){if(typeof t===l)return t=t.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof e===s?t:t.substring(0,255)},z=function(t,e){for(var i,r,n,s,l,p,u=0;u<e.length&&!l;){var h=e[u],d=e[u+1];for(i=r=0;i<h.length&&!l;)if(l=h[i++].exec(t))for(n=0;n<d.length;n++)p=l[++r],typeof(s=d[n])===c&&s.length>0?2===s.length?typeof s[1]==o?this[s[0]]=s[1].call(this,p):this[s[0]]=s[1]:3===s.length?typeof s[1]!==o||s[1].exec&&s[1].test?this[s[0]]=p?p.replace(s[1],s[2]):a:this[s[0]]=p?s[1].call(this,p,s[2]):a:4===s.length&&(this[s[0]]=p?s[3].call(this,p.replace(s[1],s[2])):a):this[s]=p||a;u+=2}},V=function(t,e){for(var i in e)if(typeof e[i]===c&&e[i].length>0){for(var r=0;r<e[i].length;r++)if(N(e[i][r],t))return"?"===i?a:i}else if(N(e[i],t))return"?"===i?a:i;return t},L={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},F={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[u,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[u,g],[/opios[\/ ]+([\w\.]+)/i],[g,[u,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[g,[u,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[u,g],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[u,"UCBrowser"]],[/\bqbcore\/([\w\.]+)/i],[g,[u,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[g,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[u,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[u,"IE"]],[/yabrowser\/([\w\.]+)/i],[g,[u,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure Browser"],g],[/\bfocus\/([\w\.]+)/i],[g,[u,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[g,[u,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[u,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[u,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[g,[u,"Firefox"]],[/\bqihu|(qi?ho?o?|360)browser/i],[[u,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1 Browser"],g],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[u,g],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[u],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[u,W],g],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[u,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[u,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[u,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[u,"Chrome WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[u,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[u,g],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[g,[u,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[g,u],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[u,[g,V,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[u,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[u,"Netscape"],g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[u,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[u,g]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,U]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[m,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/windows (ce|mobile); ppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[m,/ower/,"",U]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[m,U]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[p,[d,M],[h,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[p,[d,M],[h,b]],[/\((ip(?:hone|od)[\w ]*);/i],[p,[d,x],[h,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[p,[d,x],[h,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[p,[d,S],[h,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[p,[d,S],[h,b]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[p,/_/g," "],[d,E],[h,b]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[p,/_/g," "],[d,E],[h,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[p,[d,"OPPO"],[h,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[p,[d,"Vivo"],[h,b]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[p,[d,"Realme"],[h,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[p,[d,R],[h,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[p,[d,R],[h,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[p,[d,P],[h,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[p,[d,P],[h,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[p,[d,"Lenovo"],[h,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[p,/_/g," "],[d,"Nokia"],[h,b]],[/(pixel c)\b/i],[p,[d,I],[h,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[p,[d,I],[h,b]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[p,[d,A],[h,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[p,"Xperia Tablet"],[d,A],[h,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[p,[d,"OnePlus"],[h,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[p,[d,C],[h,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[p,/(.+)/g,"Fire Phone $1"],[d,C],[h,b]],[/(playbook);[-\w\),; ]+(rim)/i],[p,d,[h,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[p,[d,j],[h,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[p,[d,k],[h,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[p,[d,k],[h,b]],[/(nexus 9)/i],[p,[d,"HTC"],[h,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[d,[p,/_/g," "],[h,b]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[p,[d,"Acer"],[h,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[p,[d,"Meizu"],[h,b]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[p,[d,"Sharp"],[h,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[d,p,[h,b]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[d,p,[h,y]],[/(surface duo)/i],[p,[d,T],[h,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[p,[d,"Fairphone"],[h,b]],[/(u304aa)/i],[p,[d,"AT&T"],[h,b]],[/\bsie-(\w*)/i],[p,[d,"Siemens"],[h,b]],[/\b(rct\w+) b/i],[p,[d,"RCA"],[h,y]],[/\b(venue[\d ]{2,7}) b/i],[p,[d,"Dell"],[h,y]],[/\b(q(?:mv|ta)\w+) b/i],[p,[d,"Verizon"],[h,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[p,[d,"Barnes & Noble"],[h,y]],[/\b(tm\d{3}\w+) b/i],[p,[d,"NuVision"],[h,y]],[/\b(k88) b/i],[p,[d,"ZTE"],[h,y]],[/\b(nx\d{3}j) b/i],[p,[d,"ZTE"],[h,b]],[/\b(gen\d{3}) b.+49h/i],[p,[d,"Swiss"],[h,b]],[/\b(zur\d{3}) b/i],[p,[d,"Swiss"],[h,y]],[/\b((zeki)?tb.*\b) b/i],[p,[d,"Zeki"],[h,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[d,"Dragon Touch"],p,[h,y]],[/\b(ns-?\w{0,9}) b/i],[p,[d,"Insignia"],[h,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[p,[d,"NextBook"],[h,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[d,"Voice"],p,[h,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[d,"LvTel"],p,[h,b]],[/\b(ph-1) /i],[p,[d,"Essential"],[h,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[p,[d,"Envizen"],[h,y]],[/\b(trio[-\w\. ]+) b/i],[p,[d,"MachSpeed"],[h,y]],[/\btu_(1491) b/i],[p,[d,"Rotor"],[h,y]],[/(shield[\w ]+) b/i],[p,[d,"Nvidia"],[h,y]],[/(sprint) (\w+)/i],[d,p,[h,b]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[d,T],[h,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[p,[d,O],[h,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[p,[d,O],[h,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[d,p,[h,f]],[/droid.+; (shield) bui/i],[p,[d,"Nvidia"],[h,f]],[/(playstation [345portablevi]+)/i],[p,[d,A],[h,f]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[p,[d,T],[h,f]],[/smart-tv.+(samsung)/i],[d,[h,v]],[/hbbtv.+maple;(\d+)/i],[[p,/^/,"SmartTV"],[d,M],[h,v]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[d,P],[h,v]],[/(apple) ?tv/i],[d,[p,"Apple TV"],[h,v]],[/crkey/i],[[p,"Chromecast"],[d,I],[h,v]],[/droid.+aft(\w)( bui|\))/i],[p,[d,C],[h,v]],[/\(dtv[\);].+(aquos)/i],[p,[d,"Sharp"],[h,v]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[d,B],[p,B],[h,v]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,v]],[/((pebble))app/i],[d,p,[h,w]],[/droid.+; (glass) \d/i],[p,[d,I],[h,w]],[/droid.+; (wt63?0{2,3})\)/i],[p,[d,O],[h,w]],[/(quest( 2)?)/i],[p,[d,W],[h,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[d,[h,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[p,[h,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[p,[h,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,y]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[h,b]],[/(android[-\w\. ]{0,9});.+buil/i],[p,[d,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[u,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[u,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,g],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[u,[g,V,L]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[u,"Windows"],[g,V,L]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[u,"Mac OS"],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[g,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[u,g],[/\(bb(10);/i],[g,[u,j]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[u,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[u,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[u,"webOS"]],[/crkey\/([\d\.]+)/i],[g,[u,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[u,"Chromium OS"],g],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[u,g],[/(sunos) ?([\w\.\d]*)/i],[[u,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[u,g]]},H=function(t,e){if(typeof t===c&&(e=t,t=a),!(this instanceof H))return new H(t,e).getResult();var i=t||(typeof n!==s&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:""),r=e?function(t,e){var i={};for(var r in t)e[r]&&e[r].length%2==0?i[r]=e[r].concat(t[r]):i[r]=t[r];return i}(F,e):F;return this.getBrowser=function(){var t,e={};return e.name=a,e.version=a,z.call(e,i,r.browser),e.major=typeof(t=e.version)===l?t.replace(/[^\d\.]/g,"").split(".")[0]:a,e},this.getCPU=function(){var t={};return t.architecture=a,z.call(t,i,r.cpu),t},this.getDevice=function(){var t={};return t.vendor=a,t.model=a,t.type=a,z.call(t,i,r.device),t},this.getEngine=function(){var t={};return t.name=a,t.version=a,z.call(t,i,r.engine),t},this.getOS=function(){var t={};return t.name=a,t.version=a,z.call(t,i,r.os),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(t){return i=typeof t===l&&t.length>255?B(t,255):t,this},this.setUA(i),this};H.VERSION="1.0.2",H.BROWSER=D([u,g,"major"]),H.CPU=D([m]),H.DEVICE=D([p,d,h,f,b,v,y,w,_]),H.ENGINE=H.OS=D([u,g]),typeof e!==s?(t.exports&&(e=t.exports=H),e.UAParser=H):i.amdO?(r=function(){return H}.call(e,i,e,t))===a||(t.exports=r):typeof n!==s&&(n.UAParser=H);var q=typeof n!==s&&(n.jQuery||n.Zepto);if(q&&!q.ua){var Z=new H;q.ua=Z.getResult(),q.ua.get=function(){return Z.getUA()},q.ua.set=function(t){Z.setUA(t);var e=Z.getResult();for(var i in e)q.ua[i]=e[i]}}}("object"==typeof window?window:this)},2704:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(7410);module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div data-resourcekey="closed_message">'+(null==(__t=obj.getResource("closed_message"))?"":__t)+"</div>\n",obj.AskForRating&&(__p+='\n<div class="purechat-thumbs-container">\n    <p data-resourcekey="closed_askForRating">'+(null==(__t=obj.getResource("closed_askForRating"))?"":_.escape(__t))+'</p>\n    <div class="purechat-thumbs purechat-thumbs-up purechat-thumbs-selectable purechat-btn purechat-btn-ghost">\n        '+(null==(__t=obj.getResource("closed_positiveRating"))?"":_.escape(__t))+'\n    </div>\n    <div class="purechat-thumbs purechat-thumbs-down purechat-thumbs-selectable purechat-btn purechat-btn-ghost">\n        '+(null==(__t=obj.getResource("closed_negativeRating"))?"":_.escape(__t))+'\n    </div>\n</div>\n<p class="purechat-rating-thanks"></p>\n'),__p+="\n",obj.AskForFeedback&&(__p+='\n<form class="purechat-feedback-form">\n    <textarea\n        class="purechat-feedback-input"\n        name="purechat-feeback-input"\n        id="purechat-feedback-input"\n        placeholder="'+(null==(__t=obj.getResource("closed_feedbackHint"))?"":_.escape(__t))+'"\n        rows="4"></textarea>\n    <button type="submit" class="purechat-btn">'+(null==(__t=obj.getResource("closed_feedbackButton"))?"":_.escape(__t))+'</button>\n</form>\n<p class="purechat-feedback-thanks"></p>\n'),__p+="\n\n",obj.CtaButton&&(__p+='\n<p class="purechat-form purechat-ended-form" action="">\n    <a href="'+(null==(__t=obj.ctaUrl())?"":__t)+'" data-resourcekey="button_cta" class="purechat-btn" target="_blank">'+(null==(__t=obj.getResource("button_cta"))?"":_.escape(__t))+"</a>\n</p>\n"),__p+="\n",obj.DownloadTranscript&&(__p+='\n<p class="purechat-download-container">\n    <a data-resourcekey="closed_downloadTrans" target="_blank" href="'+(null==(__t=obj.apiUrl)?"":__t)+"/api/VisitorWidget/Transcript?chatId="+(null==(__t=(obj.dataController||obj.oldDataController).connectionInfo.get("chatId"))?"":__t)+"&authToken="+(null==(__t=(obj.dataController||obj.oldDataController).connectionInfo.get("authToken"))?"":__t)+'">'+(null==(__t=obj.getResource("closed_downloadTrans"))?"":_.escape(__t))+"</a>\n</p>\n"),__p+="";return __p}},9261:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(7410);module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="purechat-enterinfo-container">\n\t<div data-resourcekey="noOperators_email_message">\n\t\t',obj.fromMissed?__p+="\n\t\t<p>"+(null==(__t=obj.Utils.linkify(_.escape(obj.getResource("emailForm_missed_response"))))?"":__t)+"</p>\n\t\t":__p+="\n\t\t"+(null==(__t=obj.getResource("emailForm_message"))?"":__t)+"\n\t\t",__p+='\n\t</div>\n</div>\n<form class="purechat-form purechat-email-form" action="">\n\t',obj.get("EmailFormAskForFirstName")&&(__p+='\n\t<p class="purechat-alert purechat-alert-error purechat-init-error purechat-init-error-inline please-enterfirstname purechat-display-none">'+(null==(__t=obj.getResource("error_enterFirstName"))?"":_.escape(__t))+'</p>\n    <input\n        type="text"\n        class="purechat-firstname-input"\n        autocomplete="off"\n        name="purechat-firstname-input"\n        id="purechat-emailform-firstname-input"\n        maxlength="200"\n        value="'+(null==(__t=obj.InitialVisitorFirstName)?"":_.escape(__t))+'"\n        placeholder="'+(null==(__t=obj.getResource("placeholder_firstName")+(obj.RequireFirstName?"*":""))?"":_.escape(__t))+'"\n        ',obj.RequireFirstName&&(__p+="required"),__p+=" />\n\t"),__p+="\n\t",obj.get("EmailFormAskForLastName")&&(__p+='\n\t<p class="purechat-alert purechat-alert-error purechat-init-error purechat-init-error-inline please-enterlastname purechat-display-none">'+(null==(__t=obj.getResource("error_enterLastName"))?"":_.escape(__t))+'</p>\n    <input\n        type="text"\n        class="purechat-lastname-input"\n        autocomplete="off"\n        name="purechat-lastname-input"\n        id="purechat-emailform-lastname-input"\n        maxlength="200"\n        value="'+(null==(__t=obj.InitialVisitorLastName)?"":_.escape(__t))+'"\n        placeholder="'+(null==(__t=obj.getResource("placeholder_lastName")+(obj.RequireLastName?"*":""))?"":_.escape(__t))+'"\n        ',obj.RequireLastName&&(__p+="required"),__p+=" />\n\t"),__p+='\n\t<p class="purechat-alert purechat-alert-error purechat-init-error purechat-init-error-inline please-enteremail purechat-display-none">'+(null==(__t=obj.getResource("error_enterEmail"))?"":_.escape(__t))+'</p>\n    <input\n        type="email"\n        class="purechat-email-input"\n        name="purechat-email-input"\n        id="purechat-emailform-email-input"\n        maxlength="200"\n        value="'+(null==(__t=obj.InitialVisitorEmail)?"":_.escape(__t))+'"\n        placeholder="'+(null==(__t=obj.getResource("placeholder_email")+"*")?"":_.escape(__t))+'"\n        required />\n\t',obj.get("EmailFormAskForPhoneNumber")&&(__p+='\n\t<p class="purechat-alert purechat-alert-error purechat-init-error purechat-init-error-inline please-enterphonenumber purechat-display-none">'+(null==(__t=obj.getResource("error_enterPhoneNumber"))?"":_.escape(__t))+'</p>\n    <input\n        type="text"\n        class="purechat-phonenumber-input"\n        name="purechat-phonenumber-input"\n        id="purechat-emailform-phonenumber-input"\n        maxlength="200"\n        value="'+(null==(__t=obj.InitialVisitorPhoneNumber)?"":_.escape(__t))+'"\n        placeholder="'+(null==(__t=obj.getResource("placeholder_phonenumber")+(obj.RequirePhoneNumber?"*":""))?"":_.escape(__t))+'"\n        ',obj.RequirePhoneNumber&&(__p+="required"),__p+=" />\n\t"),__p+="\n\t",obj.get("EmailFormAskForCompany")&&(__p+='\n\t<p class="purechat-alert purechat-alert-error purechat-init-error purechat-init-error-inline please-entercompany purechat-display-none">'+(null==(__t=obj.getResource("error_enterCompany"))?"":_.escape(__t))+'</p>\n    <input\n        type="text"\n        class="purechat-company-input"\n        name="purechat-company-input"\n        id="purechat-emailform-company-input"\n        maxlength="200"\n        value="'+(null==(__t=obj.InitialVisitorCompany)?"":_.escape(__t))+'"\n        placeholder="'+(null==(__t=obj.getResource("placeholder_company")+(obj.RequireCompany?"*":""))?"":_.escape(__t))+'"\n        ',obj.RequireCompany&&(__p+="required"),__p+=" />\n\t"),__p+='\n\t<p class="purechat-alert purechat-alert-error purechat-init-error purechat-init-error-inline please-enterquestion purechat-display-none">'+(null==(__t=obj.getResource("error_enterQuestion"))?"":_.escape(__t))+'</p>\n\t<textarea class="purechat-question-input" name="purechat-question-input" id="purechat-emailform-question-input" rows="1" placeholder="'+(null==(__t=obj.getResource("placeholder_question")+"*")?"":_.escape(__t))+'" maxlength="10000" required>'+(null==(__t=obj.getMessage())?"":_.escape(__t))+'</textarea>\n\t<input type="submit" class="purechat-btn" id="purechat-emailform-name-submit" value="'+(null==(__t=obj.getResource("button_sendEmail"))?"":_.escape(__t))+'" />\n\t<p class="purechat-email-error purechat-alert purechat-alert-error purechat-init-error purechat-display-none">Unable to send, please try again.</p>\n\t<p class="purechat-alert purechat-alert-error purechat-init-error general-error purechat-display-none"></p>\n</form>\n';return __p}},8345:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(7410);module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="purechat-enterinfo-container purechat-email-success purechat-card">\n\t<h2>'+(null==(__t=obj.getResource("emailForm_success_message"))?"":__t)+"</h2>\n\t",obj.AskForFirstName&&(__p+='\n\t<div class="purechat-label">'+(null==(__t=obj.getResource("placeholder_firstName"))?"":_.escape(__t))+"</div>\n\t<p>"+(null==(__t=obj.FirstName)?"":_.escape(__t))+"</p>\n\t"),__p+="\n\t",!obj.AskForFirstName&&obj.AskForLastName&&(__p+='\n\t<div class="purechat-label">'+(null==(__t=obj.getResource("placeholder_lastName"))?"":_.escape(__t))+"</div>\n\t<p>"+(null==(__t=obj.LastName)?"":_.escape(__t))+"</p>\n\t"),__p+='\n\t<div class="purechat-label">'+(null==(__t=obj.getResource("placeholder_email"))?"":_.escape(__t))+"</div>\n\t<p>"+(null==(__t=obj.Email)?"":_.escape(__t))+"</p>\n\t",obj.EmailFormAskForCompany&&(__p+='\n\t<div class="purechat-label">'+(null==(__t=obj.getResource("placeholder_company"))?"":_.escape(__t))+"</div>\n\t<p>"+(null==(__t=obj.Company)?"":_.escape(__t))+"</p>\n\t"),__p+="\n\t",obj.EmailFormAskForPhoneNumber&&(__p+='\n\t<div class="purechat-label">'+(null==(__t=obj.getResource("placeholder_phonenumber"))?"":_.escape(__t))+"</div>\n\t<p>"+(null==(__t=obj.PhoneNumber)?"":_.escape(__t))+"</p>\n\t"),__p+='\n\t<div class="purechat-label">'+(null==(__t=obj.getResource("placeholder_question"))?"":_.escape(__t))+"</div>\n\t<div>"+(null==(__t=obj.Question)?"":_.escape(__t))+"</div>\n</div>\n";return __p}},7257:function(module){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="",obj.isNote()?__p+='\n\t<span class="purechat-message-note purechat-important" data-username="'+(null==(__t=obj.username)?"":__t)+'" data-resourcekey="'+(null==(__t=obj.resourceKey||"")?"":__t)+'">\n\t\t'+(null==(__t=obj.message)?"":__t)+"\n\t</span>\n":obj.isSeparator()?__p+='\n\t<span class="purechat-important purechat-separator" data-username="'+(null==(__t=obj.username)?"":__t)+'" data-resourcekey="'+(null==(__t=obj.resourceKey||"")?"":__t)+'">\n\t\t'+(null==(__t=obj.message)?"":__t)+"\n\t</span>\n":obj.isMessage()&&obj.message&&(__p+='\n\t<div data-resourcekey="'+(null==(__t=obj.resourceKey||"")?"":__t)+'" class="purechat-message-container '+(null==(__t=obj.myMessage?"purechat-message-right":"purechat-message-left")?"":__t)+'">\n\t\t<img class="purechat-operator-gravatar" height="50" width="50" src="'+(null==(__t=obj.avatarUrl)?"":__t)+'" alt=""/>\n\t\t<div class="purechat-message">\n\t\t\t',obj.userName&&(__p+='\n\t\t\t<span class="purechat-displayname ',obj.hasMultipleOperators()&&(__p+="purechat-display-block"),__p+='">'+(null==(__t=obj.userName)?"":__t)+"</span>\n\t\t\t"),__p+='\n\t\t\t<span class="purechat-message-actual">\n\t\t\t\t<span class="purechat-new-thought">\n\t\t\t\t\t'+(null==(__t=obj.enhance(obj.message))?"":__t)+'\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t\t<div class="purechat-message-tail">\n\t\t\t\t<svg viewBox="0 0 18 16" class="pc-svgicon">\n\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+"#"+(null==(__t=obj.myMessage?"pc-svgicon-tail-right":"pc-svgicon-tail-left")?"":__t)+'"></use>\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="purechat-timestamp">\n\t\t\t',obj.time&&(__p+='<time class="purechat-time" title="'+(null==(__t=obj.date)?"":__t)+'" datetime="'+(null==(__t=obj.date)?"":__t)+'">'+(null==(__t=obj.prettyDate(obj.date))?"":__t)+"</time>"),__p+="\n\t\t</div>\n\t</div>\n"),__p+="\n";return __p}},2313:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(7410);module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="",obj.EmailForm?__p+='\n<div class="purechat-enterinfo-container">\n    <div data-resourcekey="emailForm_message">'+(null==(__t=obj.getResource("emailForm_message"))?"":__t)+"</div>\n</div>\n":(__p+="\n",(obj.AskForPhoneNumber||obj.AskForFirstName||obj.AskForLastName||obj.AskForCompany||obj.AskForEmail||obj.AskForQuestion)&&(__p+='\n<div class="purechat-enterinfo-container">\n    <div data-resourcekey="label_initial">'+(null==(__t=obj.Utils.linkify(obj.getResource("label_initial")))?"":__t)+"</div>\n</div>\n"),__p+="\n"),__p+='\n\n<form class="purechat-form '+(null==(__t=obj.EmailForm?"purechat-email-form":"purechat-init-form")?"":__t)+'" action="">\n\n    ',(obj.EmailForm&&obj.EmailFormAskForFirstName||!obj.EmailForm&&obj.AskForFirstName)&&(__p+='\n    <p class="purechat-alert purechat-alert-error purechat-init-error purechat-init-error-inline please-enterfirstname purechat-display-none">'+(null==(__t=obj.getResource("error_enterFirstName"))?"":_.escape(__t))+'</p>\n    <input\n        type="text"\n        class="purechat-firstname-input" \n        autocomplete="off"\n        name="purechat-firstname-input"\n        id="purechat-firstname-input"\n        maxlength="200"\n        value="'+(null==(__t=obj.InitialVisitorFirstName)?"":_.escape(__t))+'"\n        placeholder="'+(null==(__t=obj.getResource("placeholder_firstName")+(obj.RequireFirstName?"*":""))?"":_.escape(__t))+'"\n        ',obj.RequireFirstName&&(__p+="required"),__p+=" />\n    "),__p+="\n    ",(obj.EmailForm&&obj.EmailFormAskForLastName||!obj.EmailForm&&obj.AskForLastName)&&(__p+='\n    <p class="purechat-alert purechat-alert-error purechat-init-error purechat-init-error-inline please-enterlastname purechat-display-none">'+(null==(__t=obj.getResource("error_enterLastName"))?"":_.escape(__t))+'</p>\n    <input\n        type="text"\n        class="purechat-lastname-input"\n        autocomplete="off"\n        name="purechat-lastname-input"\n        id="purechat-lastname-input"\n        maxlength="200"\n        value="'+(null==(__t=obj.InitialVisitorLastName)?"":_.escape(__t))+'"\n        placeholder="'+(null==(__t=obj.getResource("placeholder_lastName")+(obj.RequireLastName?"*":""))?"":_.escape(__t))+'"\n        ',obj.RequireLastName&&(__p+="required"),__p+=" />\n    "),__p+="\n    ",(obj.EmailForm||obj.AskForEmail)&&(__p+='\n    <p class="purechat-alert purechat-alert-error purechat-init-error purechat-init-error-inline please-enteremail purechat-display-none">'+(null==(__t=obj.getResource("error_enterEmail"))?"":_.escape(__t))+'</p>\n    <input\n        type="email"\n        class="purechat-email-input"\n        name="purechat-email-input"\n        id="purechat-email-input"\n        maxlength="200"\n        value="'+(null==(__t=obj.InitialVisitorEmail)?"":_.escape(__t))+'"\n        placeholder="'+(null==(__t=obj.getResource("placeholder_email")+(obj.RequireEmail?"*":""))?"":_.escape(__t))+'"\n        ',obj.RequireEmail&&(__p+="required"),__p+=" />\n    "),__p+="\n    ",(obj.EmailForm&&obj.EmailFormAskForPhoneNumber||!obj.EmailForm&&obj.AskForPhoneNumber)&&(__p+='\n    <p class="purechat-alert purechat-alert-error purechat-init-error purechat-init-error-inline please-enterphonenumber purechat-display-none">'+(null==(__t=obj.getResource("error_enterPhoneNumber"))?"":_.escape(__t))+'</p>\n    <input\n        type="text"\n        class="purechat-phonenumber-input"\n        name="purechat-phonenumber-input"\n        id="purechat-phonenumber-input"\n        maxlength="200"\n        value="'+(null==(__t=obj.InitialVisitorPhoneNumber)?"":_.escape(__t))+'"\n        placeholder="'+(null==(__t=obj.getResource("placeholder_phonenumber")+(obj.RequirePhoneNumber?"*":""))?"":_.escape(__t))+'"\n        ',obj.RequirePhoneNumber&&(__p+="required"),__p+=" />\n    "),__p+="\n    ",(obj.EmailForm&&obj.EmailFormAskForCompany||!obj.EmailForm&&obj.AskForCompany)&&(__p+='\n    <p class="purechat-alert purechat-alert-error purechat-init-error purechat-init-error-inline please-entercompany purechat-display-none">'+(null==(__t=obj.getResource("error_enterCompany"))?"":_.escape(__t))+'</p>\n    <input\n        type="text"\n        class="purechat-company-input"\n        name="purechat-company-input"\n        id="purechat-company-input"\n        maxlength="200"\n        value="'+(null==(__t=obj.InitialVisitorCompany)?"":_.escape(__t))+'"\n        placeholder="'+(null==(__t=obj.getResource("placeholder_company")+(obj.RequireCompany?"*":""))?"":_.escape(__t))+'"\n        ',obj.RequireCompany&&(__p+="required"),__p+=" />\n    "),__p+="\n    ",(obj.EmailForm||obj.AskForQuestion)&&(__p+='\n    <p class="purechat-alert purechat-alert-error purechat-init-error purechat-init-error-inline please-enterquestion purechat-display-none">'+(null==(__t=obj.getResource("error_enterQuestion"))?"":_.escape(__t))+'</p>\n    <textarea\n        class="purechat-question-input"\n        name="purechat-question-input"\n        id="purechat-question-input"\n        rows="1"\n        maxlength="10000"\n        placeholder="'+(null==(__t=obj.getResource("placeholder_question")+(obj.RequireQuestion?"*":""))?"":_.escape(__t))+'"\n        ',obj.RequireQuestion&&(__p+="required"),__p+=">"+(null==(__t=obj.InitialVisitorQuestion)?"":_.escape(__t))+"</textarea>\n    "),__p+="\n\n    ",obj.EmailForm?__p+='\n    <input type="submit" class="purechat-btn" id="purechat-name-submit" value="'+(null==(__t=obj.getResource("button_sendEmail"))?"":_.escape(__t))+'">\n    <p class="purechat-email-error purechat-alert purechat-alert-error purechat-init-error purechat-display-none">Unable to send, please try again.</p>\n    ':__p+='\n    <input type="submit" class="purechat-btn" id="purechat-name-submit" value="'+(null==(__t=obj.getResource("button_startChat"))?"":_.escape(__t))+'">\n    ',__p+='\n    <p class="purechat-alert purechat-alert-error purechat-init-error general-error purechat-display-none"></p>\n</form>';return __p}},5388:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(7410);module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="purechat-widget-content '+(null==(__t=obj.isMobile()?"purechat-mobile fake-chat":"")?"":__t)+'" style="">\n\t<div class="purechat-message-list-view">\n\t\t<div class="purechat-message-display-container">\n\t\t\t<div class="purechat-message-display purechat-clearfix">\n\t\t\t\t<div class="purechat-message-wrapper purechat-clearfix">\n\t\t\t\t\t<div data-resourcekey="" class="purechat-message-container purechat-message-left">\n\t\t\t\t\t\t<div class="purechat-timestamp">\n\t\t\t\t\t\t\t<span class="purechat-time">&nbsp;</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="purechat-message" style="margin-right: 0;">\n\t\t\t\t\t\t\t<span class="purechat-message-actual">\n\t\t\t\t\t\t\t\t<span class="purechat-new-thought">'+(null==(__t=obj.chatStartedMessage)?"":_.escape(__t))+'</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="purechat-send-form-container">\n\t\t\t<div class="purechat-user-status"><span>'+(null==(__t=obj.getResource("chat_idleText"))?"":_.escape(__t))+'</span></div>\n\t\t\t<form class="purechat-send-form purechat-form" action="">\n\t\t\t\t<textarea class="purechat-send-form-message purechat-question-input" name="purechat-question-input" id="purechat-question-input" placeholder="'+(null==(__t=obj.getResource("chat_pressEnter"))?"":_.escape(__t))+'" rows="1">'+(null==(__t=obj.InitialVisitorQuestion)?"":__t)+"</textarea>\n\t\t\t\t",obj.isMobile()&&(__p+='\n\t\t\t\t<button type="submit" class="button send-message">\n\t\t\t\t\tSend\n\t\t\t\t</button>\n\t\t\t\t'),__p+='\n\t\t\t\t<p class="purechat-alert purechat-alert-error purechat-init-error general-error purechat-display-none"></p>\n\t\t\t</form>\n\t\t</div>\n\t\t<div class="purechat-confirm-close-modal purechat-display-none">\n\t\t\t<span class="message">Are you sure you want to close the chat?</span><div class="modal-button-bar">\n\t\t\t\t<button type="button" class="purechat-btn kill-chat">Yes</button><button type="button" class="purechat-btn cancel">No</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n';return __p}},4014:function(module){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<p class="purechat-message-note purechat-unitalic">\n\tSorry, but it appears that you are using a browser that is incompatible with Pure Chat\'s technology. 😢\n</p>\n<p class="purechat-message-note purechat-unitalic">\n\tIn order to use Pure Chat\'s live chat capabilities, please upgrade your browser to a newer version, or use one of these recommended alternative browsers:\n\t<ul>\n\t\t<li>\n\t\t\t<a href="https://www.google.com/chrome" target="_blank">\n\t\t\t\tGoogle Chrome\n\t\t\t</a>\n\t\t</li>\n\t\t<li>\n\t\t\t<a href="https://www.mozilla.org/firefox/new" target="_blank">\n\t\t\t\tMozilla Firefox\n\t\t\t</a>\n\t\t</li>\n\t</ul>\n</p>';return __p}},7971:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(7410);module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";var mobileRequest=obj.get("RequestFromMobileDevice");__p+="\n"+(null==(__t=obj.icons)?"":__t)+'\n<div class="purechat-flyout-container"></div>\n<div class="purechat-expanded">\n\t<div class="purechat-collapsed-outer">\n\t\t<div class="purechat-widget-inner purechat-clearfix">\n\t\t\t<div class="purechat-widget-content-wrapper">\n\t\t\t\t<div class="purechat-widget-header">\n\t\t\t\t\t<span class="purechat-widget-room-avatar"></span>\n\t\t\t\t\t<div class="purechat-menu purechat-btn-toolbar">\n\t\t\t\t\t\t<button data-trigger="restartChat" class="purechat-btn purechat-btn-mini purechat-btn-restart purechat-display-inline-block" title="Start a new chat">\n\t\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-lg">\n\t\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-re-queue"></use>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t',obj.get("isDirectAccess")||(__p+='\n\t\t\t\t\t\t<button data-trigger="collapse" class="purechat-btn purechat-btn-mini purechat-actions purechat-btn-collapse purechat-display-inline-block" title="Collapse Widget">\n\t\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-lg">\n\t\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+(null==(__t=obj.arrowClass())?"":__t)+'"></use>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t'),__p+='\n\t\t\t\t\t\t<button data-trigger="closeChat" class="purechat-btn purechat-btn-mini purechat-btn-close purechat-display-inline-block" title="Close chat session">\n\t\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-lg">\n\t\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-close"></use>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="purechat-widget-title">\n\t\t\t\t\t\t<span class="purechat-widget-title-link"></span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="purechat-content-wrapper purechat-clearfix">\n\t\t\t\t\t<div class="purechat-file-overlay purechat-display-none">\n\t\t\t\t\t\t<div class="purechat-file-overlay-instructions">\n\t\t\t\t\t\t\tDrag Here to Send\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n                    <div class="purechat-disconnect purechat-display-none">\n                        <svg width="216" height="216" version="1.1" viewBox="0 0 216 216" xmlns="http://www.w3.org/2000/svg">\n                            <g transform="matrix(1.3308 0 0 1.3305 -69.505 -69.359)">\n                                <path d="m88.667 213.51c-14.387-3.8039-26.457-13.714-32.364-26.574-3.0013-6.5334-3.5005-9.4663-3.5629-20.931-0.09781-17.969 2.9687-24.607 18.937-40.988 6.4117-6.5777 12.854-12.414 14.317-12.969 7.0175-2.664 14.688 5.6215 11.266 12.17-0.89697 1.7165-6.8148 8.521-13.151 15.121-15.467 16.112-18.104 24.903-11.597 38.667 3.7879 8.0125 8.7648 12.911 16.822 16.559 10.493 4.7499 20.055 3.2673 30.552-4.7375 6.7504-5.1475 12.175-5.7606 16.115-1.8213 6.1365 6.1365 1.1026 14.654-12.666 21.433-7.0115 3.4518-10.444 4.2683-19.584 4.6581-6.0954 0.25994-12.883-3e-3 -15.083-0.58495zm68.861-2.5058c-3.3014-2.7832-62.861-143.72-62.861-148.75 0-3.7136 5.465-8.9169 9.3654-8.9169 1.2865 0 3.5875 1.05 5.1133 2.3333 3.2841 2.7622 62.855 143.79 62.855 148.8 0 3.6622-5.4968 8.8656-9.3654 8.8656-1.2865 0-3.5846-1.05-5.1069-2.3333zm15.005-57.354c-2.716-1.8135-4.6877-7.0576-3.7711-10.03 0.50026-1.6223 6.4029-8.6496 13.117-15.616 15.919-16.518 18.77-25.212 12.68-38.667-3.6473-8.0575-8.5462-13.034-16.559-16.822-11.005-5.2025-20.428-3.8942-31.219 4.3343-6.7504 5.1475-12.175 5.7606-16.115 1.8213-6.2024-6.2024-1.095-14.659 13.059-21.624 8.3067-4.0872 9.7768-4.3716 22.251-4.3038 11.49 0.06244 14.418 0.56031 20.955 3.5629 9.6868 4.4499 18.974 13.733 23.444 23.433 3.0206 6.5557 3.5084 9.4271 3.5558 20.931 0.0749 18.186-2.9563 24.633-19.526 41.529-10.201 10.403-12.908 12.468-16.317 12.45-2.2482-0.0107-4.7479-0.46123-5.5548-1z" stroke-width="1.3333"/>\n                            </g>\n                        </svg>\n                    </div>\n\t\t\t\t\t<div class="purechat-content"></div>\n\t\t\t\t\t<div class="purechat-footer">\n\t\t\t\t\t\t',obj.get("RemoveBranding")?(__p+="\n\t\t\t\t\t\t\t",obj.showPlaySoundCheckbox()&&(__p+='\n\t\t\t\t\t\t\t<button class="purechat-toggle-audio-notifications">\n\t\t\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-sm">\n\t\t\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+"#"+(null==(__t=obj.playSoundOnNewMessage()?"pc-svgicon-sound":"pc-svgicon-no-sound")?"":__t)+'"></use>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t'),__p+='\n\t\t\t\t\t\t\t<button data-trigger="popOutChat" class="purechat-btn-pop-out purechat-display-inline-block" title="Pop out">\n\t\t\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-sm">\n\t\t\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-expand"></use>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t'):(__p+="\n                            ",obj.isMobile()?(__p+='\n                                <div class="'+(null==(__t=obj.localCssName("purechat-poweredby-container"))?"":__t)+'">\n                                    <div class="'+(null==(__t=obj.localCssName("purechat-poweredby"))?"":__t)+'">\n                                        <span class="'+(null==(__t=obj.localCssName("purechat-poweredby-text"))?"":__t)+'">'+(null==(__t=obj.getResource("poweredby"))?"":_.escape(__t))+' </span>\n                                        <a class="'+(null==(__t=obj.localCssName("purechat-poweredby-link"))?"":__t)+'" rel="noopener" target="_blank" href="'+(null==(__t=obj.poweredByUrl())?"":__t)+'">Pure Chat</a>\n                                    </div>\n                                </div>\n                                ',obj.showPlaySoundCheckbox()&&(__p+='\n                                <button class="purechat-toggle-audio-notifications">\n                                    <svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-sm">\n                                        <use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+"#"+(null==(__t=obj.playSoundOnNewMessage()?"pc-svgicon-sound":"pc-svgicon-no-sound")?"":__t)+'"></use>\n                                    </svg>\n                                </button>\n                                '),__p+="\n                            "):(__p+='\n                                <div class="'+(null==(__t=obj.localCssName("purechat-poweredby-container"))?"":__t)+'">\n                                    <div class="'+(null==(__t=obj.localCssName("purechat-poweredby"))?"":__t)+'">\n                                        <span class="'+(null==(__t=obj.localCssName("purechat-poweredby-text"))?"":__t)+'">'+(null==(__t=obj.getResource("poweredby"))?"":_.escape(__t))+' </span>\n                                        <a class="'+(null==(__t=obj.localCssName("purechat-poweredby-link"))?"":__t)+'" rel="noopener" target="_blank" href="'+(null==(__t=obj.poweredByUrl())?"":__t)+'">Pure Chat</a>\n                                    </div>\n                                </div>\n                                ',obj.showPlaySoundCheckbox()&&(__p+='\n                                <button class="purechat-toggle-audio-notifications">\n                                    <svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-sm">\n                                        <use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+"#"+(null==(__t=obj.playSoundOnNewMessage()?"pc-svgicon-sound":"pc-svgicon-no-sound")?"":__t)+'"></use>\n                                    </svg>\n                                </button>\n                                '),__p+='\n                                <button data-trigger="popOutChat" class="purechat-btn-pop-out purechat-display-inline-block" title="Pop out">\n                                    <svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-sm">\n                                        <use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-expand"></use>\n                                    </svg>\n                                </button>\n                            '),__p+="\n\t\t\t\t\t\t"),__p+='\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n<div class="purechat-collapsed '+(null==(__t=obj.get("CollapsedWidgetImageUrl")?"purechat-collapsed-image":"purechat-collapsed-default")?"":__t)+'">\n\t<div class="purechat-collapsed-image" data-trigger="expand">\n\t\t<span class="purechat-missed-message-count purechat-badge purechat-display-none"></span>\n\t</div>\n\t<div class="purechat-message-preview purechat-message-note purechat-animate purechat-display-none">\n\t\t<div class="purechat-message-preview-text"></div>\n\t</div>\n\t<div class="purechat-collapsed-outer purechat-display-none">\n\t\t<div class="purechat-widget-inner purechat-clearfix">\n\t\t\t<button data-trigger="collapse" class="purechat-btn purechat-btn-mini purechat-actions purechat-btn-collapse purechat-display-none">\n\t\t\t\t<span class="purechat-missed-message-count purechat-badge purechat-display-none"></span>\n\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-lg">\n\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+(null==(__t=obj.superMinimizeArrowClass())?"":__t)+'"></use>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t\t<div class="purechat-widget-header">\n\t\t\t\t<div class="purechat-menu purechat-btn-toolbar">\n\t\t\t\t\t',obj.get("isDirectAccess")||(__p+='\n\t\t\t\t\t\t<button type="button" class="purechat-start-chat purechat-btn purechat-btn-mini purechat-display-none" title="Show Chat" data-trigger="expand">\n\t\t\t\t\t\t\t<span class="purechat-missed-message-count purechat-badge purechat-display-none"></span>\n\t\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon '+(null==(__t=obj.collapsedIconClass())?"":__t)+'">\n\t\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-chat"></use>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t',obj.get("ShowEmailButton")&&!obj.get("IPIsBanned")&&(__p+='\n\t\t\t\t\t\t<button type="button" class="purechat-btn purechat-btn-mini" title="Show Email" data-trigger="showEmail">\n\t\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon '+(null==(__t=obj.collapsedIconClass())?"":__t)+'">\n\t\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-email"></use>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t'),__p+="\n\t\t\t\t\t\t",obj.get("ShowPhoneButton")&&(__p+='\n\t\t\t\t\t\t<button type="button" class="purechat-btn purechat-btn-mini" title="Show Phone Number" data-trigger="showPhoneNumber">\n\t\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon '+(null==(__t=obj.collapsedIconClass())?"":__t)+'">\n\t\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-phone"></use>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t'),__p+="\n\t\t\t\t\t\t",obj.get("ShowTwitterButton")&&(__p+='\n\t\t\t\t\t\t<button type="button" class="purechat-btn purechat-btn-mini" title="Show Twitter Feed" data-trigger="showTwitter">\n\t\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon '+(null==(__t=obj.collapsedIconClass())?"":__t)+'">\n\t\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-twitter"></use>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t<div class="purechat-loading purechat-display-none"></div>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t'),__p+="\n\t\t\t\t\t\t",obj.get("ShowAddressButton")&&(__p+='\n\t\t\t\t\t\t<button type="button" class="purechat-btn purechat-btn-mini" title="Show Address" data-trigger="showAddress">\n\t\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon '+(null==(__t=obj.collapsedIconClass())?"":__t)+'">\n\t\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-location"></use>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t'),__p+="\n\t\t\t\t\t"),__p+="\n\t\t\t\t\t",obj.get("isDirectAccess")||!obj.get("ShowMinimizeWidgetButton")||obj.isMobile()||(__p+='\n\t\t\t\t\t<button type="button" data-trigger="superMinimize" class="purechat-btn purechat-btn-mini purechat-actions purechat-super-minimize-link-button">\n\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon '+(null==(__t=obj.collapsedIconClass())?"":__t)+'">\n\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+(null==(__t=obj.arrowClass())?"":__t)+'"></use>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button>\n\t\t\t\t\t'),__p+='\n\t\t\t\t</div>\n\t\t\t\t<div class="purechat-widget-title">\n\t\t\t\t\t<span class="purechat-widget-title-link" data-trigger="collapsedClick">'+(null==(__t=obj.getResource(obj.operatorsAvailable?"title_initial":"title_unavailable_initial"))?"":_.escape(__t))+'</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n<div class="purechat-mobile-overlay purechat-display-none"></div>\n'}return __p}},1518:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(7410);module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+=(null==(__t=obj.icons)?"":__t)+'\n<div class="purechat-flyout-container"></div>\n<div class="purechat-expanded">\n\t<div class="purechat-widget-inner purechat-clearfix">\n\t\t<div class="purechat-widget-header">\n\t\t\t<span class="purechat-widget-room-avatar"></span>\n\t\t\t<div class="purechat-menu purechat-btn-toolbar">\n\t\t\t\t<button data-trigger="restartChat" class="purechat-btn purechat-btn-mini purechat-btn-restart" title="Start a new chat">\n\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-lg">\n\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-re-queue"></use>\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\t\t\t\t<button data-trigger="closeChat" class="purechat-btn purechat-btn-mini purechat-btn-close" title="Close chat session">\n\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-lg">\n\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-close"></use>\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\n\t\t\t</div>\n\t\t\t<div class="purechat-widget-title">\n\t\t\t\t<span class="purechat-widget-title-link"></span>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="purechat-content-wrapper purechat-clearfix">\n\t\t\t<div class="purechat-file-overlay purechat-display-none">\n\t\t\t\t<div class="purechat-file-overlay-instructions">\n                    <picture>\n\t\t\t\t\t\t<source srcset="'+(null==(__t=obj.FileIconWebp)?"":__t)+'" type="image/webp" />\n\t\t\t\t\t\t<source srcset="'+(null==(__t=obj.FileIconPng)?"":__t)+'" type="image/png" />\n\t\t\t\t\t\t<img src="'+(null==(__t=obj.FileIconPng)?"":__t)+'" alt="Pure Chat File" />\n                    </picture>\n\t\t\t\t\tDrag Here to Send\n\t\t\t\t</div>\n            </div>\n            <div class="purechat-disconnect purechat-display-none">\n                <svg width="216" height="216" version="1.1" viewBox="0 0 216 216" xmlns="http://www.w3.org/2000/svg">\n                    <g transform="matrix(1.3308 0 0 1.3305 -69.505 -69.359)">\n                        <path d="m88.667 213.51c-14.387-3.8039-26.457-13.714-32.364-26.574-3.0013-6.5334-3.5005-9.4663-3.5629-20.931-0.09781-17.969 2.9687-24.607 18.937-40.988 6.4117-6.5777 12.854-12.414 14.317-12.969 7.0175-2.664 14.688 5.6215 11.266 12.17-0.89697 1.7165-6.8148 8.521-13.151 15.121-15.467 16.112-18.104 24.903-11.597 38.667 3.7879 8.0125 8.7648 12.911 16.822 16.559 10.493 4.7499 20.055 3.2673 30.552-4.7375 6.7504-5.1475 12.175-5.7606 16.115-1.8213 6.1365 6.1365 1.1026 14.654-12.666 21.433-7.0115 3.4518-10.444 4.2683-19.584 4.6581-6.0954 0.25994-12.883-3e-3 -15.083-0.58495zm68.861-2.5058c-3.3014-2.7832-62.861-143.72-62.861-148.75 0-3.7136 5.465-8.9169 9.3654-8.9169 1.2865 0 3.5875 1.05 5.1133 2.3333 3.2841 2.7622 62.855 143.79 62.855 148.8 0 3.6622-5.4968 8.8656-9.3654 8.8656-1.2865 0-3.5846-1.05-5.1069-2.3333zm15.005-57.354c-2.716-1.8135-4.6877-7.0576-3.7711-10.03 0.50026-1.6223 6.4029-8.6496 13.117-15.616 15.919-16.518 18.77-25.212 12.68-38.667-3.6473-8.0575-8.5462-13.034-16.559-16.822-11.005-5.2025-20.428-3.8942-31.219 4.3343-6.7504 5.1475-12.175 5.7606-16.115 1.8213-6.2024-6.2024-1.095-14.659 13.059-21.624 8.3067-4.0872 9.7768-4.3716 22.251-4.3038 11.49 0.06244 14.418 0.56031 20.955 3.5629 9.6868 4.4499 18.974 13.733 23.444 23.433 3.0206 6.5557 3.5084 9.4271 3.5558 20.931 0.0749 18.186-2.9563 24.633-19.526 41.529-10.201 10.403-12.908 12.468-16.317 12.45-2.2482-0.0107-4.7479-0.46123-5.5548-1z" stroke-width="1.3333"/>\n                    </g>\n                </svg>\n            </div>\n\t\t\t<div class="purechat-content"></div>\n\t\t\t<div class="purechat-footer">\n\t\t\t\t',obj.get("RemoveBranding")||(__p+='\n\t\t\t\t<div class="purechat-poweredby-container">\n\t\t\t\t\t<div class="purechat-poweredby">\n\t\t\t\t\t\t<span class="purechat-poweredby-text">'+(null==(__t=obj.getResource("poweredby"))?"":_.escape(__t))+' </span>\n\t\t\t\t\t\t<a class="purechat-poweredby-link" target="_blank" rel="noopener" href="'+(null==(__t=obj.poweredByUrl())?"":__t)+'">Pure Chat</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t'),__p+="\n\t\t\t\t",obj.showPlaySoundCheckbox()&&(__p+='\n\t\t\t\t<button class="purechat-toggle-audio-notifications '+(null==(__t=obj.get("RemoveBranding")?"purechat-kill-positioning":"")?"":__t)+'">\n\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-sm">\n\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+"#"+(null==(__t=obj.playSoundOnNewMessage()?"pc-svgicon-sound":"pc-svgicon-no-sound")?"":__t)+'"></use>\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\t\t\t\t'),__p+="\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n";return __p}},3892:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(7410);module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+=(null==(__t=obj.icons)?"":__t)+'\n<div class="purechat-flyout-container"></div>\n<div class="purechat-window purechat-expanded">\n\t<div class="purechat-widget-inner purechat-clearfix">\n\t\t<div class="purechat-widget-header">\n\t\t\t<span class="purechat-widget-room-avatar"></span>\n\t\t\t<div class="purechat-menu purechat-btn-toolbar">\n\t\t\t\t<button data-trigger="restartChat" class="purechat-btn purechat-btn-mini purechat-btn-restart" title="Start a new chat">\n\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-lg">\n\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-re-queue"></use>\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\t\t\t\t<button data-trigger="closeChat" class="purechat-btn purechat-btn-mini purechat-btn-close" title="Close chat session">\n\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-lg">\n\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-close"></use>\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div class="purechat-widget-title">\n\t\t\t\t',obj.get("RequestFromMobileDevice")&&obj.get("AllowWidgetOnMobile"),__p+='\n\t\t\t\t<span class="purechat-widget-title-link">PureChat</span>\n\t\t\t\t',__p+='\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="purechat-content-wrapper">\n\t\t\t<div class="purechat-file-overlay purechat-display-none">\n\t\t\t\t<div class="purechat-file-overlay-instructions">\n                    <picture>\n                        <source srcset="'+(null==(__t=obj.FileIconWebp)?"":__t)+'" type="image/webp" />\n                        <source srcset="'+(null==(__t=obj.FileIconPng)?"":__t)+'" type="image/png" />\n                        <img src="'+(null==(__t=obj.FileIconPng)?"":__t)+'" alt="Pure Chat File" />\n                    </picture>\n\t\t\t\t\tDrag Here to Send\n\t\t\t\t</div>\n            </div>\n            <div class="purechat-disconnect purechat-display-none">\n                <svg width="216" height="216" version="1.1" viewBox="0 0 216 216" xmlns="http://www.w3.org/2000/svg">\n                    <g transform="matrix(1.3308 0 0 1.3305 -69.505 -69.359)">\n                        <path d="m88.667 213.51c-14.387-3.8039-26.457-13.714-32.364-26.574-3.0013-6.5334-3.5005-9.4663-3.5629-20.931-0.09781-17.969 2.9687-24.607 18.937-40.988 6.4117-6.5777 12.854-12.414 14.317-12.969 7.0175-2.664 14.688 5.6215 11.266 12.17-0.89697 1.7165-6.8148 8.521-13.151 15.121-15.467 16.112-18.104 24.903-11.597 38.667 3.7879 8.0125 8.7648 12.911 16.822 16.559 10.493 4.7499 20.055 3.2673 30.552-4.7375 6.7504-5.1475 12.175-5.7606 16.115-1.8213 6.1365 6.1365 1.1026 14.654-12.666 21.433-7.0115 3.4518-10.444 4.2683-19.584 4.6581-6.0954 0.25994-12.883-3e-3 -15.083-0.58495zm68.861-2.5058c-3.3014-2.7832-62.861-143.72-62.861-148.75 0-3.7136 5.465-8.9169 9.3654-8.9169 1.2865 0 3.5875 1.05 5.1133 2.3333 3.2841 2.7622 62.855 143.79 62.855 148.8 0 3.6622-5.4968 8.8656-9.3654 8.8656-1.2865 0-3.5846-1.05-5.1069-2.3333zm15.005-57.354c-2.716-1.8135-4.6877-7.0576-3.7711-10.03 0.50026-1.6223 6.4029-8.6496 13.117-15.616 15.919-16.518 18.77-25.212 12.68-38.667-3.6473-8.0575-8.5462-13.034-16.559-16.822-11.005-5.2025-20.428-3.8942-31.219 4.3343-6.7504 5.1475-12.175 5.7606-16.115 1.8213-6.2024-6.2024-1.095-14.659 13.059-21.624 8.3067-4.0872 9.7768-4.3716 22.251-4.3038 11.49 0.06244 14.418 0.56031 20.955 3.5629 9.6868 4.4499 18.974 13.733 23.444 23.433 3.0206 6.5557 3.5084 9.4271 3.5558 20.931 0.0749 18.186-2.9563 24.633-19.526 41.529-10.201 10.403-12.908 12.468-16.317 12.45-2.2482-0.0107-4.7479-0.46123-5.5548-1z" stroke-width="1.3333"/>\n                    </g>\n                </svg>\n            </div>\n\t\t\t<div class="purechat-content"></div>\n\t\t\t<div class="purechat-footer">\n\t\t\t\t',obj.get("RemoveBranding")||(__p+='\n\t\t\t\t<div class="purechat-poweredby-container">\n\t\t\t\t\t<div class="purechat-poweredby">\n\t\t\t\t\t\t<span class="purechat-poweredby-text">'+(null==(__t=obj.getResource("poweredby"))?"":_.escape(__t))+' </span>\n\t\t\t\t\t\t<a class="purechat-poweredby-link" target="_blank" rel="noopener" href="'+(null==(__t=obj.poweredByUrl())?"":__t)+'">Pure Chat</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t'),__p+="\n\t\t\t\t",obj.showPlaySoundCheckbox()&&(__p+='\n\t\t\t\t<button class="purechat-toggle-audio-notifications">\n\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-sm">\n\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+"#"+(null==(__t=obj.playSoundOnNewMessage()?"pc-svgicon-sound":"pc-svgicon-no-sound")?"":__t)+'"></use>\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\t\t\t\t'),__p+='\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n<div class="purechat-widget purechat-collapsed">\n\t',obj.get("CollapsedWidgetImageUrl")?__p+='\n\t<img src="'+(null==(__t=obj.get("CollapsedWidgetImageUrl"))?"":__t)+'" data-trigger="expand"/>\n\t':__p+='\n\t<div class="purechat-widget-inner purechat-clearfix">\n\t\t<div class="purechat-widget-header">\n\t\t\t<div class="purechat-menu purechat-btn-toolbar">\n\t\t\t\t<button data-trigger="expand" class="purechat-btn purechat-btn-mini purechat-actions purechat-btn-expand" title="Expand Widget">\n\t\t\t\t\t<i class="pc-icon-plus">+</i>\n\t\t\t\t</button>\n\t\t\t\t<button data-trigger="collapse" class="purechat-btn purechat-btn-mini purechat-actions purechat-btn-collapse" title="Collapse Widget">\n\t\t\t\t\t<i class="pc-icon-minus">-</i>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div class="purechat-widget-title">\n\t\t\t\t<span class="purechat-widget-title-link">PureChat</span>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t',__p+="\n</div>\n";return __p}},2897:function(module){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="purechat-card-header">\n\t<span>tab or ⇅ to navigate</span>\n\t<span>↵ to choose</span>\n\t<span>␛ to dismiss</span>\n</div>\n<div class="purechat-card-body">\n\t<div class="purechat-filtered-emojis"></div>\n</div>\n<div class="purechat-card-footer"></div>\n';return __p}},8704:function(module){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="purechat-card-header">\n\t<input type="text" class="purechat-emoji-search" placeholder="Search" /> \n</div>\n<div class="purechat-card-body">\n\t<div class="purechat-message-wrapper purechat-clearfix purechat-separator">\n\t\t<span class="purechat-important purechat-separator">Most Used</span>\n\t</div>\n\t<div class="purechat-curated-emojis"></div>\n\n\t<div class="purechat-message-wrapper purechat-clearfix purechat-separator">\n\t\t<span class="purechat-important purechat-separator">Emojis</span>\n\t</div>\n\t<div class="purechat-all-emojis"></div>\n</div>\n\n';return __p}},6996:function(module){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="purechat-message-container '+(null==(__t=obj.myMessage?"purechat-message-right":"purechat-message-left")?"":__t)+" "+(null==(__t=obj.transferStateClass())?"":__t)+'">\n\t<div class="purechat-message">\n\t\t<span class="purechat-message-actual">\n\t\t\t<span class="purechat-new-thought purechat-display-flex">\n\t\t\t\t',obj.isError()?__p+='\n\t\t\t\t<div class="purechat-file-error">\n\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-sm">\n\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-notification"></use>\n\t\t\t\t\t</svg>\n\t\t\t\t\t'+(null==(__t=obj.myMessage?obj.message:obj.getGeneralError())?"":__t)+"\n\t\t\t\t</div>\n\t\t\t\t":(__p+="\n\t\t\t\t\t",obj.isImage()?(__p+='\n\t\t\t\t\t\t<div class="purechat-file-image">\n\t\t\t\t\t\t\t<div class="purechat-file-image-name">'+(null==(__t=obj.parsed.name)?"":__t)+'</div>\n\t\t\t\t\t\t\t<div class="purechat-loading purechat-loading-large purechat-loading-center '+(null==(__t=obj.myMessage?"purechat-loading-dark":"purechat-loading-light")?"":__t)+'"></div>\n\t\t\t\t\t\t\t<img src="'+(null==(__t=obj.parsed.url)?"":__t)+'?width=300&height=80" alt="',obj.parsed.name,__p+='" class="purechat-display-none" />\n\t\t\t\t\t\t\t<div class="purechat-file-actions">\n\t\t\t\t\t\t\t\t',obj.myMessage&&!obj.isClosedChat?__p+='\n\t\t\t\t\t\t\t\t\t<button type="button" class="purechat-file-delete">\n\t\t\t\t\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-lg">\n\t\t\t\t\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-close-filled"></use>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t':__p+='\n\t\t\t\t\t\t\t\t\t<a href="'+(null==(__t=obj.parsed.url)?"":__t)+'" download="'+(null==(__t=obj.parsed.url)?"":__t)+'" target="_blank" class="purechat-btn purechat-file-download">\n\t\t\t\t\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-lg">\n\t\t\t\t\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-download"></use>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t',__p+="\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t"):(__p+='\n\t\t\t\t\t\t<div class="purechat-file-icon">\n                            <picture>\n                                <source srcset="'+(null==(__t=obj.FileIconWebp)?"":__t)+'" type="image/webp" />\n                                <source srcset="'+(null==(__t=obj.FileIconPng)?"":__t)+'" type="image/png" />\n                                <img src="'+(null==(__t=obj.FileIconPng)?"":__t)+'" alt="Pure Chat File" />\n                            </picture>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="purechat-file-description">\n\t\t\t\t\t\t\t'+(null==(__t=obj.getMessageDescription())?"":__t)+'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="purechat-file-actions">\n\t\t\t\t\t\t\t',obj.isUploading()?__p+='\n\t\t\t\t\t\t\t\t<div class="purechat-loading purechat-loading-large '+(null==(__t=obj.myMessage?"purechat-loading-dark":"purechat-loading-light")?"":__t)+'"></div>\n\t\t\t\t\t\t\t':obj.myMessage&&!obj.isClosedChat?__p+='\n\t\t\t\t\t\t\t\t<button type="button" class="purechat-file-delete">\n\t\t\t\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-lg">\n\t\t\t\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-close-filled"></use>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t':__p+='\n\t\t\t\t\t\t\t\t<a href="'+(null==(__t=obj.parsed.url)?"":__t)+'" target="_self" class="purechat-file-download">\n\t\t\t\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-lg">\n\t\t\t\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-download"></use>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t',__p+="\n\t\t\t\t\t\t</div>\n\t\t\t\t\t"),__p+="\n\t\t\t\t"),__p+="\n\t\t\t</span>\n\t\t</span>\n\t\t",obj.isError()||(__p+='\n\t\t<div class="purechat-message-tail">\n\t\t\t<svg viewBox="0 0 18 16" class="pc-svgicon">\n\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+"#"+(null==(__t=obj.myMessage?"pc-svgicon-tail-right":"pc-svgicon-tail-left")?"":__t)+'"></use>\n\t\t\t</svg>\n\t\t</div>\n\t\t'),__p+='\n\t</div>\n\t<div class="purechat-timestamp">\n\t\t',obj.time&&(__p+='<time class="purechat-time" title="'+(null==(__t=obj.date)?"":__t)+'" datetime="'+(null==(__t=obj.date)?"":__t)+'">'+(null==(__t=obj.prettyDate(obj.date))?"":__t)+"</time>"),__p+="\n\t</div>\n</div>\n";return __p}},3542:function(module){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<svg id="pc-svgicon" style="position: absolute; height: 0; width: 0">\n\t<defs>\n\t\t<g id="pc-svgicon-download">\n\t\t\t<path d="M198.4,32.3h-62v14.2h56.3v112.9H23.3V46.5h61.1V32.3H17.6c-4.7,0-8.5,3.8-8.5,8.5v124.3\n\t\t\t\tc0,4.7,3.8,8.5,8.5,8.5h83.3v17.6H74.5c-3.9,0-7.1,3.2-7.1,7.1s3.2,7.1,7.1,7.1h67.1c3.9,0,7.1-3.2,7.1-7.1s-3.2-7.1-7.1-7.1h-26.4\n\t\t\t\tv-17.6h83.3c4.7,0,8.5-3.8,8.5-8.5V40.8C206.9,36.1,203.1,32.3,198.4,32.3z" />\n\t\t\t<path d="M141.8,59.3c-1.9,0-3.7,0.7-5.1,2.2l-20.8,21.8V17.6c0-3.9-3.2-7.1-7.1-7.1s-7.1,3.2-7.1,7.1\n\t\t\t\tv66.3L79.2,61.3c-1.4-1.4-3.2-2.1-5-2.1s-3.6,0.7-5,2.1c-2.8,2.8-2.8,7.3,0,10l34.7,34.7c0,0,0.1,0,0.1,0.1c0,0,0,0,0.1,0.1\n\t\t\t\tc0.1,0.1,0.2,0.2,0.4,0.3c0.2,0.2,0.4,0.3,0.6,0.5c0,0,0.1,0,0.1,0.1c0.2,0.1,0.4,0.2,0.5,0.3c0.2,0.1,0.4,0.2,0.6,0.3\n\t\t\t\tc0,0,0.1,0,0.1,0c0.2,0.1,0.4,0.1,0.6,0.2c0.2,0.1,0.4,0.1,0.6,0.2c0,0,0.1,0,0.1,0c0.2,0,0.5,0,0.7,0.1c0.2,0,0.4,0.1,0.7,0\n\t\t\t\tc0.2,0,0.5,0,0.7-0.1c0.2,0,0.4,0,0.6-0.1c0,0,0.1,0,0.1,0c0.2,0,0.4-0.1,0.6-0.2c0.2-0.1,0.4-0.1,0.6-0.2c0,0,0.1,0,0.1,0\n\t\t\t\tc0.2-0.1,0.4-0.2,0.6-0.3c0.2-0.1,0.4-0.2,0.5-0.3c0,0,0,0,0.1,0c0.2-0.1,0.3-0.2,0.4-0.4c0.2-0.2,0.4-0.3,0.6-0.5c0,0,0,0,0.1-0.1\n\t\t\t\tl33-34.7c2.7-2.8,2.6-7.3-0.2-10C145.4,59.9,143.6,59.3,141.8,59.3z" />\n\t\t</g>\n\t\t<g id="pc-svgicon-photo">\n\t\t\t<path d="M192.8,43.3v131.5H23l0.1-131.5C23.1,43.3,192.8,43.3,192.8,43.3z M16.7,30.6\n\t\t\t\tc-0.1,0-0.2,0-0.4,0c-0.2,0-0.4,0-0.7,0.1c-0.2,0-0.4,0.1-0.6,0.1c-0.2,0.1-0.4,0.1-0.6,0.2c-0.2,0.1-0.4,0.2-0.6,0.2\n\t\t\t\tc-0.2,0.1-0.4,0.2-0.5,0.3c-0.2,0.1-0.3,0.2-0.5,0.3c-0.2,0.1-0.3,0.2-0.5,0.4c-0.2,0.1-0.3,0.3-0.5,0.5c-0.1,0.1-0.2,0.2-0.3,0.3\n\t\t\t\tc0,0.1-0.1,0.1-0.1,0.2c-0.1,0.2-0.2,0.4-0.4,0.6c-0.1,0.2-0.2,0.3-0.3,0.5s-0.1,0.4-0.2,0.6c-0.1,0.2-0.1,0.4-0.2,0.6\n\t\t\t\tc0,0.2-0.1,0.4-0.1,0.6c0,0.2-0.1,0.5-0.1,0.7c0,0.1,0,0.1,0,0.2v144.1c0,3.5,2.8,6.3,6.3,6.3H199c3.5,0,6.3-2.8,6.3-6.3V37\n\t\t\t\tc0-3.5-2.8-6.3-6.3-6.3L16.7,30.6z" />\n\t\t\t<path d="M178.9,147.5l-31.8-68c-0.7-1.5-2.1-2.6-3.7-2.8c-1.6-0.3-3.3,0.3-4.4,1.5l-31.2,37.2l-7.4-6.6\n\t\t\t\tc2-4.2,3-8.8,3-13.5c0-17.6-14.3-32-32-32s-32,14.3-32,32c0,11.7,6.4,22.2,16.3,27.8L40.9,147c-1,1.5-1,3.5-0.1,5.1\n\t\t\t\ts2.6,2.6,4.4,2.6h129.3c1.7,0,3.3-0.9,4.2-2.3C179.5,150.8,179.6,149,178.9,147.5z M71.2,73.3c12.1,0,22,9.9,22,22\n\t\t\t\tc0,2.2-0.3,4.3-0.9,6.4l-11-9.8c-1.1-1-2.6-1.4-4.1-1.2c-1.5,0.2-2.8,1.1-3.5,2.3l-13.3,21.5c-6.8-3.8-11.2-11.1-11.2-19.1\n\t\t\t\tC49.2,83.1,59.1,73.3,71.2,73.3z M54,144.6L79,104l25.7,22.1c2,1.7,5,1.5,6.9-0.4l29.5-35.3l25.4,54.2H54z" />\n\t\t</g>\n\t\t<g id="pc-svgicon-chat">\n\t\t\t<path d="M194.2,32h-172c-4.7,0-8.2,3.6-8.2,8.2v98.3c0,4.7,3.6,8.2,8.2,8.2h81c11.3,11.3,27,27,32.5,32.5\n\t\t\t\tc6.6,6.6,16.1,8,16.1-3.3c0-6.1,0-19.5,0-29.1h42.3c4.7,0,8.2-3.6,8.2-8.2V40.2C202.4,35.8,198.5,32,194.2,32z"/>\n\t\t</g>\n\t\t<g id="pc-svgicon-email">\n\t\t\t<path d="M188.5,39.8c6.9,0,13.7,7.3,13.7,13.7v104.8c0,8.8-6,13.7-13.7,13.7H27.4c-7,0-13.7-4-13.7-13.7\n\t\t\t\tc0,0-0.2-99.5,0-105c0.2-5.5,7.6-13.4,13.5-13.4L188.5,39.8L188.5,39.8z M40.2,63.7c-3.8-1.8-8.2-0.5-10.2,3.1\n\t\t\t\tc-1.8,3.8-0.5,8.2,3.1,10.2l71.4,53.7c2.3,1.2,4.9,1.2,7,0l71.8-53.9c3.8-1.8,5-6.5,3.1-10.2c-1.8-3.8-6.5-5-10.2-3.1l-68.2,52\n\t\t\t\tL40.2,63.7z"/>\n\t\t</g>\n\t\t<g id="pc-svgicon-phone">\n\t\t\t<path d="M185.7,184.5c9.9-19.3-14.8-43.6-27.1-50.3c-3.5-1.8-7.8-3-11.5-3c-2.2,0-17.5,16.1-17.7,16.1\n\t\t\t\tc-3.8,0-20.4-14.9-28.8-28.7c-9.7-16.1-21.9-31.2-19.8-35.4c0.4-0.7,3-2.1,4.8-2.9c5.5-2.6,22.4-6.6,22.4-17.3\n\t\t\t\tc-0.1-18.1-6.3-31.5-19.5-43.9c-5-5-10.9-7.5-16.7-7.5c-2.3,0-4.8,0.4-7,1.4c-4.7,1.5-9.4,4.8-10.5,5.5\n\t\t\t\tC44,24.6,40.9,31.9,37.9,44.1c-2.6,11-3.7,23.1,0.6,39.7c7,26.8,20.5,56.3,38.3,78.5c19.9,25.1,43.1,32.8,61.6,38.9\n\t\t\t\tC155,206.5,182.7,190.4,185.7,184.5z"/>\n\t\t</g>\n\t\t<g id="pc-svgicon-twitter">\n\t\t\t<path d="M199.9,31.5c0,0-13,8.1-25.3,10.1c0,0-19.6-21.8-49.5-7c-8.4,4.1-25.4,20.7-18.2,43.8c0,0-43.8,1.7-82.7-41.8\n\t\t\t\tc0,0-18.7,29.8,12.5,53c0,0-13.6-1.3-18.2-4.6c0,0-4,26.6,30.7,39.4c0,0-10.4,2.8-16.6,0c0,0,7,26.1,36.4,28.1\n\t\t\t\tc0,0-20.2,21.6-58.2,17.2c0,0,70.1,44.6,134.3-9.2c0,0,43.8-34.5,40-92.4c0,0,11.7-6.6,19.9-20.4c0,0-6.6,5.9-21.8,5.7\n\t\t\t\tC183.3,53,196.8,44.8,199.9,31.5z"/>\n\t\t</g>\n\t\t<g id="pc-svgicon-location">\n\t\t\t<path d="M108,10c-40,0-72.5,32.9-72.5,73.5S108,206,108,206s72.5-81.8,72.5-122.5C180.7,42.9,148.2,10,108,10z\n\t\t\t\t M144.5,81.9c0,20.7-16.6,37.7-37.2,37.7s-37.2-16.9-37.2-37.7s16.7-37.7,37.3-37.7C127.9,44.2,144.5,61.1,144.5,81.9z"/>\n\t\t</g>\n\t\t<g id="pc-svgicon-expand">\n\t\t\t<path d="M199.7,101.4c-4.5,0-8.1,3.6-8.1,8.1v64c0,10.2-8.4,18.7-18.7,18.7H43.2\n\t\t\t\tc-10.2,0-18.7-8.4-18.7-18.7V42.4c0-10.2,8.4-18.7,18.7-18.7h66c4.5,0,8.1-3.6,8.1-8.1s-3.6-8.1-8.1-8.1h-66c-19.3,0-35,15.7-35,35\n\t\t\t\tv131.2c0,19.3,15.7,35,35,35h129.7c19.3,0,35-15.7,35-35v-64C207.8,105,204.2,101.4,199.7,101.4z"/>\n\t\t\t<path d="M207.6,15.6c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.5-0.3-1.1-0.5-1.5c0-0.1-0.1-0.1-0.1-0.2\n\t\t\t\tc-0.6-1.1-1.2-2.2-2.1-3.1c-0.2-0.2-0.4-0.3-0.5-0.4c-0.3-0.3-0.6-0.6-1.1-0.9c-0.2-0.2-0.5-0.3-0.9-0.4c-0.3-0.2-0.6-0.4-1.1-0.5\n\t\t\t\tc-0.2-0.1-0.5-0.1-0.7-0.2c-0.4-0.1-0.9-0.3-1.1-0.3c-0.2,0-0.5,0-0.7-0.1c-0.4,0-0.9-0.1-1.2-0.1h-47.9c-5.6,0-10.1,4.6-10.1,10.1\n\t\t\t\ts4.6,10.1,10.1,10.1h23.5L88.3,113c-4,4-4,10.4,0,14.3c1.9,1.9,4.5,3,7.1,3c2.8,0,5.3-1.1,7.1-3l84.9-84.9v21.5\n\t\t\t\tc0,5.6,4.6,10.1,10.1,10.1c5.6,0,10.1-4.6,10.1-10.1V17.6C207.8,17,207.8,16.2,207.6,15.6z"/>\n\t\t</g>\n\t\t<g id="pc-svgicon-arrow-down">\n\t\t\t<path d="M9.4,65c4.4-5.4,12.4-6.1,17.6-1.9l80.9,65.9l80.9-65.9c5.4-4.4,13.3-3.6,17.6,1.9c1.9,2.3,2.7,5,2.7,7.9\n\t\t\t\tc0,3.8-1.6,7.3-4.6,9.8L115.7,155c-2.3,1.9-5.1,2.7-7.9,2.7c-2.7,0-5.7-0.9-7.9-2.7L11.2,82.7C5.9,78.3,5,70.3,9.4,65z"/>\n\t\t</g>\n\t\t<g id="pc-svgicon-arrow-up">\n\t\t\t<path d="M9.5,150.9c4.4,5.4,12.3,6.1,17.6,1.9L108,86.8l80.8,65.9c5.4,4.4,13.3,3.6,17.6-1.9c1.9-2.3,2.7-5,2.7-7.9\n\t\t\t\tc0-3.8-1.6-7.3-4.6-9.8l-88.6-72.3c-2.3-1.9-5.1-2.7-7.9-2.7c-2.7,0-5.7,0.9-7.9,2.7l-88.7,72.3C6,137.5,5.1,145.4,9.5,150.9z"/>\n\t\t</g>\n\t\t<g id="pc-svgicon-no-sound">\n\t\t\t<path d="M207.2,51L17.5,179.4c-1.2,0.9-2.7,1.3-4.3,1.3c-4.3,0-7.7-3.4-7.7-7.7\n\t\t\t\tc0-2.7,1.3-4.9,3.4-6.3L198.5,38.2c1.2-0.9,2.7-1.3,4.3-1.3c4.3,0,7.7,3.4,7.7,7.7C210.6,47.2,209.3,49.6,207.2,51z M29,85\n\t\t\t\tc0-8.5,6.9-15.3,15.3-15.3l0,0h50.9l52-42.5v0.1c2.7-2.2,6-3.5,9.6-3.5c8,0,14.6,6.1,15.2,13.9L29,134.3V85L29,85z M172.2,120.8\n\t\t\t\tv15.3v15.3V177c0,8.5-6.9,15.3-15.3,15.3c-3.4,0-6.5-1.1-9-3l0,0l-52.2-38h-10l86.5-58.5L172.2,120.8L172.2,120.8z"/>\n\t\t</g>\n\t\t<g id="pc-svgicon-sound">\n\t\t\t<path d="M124,63.1L124,63.1c-1.1-1-2.6-1.6-4.3-1.6c-3.6,0-6.6,2.9-6.6,6.6c0,1.9,0.8,3.5,2,4.7\n\t\t\t\tc7.6,9.7,12.2,22,12.2,35.3c0,13-4.5,25.1-11.7,34.7c-0.9,0.7-1.4,1.5-1.9,2.6c-1.3,3.3,0.3,7.1,3.7,8.5c2.2,0.9,4.6,0.4,6.2-0.9\n\t\t\t\tl0.1,0.1c0.2-0.2,0.3-0.5,0.5-0.8c0.4-0.4,0.8-0.9,1-1.3c9.2-11.9,14.7-26.7,14.7-43C140,90.9,134.1,75.4,124,63.1z"/>\n\t\t\t<path d="M173.8,13.2L173.8,13.2L173.8,13.2c-1.1-1-2.7-1.6-4.3-1.6c-3.6,0-6.6,2.9-6.6,6.6\n\t\t\t\tc0,2.3,1.1,4.2,2.8,5.4c19.8,22.6,31.9,52.1,31.9,84.5c0,32.8-12.5,62.9-32.7,85.6l-0.1,0.1c-0.1,0.1-0.1,0.2-0.2,0.3l0,0\n\t\t\t\tc-0.4,0.5-0.8,1-1,1.6c-1.3,3.3,0.3,7.1,3.7,8.5c3.2,1.2,6.8-0.2,8.2-3.2c21.8-24.7,34.9-57.3,34.9-92.8\n\t\t\t\tC210.5,71.4,196.6,38.2,173.8,13.2z"/>\n\t\t\t<path d="M149.2,38.5L149.2,38.5c-1.1-1-2.6-1.6-4.3-1.6c-3.6,0-6.6,2.9-6.6,6.6c0,1.9,0.9,3.6,2.2,4.8\n\t\t\t\tc13.7,16.2,22,37,22,59.9c0,23.3-8.7,44.7-22.9,60.9l0,0c-0.3,0.4-0.7,0.9-0.9,1.3c-1.3,3.3,0.3,7.1,3.7,8.5\n\t\t\t\tc3.2,1.2,6.7-0.2,8.2-3.1c15.3-18.4,24.5-41.9,24.5-67.7C175.2,81.4,165.4,57,149.2,38.5z"/>\n\t\t\t<path d="M85.7,53.5c-2.3,0-4.4,0.9-6,2.2l0,0L47,82.3H15l0,0c-5.2,0-9.6,4.4-9.6,9.6v32\n\t\t\t\tc0,5.3,4.4,9.6,9.6,9.6h32.1l32.8,23.9l0,0c1.5,1.1,3.5,1.9,5.6,1.9c5.3,0,9.6-4.4,9.6-9.6V63.2C95.2,57.9,90.9,53.5,85.7,53.5z"/>\n\t\t</g>\n\t\t<g id="pc-svgicon-sad-face">\n\t\t\t\t<path d="M61.7,144c-2.1,2.1-2.4,5.4-0.9,7.2c1.6,1.7,4.3,1.5,6.1-0.2c23.5-23.2,58.6-23.2,82.2,0\n\t\t\t\t\tc1.9,1.9,4.6,2,6.1,0.2c1.6-1.7,1.3-5.1-0.9-7.2C127.8,117.7,88.2,117.7,61.7,144z"/>\n\t\t\t\t<circle cx="146.9" cy="91.1" r="11.4"/>\n\t\t\t\t<circle cx="69.1" cy="91.1" r="11.4"/>\n\t\t\t\t<path d="M108,9.9C53.9,9.9,9.9,54,9.9,108s44,98.1,98.1,98.1s98.1-44,98.1-98.1S162.1,9.9,108,9.9z\n\t\t\t\t\t M108,193.6c-47.2,0-85.5-38.4-85.5-85.5S60.8,22.5,108,22.5s85.5,38.4,85.5,85.5S155.2,193.6,108,193.6z"/>\n\t\t</g>\n\t\t<g id="pc-svgicon-happy-face">\n\t\t\t<path d="M149.1,125.8c-23.5,23.2-58.6,23.2-82.2,0c-1.9-1.9-4.6-2-6.1-0.2c-1.6,1.7-1.3,5.1,0.9,7.2\n\t\t\t\tc26.6,26.3,66.2,26.3,92.7,0c2.1-2.1,2.4-5.4,0.9-7.2C153.7,123.8,150.9,123.9,149.1,125.8z"/>\n\t\t\t<circle cx="146.9" cy="91.1" r="11.4"/>\n\t\t\t<circle cx="69.1" cy="91.1" r="11.4"/>\n\t\t\t<path d="M108,9.9C53.9,9.9,9.9,54,9.9,108s44,98.1,98.1,98.1s98.1-44,98.1-98.1S162.1,9.9,108,9.9z\n\t\t\t\t M108,193.6c-47.2,0-85.5-38.4-85.5-85.5S60.8,22.5,108,22.5s85.5,38.4,85.5,85.5S155.2,193.6,108,193.6z"/>\n\t\t</g>\n\t\t<g id="pc-svgicon-re-queue">\n\t\t\t<path d="M148.2,71c0,5.1,4.1,9.3,9.3,9.3h40.2c5.1,0,9.3-4.1,9.3-9.3V33.9c0-5.1-4.1-9.3-9.3-9.3\n\t\t\t\tc-5.1,0-9.3,4.1-9.3,9.3v16.7c-17.9-25.1-47.2-41.4-80.3-41.4C53.5,9.2,9.3,53.4,9.3,108s44.2,98.8,98.8,98.8S207,162.6,207,108\n\t\t\t\tc0-5.1-4.1-9.3-9.3-9.3c-5.1,0-9.3,4.1-9.3,9.3c0,44.4-36,80.3-80.3,80.3s-80.3-36-80.3-80.3s36-80.3,80.3-80.3\n\t\t\t\tc27.1,0,51,13.4,65.6,34h-16.1C152.4,61.7,148.2,65.8,148.2,71z"/>\n\t\t</g>\n\t\t<g id="pc-svgicon-close">\n\t\t\t<path d="M187.5,204.7c-4.5,0-8.7-1.6-12.2-5.1L108,132.6l-67.1,67.1c-6.8,6.8-17.8,6.8-24.6,0\n\t\t\t\tc-6.8-6.8-6.8-17.8,0-24.6L83.4,108L16.3,40.9c-6.8-6.8-6.8-17.8,0-24.6s17.8-6.8,24.6,0L108,83.4l67.1-67.1\n\t\t\t\tc6.8-6.8,17.8-6.8,24.6,0c6.8,6.8,6.8,17.8,0,24.6L132.6,108l67.1,67.1c6.8,6.8,6.8,17.8,0,24.6\n\t\t\t\tC196.4,203.2,191.9,204.7,187.5,204.7z"/>\n\t\t</g>\n\t\t<g id="pc-svgicon-close-filled">\n\t\t\t<path d="m184.37 31.632c42.177 42.177 42.177 110.56 0 152.74-42.177 42.177-110.56 42.177-152.74 0-42.177-42.177-42.177-110.56 0-152.74 42.177-42.177 110.56-42.177 152.74 0zm-49.643 117.86c4.0581 4.0582 10.662 4.059 14.721 8e-4 4.059-4.059 4.059-10.662 8e-4 -14.721l-26.62-26.62 26.129-26.129c4.0582-4.0582 4.0574-10.662-8e-4 -14.721-4.0582-4.0582-10.662-4.0582-14.72 0l-26.128 26.128-26.618-26.618c-4.0582-4.0582-10.662-4.0574-14.721 8e-4 -4.0589 4.0589-4.0589 10.662-7.36e-4 14.721l26.618 26.618-27.109 27.109c-4.0582 4.0582-4.0582 10.662 0 14.72 4.0589 4.059 10.662 4.059 14.721 7.9e-4l27.109-27.109z"/>\n\t\t</g>\n\t\t<g id="pc-svgicon-play">\n\t\t\t<path d="M28.2,48.5v121c0,17.3,11.2,24.5,26.9,17.2l128.6-60c15.1-7.1,15.4-16.1,0.6-24L53.9,33.1\n\t\t\t\tC38.7,25,28.2,31.3,28.2,48.5z M14.8,48.5c0-27.4,21.3-40.2,45.5-27.3l130.4,69.6c24.5,13.1,23.9,36.3-1.3,48l-128.6,60\n\t\t\t\tc-24.6,11.5-46.1-2.2-46.1-29.4V48.5z"/>\n\t\t</g>\n\t\t<g id="pc-svgicon-paperclip">\n\t\t\t<path d="M171.383,97.691l-67.553,67.464c-13.107,13.051-34.429,13.051-47.529,0c-13.1-13.051-13.107-34.298,0-47.356l71.438-70.88\n\t\t\t\tc7.864-7.834,20.656-7.834,28.52,0c7.857,7.835,7.864,20.572,0,28.406l-57.182,56.677c-2.621,2.612-6.883,2.612-9.505,0\n\t\t\t\tc-2.621-2.612-2.621-6.857,0-9.469l47.677-47.208c0,0,4.724-4.765,0-9.469c-4.724-4.703-9.511,0-9.511,0l-47.677,47.202\n\t\t\t\tc-7.877,7.848-7.871,20.578,0,28.419c7.871,7.841,20.642,7.841,28.513,0L165.756,84.8c6.567-6.542,9.841-15.107,9.841-23.679\n\t\t\t\tc0-18.542-15.096-33.475-33.609-33.475c-8.604,0-17.201,3.268-23.768,9.81L46.79,108.323c-9.182,9.161-13.78,21.154-13.78,33.153\n\t\t\t\tc0,25.868,21.04,46.874,47.052,46.874c12.045,0,24.084-4.58,33.272-13.728l67.553-67.464c0,0,4.79-4.646-0.054-9.469\n\t\t\t\tc-4.84-4.822-9.453,0-9.453,0L171.383,97.691z"/>\n\t\t</g>\n\t\t<g id="pc-svgicon-notification">\n\t\t\t<path d="m108.72 0.062542c-59.55 0-108 48.45-108 108 0 59.55 48.45 108 108 108 59.55 0 108-48.45 108-108 0-59.55-48.45-108-108-108zm0 201.26c-51.425 0-93.259-41.834-93.259-93.259 0-51.425 41.834-93.259 93.259-93.259 51.425 0 93.259 41.834 93.259 93.259 0 51.425-41.834 93.259-93.259 93.259z"/>\n\t\t\t<path d="m98.6 154.95c0-5.951 4.132-10.247 9.753-10.247 5.951 0 9.753 4.297 9.753 10.247 0 5.786-3.802 10.251-9.753 10.251-5.786 0-9.753-4.465-9.753-10.251zm4.132-23.638-2.313-79.352h15.868l-2.313 79.352z"/>\n\t\t</g>\n\n\t\t\x3c!-- message tail shadow --\x3e\n\t\t<filter x="-50%" y="-50%" width="200%" height="200%" filterUnits="objectBoundingBox" id="pc-filter-tails">\n\t\t\t<feOffset dx="1" dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>\n\t\t\t<feGaussianBlur stdDeviation="2" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur>\n\t\t\t<feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix>\n\t\t\t<feMerge>\n\t\t\t\t<feMergeNode />\n\t\t\t\t<feMergeNode in="SourceGraphic" />\n\t\t\t</feMerge>\n\t\t</filter>\n\t\t<g id="pc-svgicon-tail-left">\n\t\t\t<path fill="#fff" style="filter:url(#pc-filter-tails)" d="M3,3 L3,9 C3,11.0738525 4.44388994,11.5561101 6,10 L13,3 L3,3 Z"></path>\n\t\t\t<path d="M3,3 L3,9 C3,11.0738525 4.44388994,11.5561101 6,10 L13,3 L3,3 Z"></path>\n\t\t\t<rect x="0" y="0" width="17" height="4"></rect>\n\t\t</g>\n\n\t\t<g id="pc-svgicon-tail-right">\n\t\t\t<path style="filter:url(#pc-filter-tails)" d="M13,3 L13,9 C13,11.0738525 11.5561101,11.5561101 10,10 L3,3 L13,3 Z"></path>\n\t\t\t<path d="M13,3 L13,9 C13,11.0738525 11.5561101,11.5561101 10,10 L3,3 L13,3 Z"></path>\n\t\t\t<rect x="0" y="0" width="17" height="4"></rect>\n\t\t</g>\n\n\t</defs>\n</svg>\n';return __p}},1155:function(module){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<img src="'+(null==(__t=obj.imageUrl)?"":__t)+'" alt="" />\n<button type="button" class="purechat-image-preview-close">✖</button>';return __p}},290:function(module){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="purechat-message-display purechat-clearfix">\n\t<div class="purechat-showPrevious">\n\t\t<a href="#">See Previous Conversation</a>\n\t</div>\n</div>\n<div class="purechat-emojis purechat-display-flex"></div>\n<div class="purechat-emoji-autocomplete purechat-display-none"></div>\n';return __p}},3470:function(module,__unused_webpack_exports,__webpack_require__){var _=__webpack_require__(7410);module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="purechat-messages"></div>\n<div class="purechat-send-form-container">\n\t<div class="purechat-user-status"><span>'+(null==(__t=obj.getResource("chat_idleText"))?"":_.escape(__t))+'</span></div>\n\t<div class="purechat-autocomplete purechat-display-none"></div>\n\t<form class="purechat-send-form" action="">\n\t\t',obj.isInvisible()||(__p+='\n\t\t\t<textarea class="purechat-send-form-message" name="purechat-send-form-message" placeholder="'+(null==(__t=obj.getResource("chat_pressEnter"))?"":_.escape(__t))+'" rows="1" maxlength="10000"></textarea>\n\t\t\t',obj.isFileTransferEnabled()&&(__p+='\n\t\t\t\t<button type="button" class="purechat-btn-file-transfer">\n\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-md">\n\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-paperclip"></use>\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\t\t\t\t<input type="file" name="purechat-files" class="purechat-file-picker purechat-display-none" />\n\t\t\t'),__p+="\n\t\t\t",obj.isMobile()?__p+='\n\t\t\t\t<button type="submit" class="purechat-btn-send-message">\n\t\t\t\t\t<svg height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t<path d="m19.354 10.146-6-6c-.195-.195-.512-.195-.707 0s-.195.512 0 .707l5.146 5.146h-16.293c-.276 0-.5.224-.5.5s.224.5.5.5h16.293l-5.146 5.146c-.195.195-.195.512 0 .707.098.098.226.146.354.146s.256-.049.354-.146l6-6c.195-.195.195-.512 0-.707z" />\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\t\t\t':__p+='\n\t\t\t\t<button type="button" class="purechat-btn-emoji">\n\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-md">\n\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-happy-face"></use>\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\t\t\t',__p+="\n\t\t"),__p+='\n\t</form>\n</div>\n<div class="purechat-confirm-close-modal purechat-display-none">\n\t<span class="message">Are you sure you want to close the chat?</span>\n\t<div class="modal-button-bar">\n\t\t<button type="button" class="purechat-btn kill-chat">Yes</button>\n\t\t<button type="button" class="purechat-btn cancel">No</button>\n\t</div>\n</div>\n<div class="purchat-confirm-close-modal-overlay purechat-display-none"></div>';return __p}},7121:function(module){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div data-resourcekey="'+(null==(__t=obj.parent.get("resourceKey")||"")?"":__t)+'" class="purechat-message-container '+(null==(__t=obj.parent.get("myMessage")?"purechat-message-right":"purechat-message-left")?"":__t)+'">\n\t<div class="purechat-message">\n\t\t<span class="purechat-message-actual">\n\t\t\t<span class="purechat-new-thought">\n\t\t\t\t',obj.title&&(__p+='\n\t\t\t\t\t<div class="purechat-unfurl-title">\n\t\t\t\t\t\t',obj.icon&&(__p+='\n\t\t\t\t\t\t<img src="'+(null==(__t=obj.icon)?"":__t)+'" alt="" width="16" height="16" class="purechat-unfurl-favicon" />\n\t\t\t\t\t\t'),__p+='\n\t\t\t\t\t\t<a href="'+(null==(__t=obj.link)?"":__t)+'" target="_blank">'+(null==(__t=obj.title)?"":__t)+"</a>\n\t\t\t\t\t</div>\n\t\t\t\t"),__p+='\n\t\t\t\t<a href="'+(null==(__t=obj.link)?"":__t)+'" target="_blank">\n\t\t\t\t\t<img src="'+(null==(__t=obj.media)?"":__t)+'" alt="" class="purechat-unfurl-media" />\n\t\t\t\t</a>\n\t\t\t</span>\n\t\t</span>\n\t</div>\n\t<div class="purechat-timestamp">\n\t\t',obj.time&&(__p+='<time class="purechat-time" title="'+(null==(__t=obj.date)?"":__t)+'" datetime="'+(null==(__t=obj.date)?"":__t)+'">'+(null==(__t=obj.prettyDate(obj.date))?"":__t)+"</time>"),__p+="\n\t</div>\n</div>\n";return __p}},9414:function(module){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div data-resourcekey="'+(null==(__t=obj.parent.get("resourceKey")||"")?"":__t)+'" class="purechat-message-container '+(null==(__t=obj.parent.get("myMessage")?"purechat-message-right":"purechat-message-left")?"":__t)+'">\n\t<div class="purechat-message">\n\t\t<div class="purechat-message-actual">\n\t\t\t<div class="purechat-new-thought">\n\t\t\t\t',obj.image&&(__p+='\n\t\t\t\t\t<img src="'+(null==(__t=obj.image)?"":__t)+'" alt="" class="purechat-unfurl-media" />\n\t\t\t\t'),__p+='\n\t\t\t\t<div class="purechat-unfurl-link-container">\n\t\t\t\t\t',obj.title&&(__p+='\n\t\t\t\t\t\t<div class="purechat-unfurl-title">\n\t\t\t\t\t\t\t',obj.icon&&(__p+='\n\t\t\t\t\t\t\t<img src="'+(null==(__t=obj.icon)?"":__t)+'" alt="'+(null==(__t=obj.title)?"":__t)+'" width="16" height="16" class="purechat-unfurl-favicon" />\n\t\t\t\t\t\t\t'),__p+='\n\t\t\t\t\t\t\t<a href="'+(null==(__t=obj.link)?"":__t)+'" target="_blank">'+(null==(__t=obj.title)?"":__t)+"</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t"),__p+="\n\t\t\t\t\t",obj.description&&(__p+="\n\t\t\t\t\t\t"+(null==(__t=obj.description)?"":__t)+"\n\t\t\t\t\t"),__p+='\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="purechat-timestamp">\n\t\t',obj.time&&(__p+='<time class="purechat-time" title="'+(null==(__t=obj.date)?"":__t)+'" datetime="'+(null==(__t=obj.date)?"":__t)+'">'+(null==(__t=obj.prettyDate(obj.date))?"":__t)+"</time>"),__p+="\n\t</div>\n</div>\n";return __p}},3539:function(module){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div data-resourcekey="'+(null==(__t=obj.parent.get("resourceKey")||"")?"":__t)+'" class="purechat-message-container '+(null==(__t=obj.parent.get("myMessage")?"purechat-message-right":"purechat-message-left")?"":__t)+'">\n\t<div class="purechat-message">\n\t\t<span class="purechat-message-actual">\n\t\t\t<span class="purechat-new-thought">\n\t\t\t\t',obj.media?__p+="\n\t\t\t\t"+(null==(__t=obj.media)?"":__t)+"\n\t\t\t\t":__p+='\n\t\t\t\t<div class="purechat-loading '+(null==(__t=obj.parent.get("myMessage")?"purechat-loading-dark":"purechat-loading-light")?"":__t)+'"></div>\n\t\t\t\t',__p+='\n\t\t\t</span>\n\t\t</span>\n\t</div>\n\t<div class="purechat-timestamp">\n\t\t',obj.time&&(__p+='<time class="purechat-time" title="'+(null==(__t=obj.date)?"":__t)+'" datetime="'+(null==(__t=obj.date)?"":__t)+'">'+(null==(__t=obj.prettyDate(obj.date))?"":__t)+"</time>"),__p+="\n\t</div>\n</div>\n";return __p}},9331:function(module){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div data-resourcekey="'+(null==(__t=obj.parent.get("resourceKey")||"")?"":__t)+'" class="purechat-message-container '+(null==(__t=obj.parent.get("myMessage")?"purechat-message-right":"purechat-message-left")?"":__t)+'">\n\t<div class="purechat-message">\n\t\t<span class="purechat-message-actual">\n\t\t\t<span class="purechat-new-thought">\n\t\t\t\t',obj.title&&(__p+='\n\t\t\t\t\t<div class="purechat-unfurl-title">\n\t\t\t\t\t\t',obj.icon&&(__p+='\n\t\t\t\t\t\t<div class="purechat-unfurl-favicon">\n\t\t\t\t\t\t\t<img src="'+(null==(__t=obj.icon)?"":__t)+'" alt="" width="16" height="16" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t'),__p+='\n\t\t\t\t\t\t<a href="'+(null==(__t=obj.link)?"":__t)+'" target="_blank">'+(null==(__t=obj.title)?"":__t)+"</a>\n\t\t\t\t\t</div>\n\t\t\t\t"),__p+="\n\t\t\t\t",obj.image?__p+='\n\t\t\t\t<div class="purechat-unfurl-youtube-wrapper">\n\t\t\t\t\t<img src="'+(null==(__t=obj.image)?"":__t)+'" alt="" class="purechat-unfurl-media" />\n\t\t\t\t\t<div class="purechat-unfurl-play">\n\t\t\t\t\t\t<svg viewBox="0 0 216 216" class="pc-svgicon pc-svgicon-lg">\n\t\t\t\t\t\t\t<use '+(null==(__t=obj.svgHrefAttr())?"":__t)+'="'+(null==(__t=obj.iconRootUrl())?"":__t)+'#pc-svgicon-play"></use>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t':__p+='\n\t\t\t\t<iframe src="'+(null==(__t=obj.media)?"":__t)+'" class="purechat-unfurl-iframe" frameborder="0"  webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\n\t\t\t\t',__p+='\n\t\t\t</span>\n\t\t</span>\n\t</div>\n\t<div class="purechat-timestamp">\n\t\t',obj.time&&(__p+='<time class="purechat-time" title="'+(null==(__t=obj.date)?"":__t)+'" datetime="'+(null==(__t=obj.date)?"":__t)+'">'+(null==(__t=obj.prettyDate(obj.date))?"":__t)+"</time>"),__p+="\n\t</div>\n</div>\n";return __p}},7697:function(t){"use strict";t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB3aWR0aD0iNjRweCIgaGVpZ2h0PSI2NHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiIGNsYXNzPSJ1aWwtc3BpbiIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0iaGVpZ2h0OjY0cHg7d2lkdGg6NjRweDtwZXJzcGVjdGl2ZS1vcmlnaW46MzJweCAzMnB4O3RyYW5zZm9ybS1vcmlnaW46MzJweCAzMnB4OyI+ICAgIDxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSJub25lIiBjbGFzcz0iYmsiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjBweCAwcHg7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6bm9uZTsiLz4gICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTAgNTApIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDsiPiAgICAgICAgPGcgdHJhbnNmb3JtPSJyb3RhdGUoMCkgdHJhbnNsYXRlKDM0IDApIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDsiPiAgICAgICAgICAgIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSI4IiBmaWxsPSIjOGM1ZTljIiB0cmFuc2Zvcm09InNjYWxlKDAuOTkxMjAzIDAuOTkxMjAzKSIgc3R5bGU9ImhlaWdodDphdXRvO29wYWNpdHk6MC42MzM2NjY7b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDtmaWxsOnJnYigxNDAsIDk0LCAxNTYpO3I6OHB4OyI+ICAgICAgICAgICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIGZyb209IjEiIHRvPSIwLjEiIGJlZ2luPSIwcyIgZHVyPSI3NTBtcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjUwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6cmdiKDE0MCwgOTQsIDE1Nik7Ii8+ICAgICAgICAgICAgICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGZyb209IjEuNSIgdG89Ii4yNSIgYmVnaW49IjBzIiBkdXI9Ijc1MG1zIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgc3R5bGU9ImhlaWdodDphdXRvO292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46NTAlIDUwJTt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7ZmlsbDpyZ2IoMTQwLCA5NCwgMTU2KTsiLz4gICAgICAgICAgICA8L2NpcmNsZT4gICAgICAgIDwvZz4gICAgICAgIDxnIHRyYW5zZm9ybT0icm90YXRlKDQ1KSB0cmFuc2xhdGUoMzQgMCkiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjBweCAwcHg7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4OyI+ICAgICAgICAgICAgPGNpcmNsZSBjeD0iMCIgY3k9IjAiIHI9IjgiIGZpbGw9IiM4YzVlOWMiIHRyYW5zZm9ybT0ic2NhbGUoMS4xNDEyIDEuMTQxMikiIHN0eWxlPSJoZWlnaHQ6YXV0bztvcGFjaXR5OjAuNzQxNjY2O292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46MHB4IDBweDt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7ZmlsbDpyZ2IoMTQwLCA5NCwgMTU2KTtyOjhweDsiPiAgICAgICAgICAgICAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiBmcm9tPSIxIiB0bz0iMC4xIiBiZWdpbj0iOTBtcyIgZHVyPSI3NTBtcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjUwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6cmdiKDE0MCwgOTQsIDE1Nik7Ii8+ICAgICAgICAgICAgICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGZyb209IjEuNSIgdG89Ii4yNSIgYmVnaW49IjkwbXMiIGR1cj0iNzUwbXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjo1MCUgNTAlO3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDtmaWxsOnJnYigxNDAsIDk0LCAxNTYpOyIvPiAgICAgICAgICAgIDwvY2lyY2xlPiAgICAgICAgPC9nPiAgICAgICAgPGcgdHJhbnNmb3JtPSJyb3RhdGUoOTApIHRyYW5zbGF0ZSgzNCAwKSIgc3R5bGU9ImhlaWdodDphdXRvO292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46MHB4IDBweDt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7Ij4gICAgICAgICAgICA8Y2lyY2xlIGN4PSIwIiBjeT0iMCIgcj0iOCIgZmlsbD0iIzhjNWU5YyIgdHJhbnNmb3JtPSJzY2FsZSgxLjI5MTIgMS4yOTEyKSIgc3R5bGU9ImhlaWdodDphdXRvO29wYWNpdHk6MC44NDk2NjY7b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDtmaWxsOnJnYigxNDAsIDk0LCAxNTYpO3I6OHB4OyI+ICAgICAgICAgICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIGZyb209IjEiIHRvPSIwLjEiIGJlZ2luPSIxODBtcyIgZHVyPSI3NTBtcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjUwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6cmdiKDE0MCwgOTQsIDE1Nik7Ii8+ICAgICAgICAgICAgICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGZyb209IjEuNSIgdG89Ii4yNSIgYmVnaW49IjE4MG1zIiBkdXI9Ijc1MG1zIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgc3R5bGU9ImhlaWdodDphdXRvO292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46NTAlIDUwJTt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7ZmlsbDpyZ2IoMTQwLCA5NCwgMTU2KTsiLz4gICAgICAgICAgICA8L2NpcmNsZT4gICAgICAgIDwvZz4gICAgICAgIDxnIHRyYW5zZm9ybT0icm90YXRlKDEzNSkgdHJhbnNsYXRlKDM0IDApIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDsiPiAgICAgICAgICAgIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSI4IiBmaWxsPSIjOGM1ZTljIiB0cmFuc2Zvcm09InNjYWxlKDEuNDU3ODcgMS40NTc4NykiIHN0eWxlPSJoZWlnaHQ6YXV0bztvcGFjaXR5OjAuOTY5NjY2O292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46MHB4IDBweDt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7ZmlsbDpyZ2IoMTQwLCA5NCwgMTU2KTtyOjhweDsiPiAgICAgICAgICAgICAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiBmcm9tPSIxIiB0bz0iMC4xIiBiZWdpbj0iMjgwbXMiIGR1cj0iNzUwbXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjo1MCUgNTAlO3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDtmaWxsOnJnYigxNDAsIDk0LCAxNTYpOyIvPiAgICAgICAgICAgICAgICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InNjYWxlIiBmcm9tPSIxLjUiIHRvPSIuMjUiIGJlZ2luPSIyODBtcyIgZHVyPSI3NTBtcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjUwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6cmdiKDE0MCwgOTQsIDE1Nik7Ii8+ICAgICAgICAgICAgPC9jaXJjbGU+ICAgICAgICA8L2c+ICAgICAgICA8ZyB0cmFuc2Zvcm09InJvdGF0ZSgxODApIHRyYW5zbGF0ZSgzNCAwKSIgc3R5bGU9ImhlaWdodDphdXRvO292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46MHB4IDBweDt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7Ij4gICAgICAgICAgICA8Y2lyY2xlIGN4PSIwIiBjeT0iMCIgcj0iOCIgZmlsbD0iIzhjNWU5YyIgdHJhbnNmb3JtPSJzY2FsZSgwLjM1Nzg3IDAuMzU3ODcpIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3BhY2l0eTowLjE3NzY2NjtvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjBweCAwcHg7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6cmdiKDE0MCwgOTQsIDE1Nik7cjo4cHg7Ij4gICAgICAgICAgICAgICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgZnJvbT0iMSIgdG89IjAuMSIgYmVnaW49IjM3MG1zIiBkdXI9Ijc1MG1zIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgc3R5bGU9ImhlaWdodDphdXRvO292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46NTAlIDUwJTt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7ZmlsbDpyZ2IoMTQwLCA5NCwgMTU2KTsiLz4gICAgICAgICAgICAgICAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJzY2FsZSIgZnJvbT0iMS41IiB0bz0iLjI1IiBiZWdpbj0iMzcwbXMiIGR1cj0iNzUwbXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjo1MCUgNTAlO3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDtmaWxsOnJnYigxNDAsIDk0LCAxNTYpOyIvPiAgICAgICAgICAgIDwvY2lyY2xlPiAgICAgICAgPC9nPiAgICAgICAgPGcgdHJhbnNmb3JtPSJyb3RhdGUoMjI1KSB0cmFuc2xhdGUoMzQgMCkiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjBweCAwcHg7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4OyI+ICAgICAgICAgICAgPGNpcmNsZSBjeD0iMCIgY3k9IjAiIHI9IjgiIGZpbGw9IiM4YzVlOWMiIHRyYW5zZm9ybT0ic2NhbGUoMC41MDc4NyAwLjUwNzg3KSIgc3R5bGU9ImhlaWdodDphdXRvO29wYWNpdHk6MC4yODU2NjY7b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDtmaWxsOnJnYigxNDAsIDk0LCAxNTYpO3I6OHB4OyI+ICAgICAgICAgICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIGZyb209IjEiIHRvPSIwLjEiIGJlZ2luPSI0NjBtcyIgZHVyPSI3NTBtcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjUwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6cmdiKDE0MCwgOTQsIDE1Nik7Ii8+ICAgICAgICAgICAgICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGZyb209IjEuNSIgdG89Ii4yNSIgYmVnaW49IjQ2MG1zIiBkdXI9Ijc1MG1zIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgc3R5bGU9ImhlaWdodDphdXRvO292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46NTAlIDUwJTt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7ZmlsbDpyZ2IoMTQwLCA5NCwgMTU2KTsiLz4gICAgICAgICAgICA8L2NpcmNsZT4gICAgICAgIDwvZz4gICAgICAgIDxnIHRyYW5zZm9ybT0icm90YXRlKDI3MCkgdHJhbnNsYXRlKDM0IDApIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDsiPiAgICAgICAgICAgIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSI4IiBmaWxsPSIjOGM1ZTljIiB0cmFuc2Zvcm09InNjYWxlKDAuNjc0NTM3IDAuNjc0NTM3KSIgc3R5bGU9ImhlaWdodDphdXRvO29wYWNpdHk6MC40MDU2NjY7b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDtmaWxsOnJnYigxNDAsIDk0LCAxNTYpO3I6OHB4OyI+ICAgICAgICAgICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIGZyb209IjEiIHRvPSIwLjEiIGJlZ2luPSI1NjBtcyIgZHVyPSI3NTBtcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjUwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6cmdiKDE0MCwgOTQsIDE1Nik7Ii8+ICAgICAgICAgICAgICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGZyb209IjEuNSIgdG89Ii4yNSIgYmVnaW49IjU2MG1zIiBkdXI9Ijc1MG1zIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgc3R5bGU9ImhlaWdodDphdXRvO292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46NTAlIDUwJTt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7ZmlsbDpyZ2IoMTQwLCA5NCwgMTU2KTsiLz4gICAgICAgICAgICA8L2NpcmNsZT4gICAgICAgIDwvZz4gICAgICAgIDxnIHRyYW5zZm9ybT0icm90YXRlKDMxNSkgdHJhbnNsYXRlKDM0IDApIiBzdHlsZT0iaGVpZ2h0OmF1dG87b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDsiPiAgICAgICAgICAgIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSI4IiBmaWxsPSIjOGM1ZTljIiB0cmFuc2Zvcm09InNjYWxlKDAuODI0NTM3IDAuODI0NTM3KSIgc3R5bGU9ImhlaWdodDphdXRvO29wYWNpdHk6MC41MTM2NjY7b3ZlcmZsb3cteDp2aXNpYmxlO292ZXJmbG93LXk6dmlzaWJsZTt3aWR0aDphdXRvO3BlcnNwZWN0aXZlLW9yaWdpbjowcHggMHB4O3RyYW5zZm9ybS1vcmlnaW46MHB4IDBweDtmaWxsOnJnYigxNDAsIDk0LCAxNTYpO3I6OHB4OyI+ICAgICAgICAgICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIGZyb209IjEiIHRvPSIwLjEiIGJlZ2luPSI2NTBtcyIgZHVyPSI3NTBtcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHN0eWxlPSJoZWlnaHQ6YXV0bztvdmVyZmxvdy14OnZpc2libGU7b3ZlcmZsb3cteTp2aXNpYmxlO3dpZHRoOmF1dG87cGVyc3BlY3RpdmUtb3JpZ2luOjUwJSA1MCU7dHJhbnNmb3JtLW9yaWdpbjowcHggMHB4O2ZpbGw6cmdiKDE0MCwgOTQsIDE1Nik7Ii8+ICAgICAgICAgICAgICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0ic2NhbGUiIGZyb209IjEuNSIgdG89Ii4yNSIgYmVnaW49IjY1MG1zIiBkdXI9Ijc1MG1zIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgc3R5bGU9ImhlaWdodDphdXRvO292ZXJmbG93LXg6dmlzaWJsZTtvdmVyZmxvdy15OnZpc2libGU7d2lkdGg6YXV0bztwZXJzcGVjdGl2ZS1vcmlnaW46NTAlIDUwJTt0cmFuc2Zvcm0tb3JpZ2luOjBweCAwcHg7ZmlsbDpyZ2IoMTQwLCA5NCwgMTU2KTsiLz4gICAgICAgICAgICA8L2NpcmNsZT4gICAgICAgIDwvZz4gICAgPC9nPiAgPC9zdmc+"},4379:function(t){"use strict";t.exports=window.pc$},7410:function(t,e,i){t.exports=function(){var t="1.13.4",e="object"==typeof self&&self.self===self&&self||"object"==typeof i.g&&i.g.global===i.g&&i.g||Function("return this")()||{},r=Array.prototype,n=Object.prototype,a="undefined"!=typeof Symbol?Symbol.prototype:null,o=r.push,s=r.slice,c=n.toString,l=n.hasOwnProperty,p="undefined"!=typeof ArrayBuffer,u="undefined"!=typeof DataView,h=Array.isArray,d=Object.keys,g=Object.create,m=p&&ArrayBuffer.isView,f=isNaN,b=isFinite,y=!{toString:null}.propertyIsEnumerable("toString"),v=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],w=Math.pow(2,53)-1;function _(t,e){return e=null==e?t.length-1:+e,function(){for(var i=Math.max(arguments.length-e,0),r=Array(i),n=0;n<i;n++)r[n]=arguments[n+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var a=Array(e+1);for(n=0;n<e;n++)a[n]=arguments[n];return a[e]=r,t.apply(this,a)}}function C(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function x(t){return void 0===t}function k(t){return!0===t||!1===t||"[object Boolean]"===c.call(t)}function j(t){var e="[object "+t+"]";return function(t){return c.call(t)===e}}var I=j("String"),S=j("Number"),P=j("Date"),T=j("RegExp"),R=j("Error"),M=j("Symbol"),A=j("ArrayBuffer"),E=j("Function"),O=e.document&&e.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof O&&(E=function(t){return"function"==typeof t||!1});var W=E,D=j("Object"),N=u&&D(new DataView(new ArrayBuffer(8))),U="undefined"!=typeof Map&&D(new Map),B=j("DataView");var z=N?function(t){return null!=t&&W(t.getInt8)&&A(t.buffer)}:B,V=h||j("Array");function L(t,e){return null!=t&&l.call(t,e)}var F=j("Arguments");!function(){F(arguments)||(F=function(t){return L(t,"callee")})}();var H=F;function q(t){return S(t)&&f(t)}function Z(t){return function(){return t}}function $(t){return function(e){var i=t(e);return"number"==typeof i&&i>=0&&i<=w}}function Y(t){return function(e){return null==e?void 0:e[t]}}var X=Y("byteLength"),G=$(X),J=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var K=p?function(t){return m?m(t)&&!z(t):G(t)&&J.test(c.call(t))}:Z(!1),Q=Y("length");function tt(t,e){e=function(t){for(var e={},i=t.length,r=0;r<i;++r)e[t[r]]=!0;return{contains:function(t){return!0===e[t]},push:function(i){return e[i]=!0,t.push(i)}}}(e);var i=v.length,r=t.constructor,a=W(r)&&r.prototype||n,o="constructor";for(L(t,o)&&!e.contains(o)&&e.push(o);i--;)(o=v[i])in t&&t[o]!==a[o]&&!e.contains(o)&&e.push(o)}function et(t){if(!C(t))return[];if(d)return d(t);var e=[];for(var i in t)L(t,i)&&e.push(i);return y&&tt(t,e),e}function it(t,e){var i=et(e),r=i.length;if(null==t)return!r;for(var n=Object(t),a=0;a<r;a++){var o=i[a];if(e[o]!==n[o]||!(o in n))return!1}return!0}function rt(t){return t instanceof rt?t:this instanceof rt?void(this._wrapped=t):new rt(t)}function nt(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,X(t))}rt.VERSION=t,rt.prototype.value=function(){return this._wrapped},rt.prototype.valueOf=rt.prototype.toJSON=rt.prototype.value,rt.prototype.toString=function(){return String(this._wrapped)};var at="[object DataView]";function ot(t,e,i,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var n=typeof t;return("function"===n||"object"===n||"object"==typeof e)&&st(t,e,i,r)}function st(t,e,i,r){t instanceof rt&&(t=t._wrapped),e instanceof rt&&(e=e._wrapped);var n=c.call(t);if(n!==c.call(e))return!1;if(N&&"[object Object]"==n&&z(t)){if(!z(e))return!1;n=at}switch(n){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return a.valueOf.call(t)===a.valueOf.call(e);case"[object ArrayBuffer]":case at:return st(nt(t),nt(e),i,r)}var o="[object Array]"===n;if(!o&&K(t)){if(X(t)!==X(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;o=!0}if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,l=e.constructor;if(s!==l&&!(W(s)&&s instanceof s&&W(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}r=r||[];for(var p=(i=i||[]).length;p--;)if(i[p]===t)return r[p]===e;if(i.push(t),r.push(e),o){if((p=t.length)!==e.length)return!1;for(;p--;)if(!ot(t[p],e[p],i,r))return!1}else{var u,h=et(t);if(p=h.length,et(e).length!==p)return!1;for(;p--;)if(!L(e,u=h[p])||!ot(t[u],e[u],i,r))return!1}return i.pop(),r.pop(),!0}function ct(t){if(!C(t))return[];var e=[];for(var i in t)e.push(i);return y&&tt(t,e),e}function lt(t){var e=Q(t);return function(i){if(null==i)return!1;var r=ct(i);if(Q(r))return!1;for(var n=0;n<e;n++)if(!W(i[t[n]]))return!1;return t!==gt||!W(i[pt])}}var pt="forEach",ut=["clear","delete"],ht=["get","has","set"],dt=ut.concat(pt,ht),gt=ut.concat(ht),mt=["add"].concat(ut,pt,"has"),ft=U?lt(dt):j("Map"),bt=U?lt(gt):j("WeakMap"),yt=U?lt(mt):j("Set"),vt=j("WeakSet");function wt(t){for(var e=et(t),i=e.length,r=Array(i),n=0;n<i;n++)r[n]=t[e[n]];return r}function _t(t){for(var e={},i=et(t),r=0,n=i.length;r<n;r++)e[t[i[r]]]=i[r];return e}function Ct(t){var e=[];for(var i in t)W(t[i])&&e.push(i);return e.sort()}function xt(t,e){return function(i){var r=arguments.length;if(e&&(i=Object(i)),r<2||null==i)return i;for(var n=1;n<r;n++)for(var a=arguments[n],o=t(a),s=o.length,c=0;c<s;c++){var l=o[c];e&&void 0!==i[l]||(i[l]=a[l])}return i}}var kt=xt(ct),jt=xt(et),It=xt(ct,!0);function St(t){if(!C(t))return{};if(g)return g(t);var e=function(){};e.prototype=t;var i=new e;return e.prototype=null,i}function Pt(t){return V(t)?t:[t]}function Tt(t){return rt.toPath(t)}function Rt(t,e){for(var i=e.length,r=0;r<i;r++){if(null==t)return;t=t[e[r]]}return i?t:void 0}function Mt(t,e,i){var r=Rt(t,Tt(e));return x(r)?i:r}function At(t){return t}function Et(t){return t=jt({},t),function(e){return it(e,t)}}function Ot(t){return t=Tt(t),function(e){return Rt(e,t)}}function Wt(t,e,i){if(void 0===e)return t;switch(null==i?3:i){case 1:return function(i){return t.call(e,i)};case 3:return function(i,r,n){return t.call(e,i,r,n)};case 4:return function(i,r,n,a){return t.call(e,i,r,n,a)}}return function(){return t.apply(e,arguments)}}function Dt(t,e,i){return null==t?At:W(t)?Wt(t,e,i):C(t)&&!V(t)?Et(t):Ot(t)}function Nt(t,e){return Dt(t,e,1/0)}function Ut(t,e,i){return rt.iteratee!==Nt?rt.iteratee(t,e):Dt(t,e,i)}function Bt(){}function zt(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}rt.toPath=Pt,rt.iteratee=Nt;var Vt=Date.now||function(){return(new Date).getTime()};function Lt(t){var e=function(e){return t[e]},i="(?:"+et(t).join("|")+")",r=RegExp(i),n=RegExp(i,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(n,e):t}}var Ft={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Ht=Lt(Ft),qt=Lt(_t(Ft)),Zt=rt.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},$t=/(.)^/,Yt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Xt=/\\|'|\r|\n|\u2028|\u2029/g;function Gt(t){return"\\"+Yt[t]}var Jt=/^\s*(\w|\$)+\s*$/;var Kt=0;function Qt(t,e,i,r,n){if(!(r instanceof e))return t.apply(i,n);var a=St(t.prototype),o=t.apply(a,n);return C(o)?o:a}var te=_((function(t,e){var i=te.placeholder,r=function(){for(var n=0,a=e.length,o=Array(a),s=0;s<a;s++)o[s]=e[s]===i?arguments[n++]:e[s];for(;n<arguments.length;)o.push(arguments[n++]);return Qt(t,r,this,this,o)};return r}));te.placeholder=rt;var ee=_((function(t,e,i){if(!W(t))throw new TypeError("Bind must be called on a function");var r=_((function(n){return Qt(t,r,e,this,i.concat(n))}));return r})),ie=$(Q);function re(t,e,i,r){if(r=r||[],e||0===e){if(e<=0)return r.concat(t)}else e=1/0;for(var n=r.length,a=0,o=Q(t);a<o;a++){var s=t[a];if(ie(s)&&(V(s)||H(s)))if(e>1)re(s,e-1,i,r),n=r.length;else for(var c=0,l=s.length;c<l;)r[n++]=s[c++];else i||(r[n++]=s)}return r}var ne=_((function(t,e){var i=(e=re(e,!1,!1)).length;if(i<1)throw new Error("bindAll must be passed function names");for(;i--;){var r=e[i];t[r]=ee(t[r],t)}return t}));var ae=_((function(t,e,i){return setTimeout((function(){return t.apply(null,i)}),e)})),oe=te(ae,rt,1);function se(t){return function(){return!t.apply(this,arguments)}}function ce(t,e){var i;return function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=null),i}}var le=te(ce,2);function pe(t,e,i){e=Ut(e,i);for(var r,n=et(t),a=0,o=n.length;a<o;a++)if(e(t[r=n[a]],r,t))return r}function ue(t){return function(e,i,r){i=Ut(i,r);for(var n=Q(e),a=t>0?0:n-1;a>=0&&a<n;a+=t)if(i(e[a],a,e))return a;return-1}}var he=ue(1),de=ue(-1);function ge(t,e,i,r){for(var n=(i=Ut(i,r,1))(e),a=0,o=Q(t);a<o;){var s=Math.floor((a+o)/2);i(t[s])<n?a=s+1:o=s}return a}function me(t,e,i){return function(r,n,a){var o=0,c=Q(r);if("number"==typeof a)t>0?o=a>=0?a:Math.max(a+c,o):c=a>=0?Math.min(a+1,c):a+c+1;else if(i&&a&&c)return r[a=i(r,n)]===n?a:-1;if(n!=n)return(a=e(s.call(r,o,c),q))>=0?a+o:-1;for(a=t>0?o:c-1;a>=0&&a<c;a+=t)if(r[a]===n)return a;return-1}}var fe=me(1,he,ge),be=me(-1,de);function ye(t,e,i){var r=(ie(t)?he:pe)(t,e,i);if(void 0!==r&&-1!==r)return t[r]}function ve(t,e,i){var r,n;if(e=Wt(e,i),ie(t))for(r=0,n=t.length;r<n;r++)e(t[r],r,t);else{var a=et(t);for(r=0,n=a.length;r<n;r++)e(t[a[r]],a[r],t)}return t}function we(t,e,i){e=Ut(e,i);for(var r=!ie(t)&&et(t),n=(r||t).length,a=Array(n),o=0;o<n;o++){var s=r?r[o]:o;a[o]=e(t[s],s,t)}return a}function _e(t){var e=function(e,i,r,n){var a=!ie(e)&&et(e),o=(a||e).length,s=t>0?0:o-1;for(n||(r=e[a?a[s]:s],s+=t);s>=0&&s<o;s+=t){var c=a?a[s]:s;r=i(r,e[c],c,e)}return r};return function(t,i,r,n){var a=arguments.length>=3;return e(t,Wt(i,n,4),r,a)}}var Ce=_e(1),xe=_e(-1);function ke(t,e,i){var r=[];return e=Ut(e,i),ve(t,(function(t,i,n){e(t,i,n)&&r.push(t)})),r}function je(t,e,i){e=Ut(e,i);for(var r=!ie(t)&&et(t),n=(r||t).length,a=0;a<n;a++){var o=r?r[a]:a;if(!e(t[o],o,t))return!1}return!0}function Ie(t,e,i){e=Ut(e,i);for(var r=!ie(t)&&et(t),n=(r||t).length,a=0;a<n;a++){var o=r?r[a]:a;if(e(t[o],o,t))return!0}return!1}function Se(t,e,i,r){return ie(t)||(t=wt(t)),("number"!=typeof i||r)&&(i=0),fe(t,e,i)>=0}var Pe=_((function(t,e,i){var r,n;return W(e)?n=e:(e=Tt(e),r=e.slice(0,-1),e=e[e.length-1]),we(t,(function(t){var a=n;if(!a){if(r&&r.length&&(t=Rt(t,r)),null==t)return;a=t[e]}return null==a?a:a.apply(t,i)}))}));function Te(t,e){return we(t,Ot(e))}function Re(t,e,i){var r,n,a=-1/0,o=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var s=0,c=(t=ie(t)?t:wt(t)).length;s<c;s++)null!=(r=t[s])&&r>a&&(a=r);else e=Ut(e,i),ve(t,(function(t,i,r){((n=e(t,i,r))>o||n===-1/0&&a===-1/0)&&(a=t,o=n)}));return a}var Me=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Ae(t){return t?V(t)?s.call(t):I(t)?t.match(Me):ie(t)?we(t,At):wt(t):[]}function Ee(t,e,i){if(null==e||i)return ie(t)||(t=wt(t)),t[zt(t.length-1)];var r=Ae(t),n=Q(r);e=Math.max(Math.min(e,n),0);for(var a=n-1,o=0;o<e;o++){var s=zt(o,a),c=r[o];r[o]=r[s],r[s]=c}return r.slice(0,e)}function Oe(t,e){return function(i,r,n){var a=e?[[],[]]:{};return r=Ut(r,n),ve(i,(function(e,n){var o=r(e,n,i);t(a,e,o)})),a}}var We=Oe((function(t,e,i){L(t,i)?t[i].push(e):t[i]=[e]})),De=Oe((function(t,e,i){t[i]=e})),Ne=Oe((function(t,e,i){L(t,i)?t[i]++:t[i]=1})),Ue=Oe((function(t,e,i){t[i?0:1].push(e)}),!0);function Be(t,e,i){return e in i}var ze=_((function(t,e){var i={},r=e[0];if(null==t)return i;W(r)?(e.length>1&&(r=Wt(r,e[1])),e=ct(t)):(r=Be,e=re(e,!1,!1),t=Object(t));for(var n=0,a=e.length;n<a;n++){var o=e[n],s=t[o];r(s,o,t)&&(i[o]=s)}return i})),Ve=_((function(t,e){var i,r=e[0];return W(r)?(r=se(r),e.length>1&&(i=e[1])):(e=we(re(e,!1,!1),String),r=function(t,i){return!Se(e,i)}),ze(t,r,i)}));function Le(t,e,i){return s.call(t,0,Math.max(0,t.length-(null==e||i?1:e)))}function Fe(t,e,i){return null==t||t.length<1?null==e||i?void 0:[]:null==e||i?t[0]:Le(t,t.length-e)}function He(t,e,i){return s.call(t,null==e||i?1:e)}var qe=_((function(t,e){return e=re(e,!0,!0),ke(t,(function(t){return!Se(e,t)}))})),Ze=_((function(t,e){return qe(t,e)}));function $e(t,e,i,r){k(e)||(r=i,i=e,e=!1),null!=i&&(i=Ut(i,r));for(var n=[],a=[],o=0,s=Q(t);o<s;o++){var c=t[o],l=i?i(c,o,t):c;e&&!i?(o&&a===l||n.push(c),a=l):i?Se(a,l)||(a.push(l),n.push(c)):Se(n,c)||n.push(c)}return n}var Ye=_((function(t){return $e(re(t,!0,!0))}));function Xe(t){for(var e=t&&Re(t,Q).length||0,i=Array(e),r=0;r<e;r++)i[r]=Te(t,r);return i}var Ge=_(Xe);function Je(t,e){return t._chain?rt(e).chain():e}function Ke(t){return ve(Ct(t),(function(e){var i=rt[e]=t[e];rt.prototype[e]=function(){var t=[this._wrapped];return o.apply(t,arguments),Je(this,i.apply(rt,t))}})),rt}ve(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=r[t];rt.prototype[t]=function(){var i=this._wrapped;return null!=i&&(e.apply(i,arguments),"shift"!==t&&"splice"!==t||0!==i.length||delete i[0]),Je(this,i)}})),ve(["concat","join","slice"],(function(t){var e=r[t];rt.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),Je(this,t)}}));var Qe=Ke({__proto__:null,VERSION:t,restArguments:_,isObject:C,isNull:function(t){return null===t},isUndefined:x,isBoolean:k,isElement:function(t){return!(!t||1!==t.nodeType)},isString:I,isNumber:S,isDate:P,isRegExp:T,isError:R,isSymbol:M,isArrayBuffer:A,isDataView:z,isArray:V,isFunction:W,isArguments:H,isFinite:function(t){return!M(t)&&b(t)&&!isNaN(parseFloat(t))},isNaN:q,isTypedArray:K,isEmpty:function(t){if(null==t)return!0;var e=Q(t);return"number"==typeof e&&(V(t)||I(t)||H(t))?0===e:0===Q(et(t))},isMatch:it,isEqual:function(t,e){return ot(t,e)},isMap:ft,isWeakMap:bt,isSet:yt,isWeakSet:vt,keys:et,allKeys:ct,values:wt,pairs:function(t){for(var e=et(t),i=e.length,r=Array(i),n=0;n<i;n++)r[n]=[e[n],t[e[n]]];return r},invert:_t,functions:Ct,methods:Ct,extend:kt,extendOwn:jt,assign:jt,defaults:It,create:function(t,e){var i=St(t);return e&&jt(i,e),i},clone:function(t){return C(t)?V(t)?t.slice():kt({},t):t},tap:function(t,e){return e(t),t},get:Mt,has:function(t,e){for(var i=(e=Tt(e)).length,r=0;r<i;r++){var n=e[r];if(!L(t,n))return!1;t=t[n]}return!!i},mapObject:function(t,e,i){e=Ut(e,i);for(var r=et(t),n=r.length,a={},o=0;o<n;o++){var s=r[o];a[s]=e(t[s],s,t)}return a},identity:At,constant:Z,noop:Bt,toPath:Pt,property:Ot,propertyOf:function(t){return null==t?Bt:function(e){return Mt(t,e)}},matcher:Et,matches:Et,times:function(t,e,i){var r=Array(Math.max(0,t));e=Wt(e,i,1);for(var n=0;n<t;n++)r[n]=e(n);return r},random:zt,now:Vt,escape:Ht,unescape:qt,templateSettings:Zt,template:function(t,e,i){!e&&i&&(e=i),e=It({},e,rt.templateSettings);var r=RegExp([(e.escape||$t).source,(e.interpolate||$t).source,(e.evaluate||$t).source].join("|")+"|$","g"),n=0,a="__p+='";t.replace(r,(function(e,i,r,o,s){return a+=t.slice(n,s).replace(Xt,Gt),n=s+e.length,i?a+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(a+="';\n"+o+"\n__p+='"),e})),a+="';\n";var o,s=e.variable;if(s){if(!Jt.test(s))throw new Error("variable is not a bare identifier: "+s)}else a="with(obj||{}){\n"+a+"}\n",s="obj";a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{o=new Function(s,"_",a)}catch(t){throw t.source=a,t}var c=function(t){return o.call(this,t,rt)};return c.source="function("+s+"){\n"+a+"}",c},result:function(t,e,i){var r=(e=Tt(e)).length;if(!r)return W(i)?i.call(t):i;for(var n=0;n<r;n++){var a=null==t?void 0:t[e[n]];void 0===a&&(a=i,n=r),t=W(a)?a.call(t):a}return t},uniqueId:function(t){var e=++Kt+"";return t?t+e:e},chain:function(t){var e=rt(t);return e._chain=!0,e},iteratee:Nt,partial:te,bind:ee,bindAll:ne,memoize:function(t,e){var i=function(r){var n=i.cache,a=""+(e?e.apply(this,arguments):r);return L(n,a)||(n[a]=t.apply(this,arguments)),n[a]};return i.cache={},i},delay:ae,defer:oe,throttle:function(t,e,i){var r,n,a,o,s=0;i||(i={});var c=function(){s=!1===i.leading?0:Vt(),r=null,o=t.apply(n,a),r||(n=a=null)},l=function(){var l=Vt();s||!1!==i.leading||(s=l);var p=e-(l-s);return n=this,a=arguments,p<=0||p>e?(r&&(clearTimeout(r),r=null),s=l,o=t.apply(n,a),r||(n=a=null)):r||!1===i.trailing||(r=setTimeout(c,p)),o};return l.cancel=function(){clearTimeout(r),s=0,r=n=a=null},l},debounce:function(t,e,i){var r,n,a,o,s,c=function(){var l=Vt()-n;e>l?r=setTimeout(c,e-l):(r=null,i||(o=t.apply(s,a)),r||(a=s=null))},l=_((function(l){return s=this,a=l,n=Vt(),r||(r=setTimeout(c,e),i&&(o=t.apply(s,a))),o}));return l.cancel=function(){clearTimeout(r),r=a=s=null},l},wrap:function(t,e){return te(e,t)},negate:se,compose:function(){var t=arguments,e=t.length-1;return function(){for(var i=e,r=t[e].apply(this,arguments);i--;)r=t[i].call(this,r);return r}},after:function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},before:ce,once:le,findKey:pe,findIndex:he,findLastIndex:de,sortedIndex:ge,indexOf:fe,lastIndexOf:be,find:ye,detect:ye,findWhere:function(t,e){return ye(t,Et(e))},each:ve,forEach:ve,map:we,collect:we,reduce:Ce,foldl:Ce,inject:Ce,reduceRight:xe,foldr:xe,filter:ke,select:ke,reject:function(t,e,i){return ke(t,se(Ut(e)),i)},every:je,all:je,some:Ie,any:Ie,contains:Se,includes:Se,include:Se,invoke:Pe,pluck:Te,where:function(t,e){return ke(t,Et(e))},max:Re,min:function(t,e,i){var r,n,a=1/0,o=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var s=0,c=(t=ie(t)?t:wt(t)).length;s<c;s++)null!=(r=t[s])&&r<a&&(a=r);else e=Ut(e,i),ve(t,(function(t,i,r){((n=e(t,i,r))<o||n===1/0&&a===1/0)&&(a=t,o=n)}));return a},shuffle:function(t){return Ee(t,1/0)},sample:Ee,sortBy:function(t,e,i){var r=0;return e=Ut(e,i),Te(we(t,(function(t,i,n){return{value:t,index:r++,criteria:e(t,i,n)}})).sort((function(t,e){var i=t.criteria,r=e.criteria;if(i!==r){if(i>r||void 0===i)return 1;if(i<r||void 0===r)return-1}return t.index-e.index})),"value")},groupBy:We,indexBy:De,countBy:Ne,partition:Ue,toArray:Ae,size:function(t){return null==t?0:ie(t)?t.length:et(t).length},pick:ze,omit:Ve,first:Fe,head:Fe,take:Fe,initial:Le,last:function(t,e,i){return null==t||t.length<1?null==e||i?void 0:[]:null==e||i?t[t.length-1]:He(t,Math.max(0,t.length-e))},rest:He,tail:He,drop:He,compact:function(t){return ke(t,Boolean)},flatten:function(t,e){return re(t,e,!1)},without:Ze,uniq:$e,unique:$e,union:Ye,intersection:function(t){for(var e=[],i=arguments.length,r=0,n=Q(t);r<n;r++){var a=t[r];if(!Se(e,a)){var o;for(o=1;o<i&&Se(arguments[o],a);o++);o===i&&e.push(a)}}return e},difference:qe,unzip:Xe,transpose:Xe,zip:Ge,object:function(t,e){for(var i={},r=0,n=Q(t);r<n;r++)e?i[t[r]]=e[r]:i[t[r][0]]=t[r][1];return i},range:function(t,e,i){null==e&&(e=t||0,t=0),i||(i=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/i),0),n=Array(r),a=0;a<r;a++,t+=i)n[a]=t;return n},chunk:function(t,e){if(null==e||e<1)return[];for(var i=[],r=0,n=t.length;r<n;)i.push(s.call(t,r,r+=e));return i},mixin:Ke,default:rt});return Qe._=Qe,Qe}()}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var i=__webpack_module_cache__[t]={id:t,exports:{}};return __webpack_modules__[t].call(i.exports,i,i.exports,__webpack_require__),i.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.amdO={},__webpack_require__.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=function(t,e){for(var i in e)__webpack_require__.o(e,i)&&!__webpack_require__.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="https://prod.purechatcdn.com/assets/",__webpack_require__.b=document.baseURI||self.location.href,__webpack_require__(9939);var __webpack_exports__=__webpack_require__(2183)})();